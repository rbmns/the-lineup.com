var GR=Object.defineProperty;var fb=e=>{throw TypeError(e)};var KR=(e,t,r)=>t in e?GR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ws=(e,t,r)=>KR(e,typeof t!="symbol"?t+"":t,r),Dp=(e,t,r)=>t.has(e)||fb("Cannot "+r);var F=(e,t,r)=>(Dp(e,t,"read from private field"),r?r.call(e):t.get(e)),Fe=(e,t,r)=>t.has(e)?fb("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ce=(e,t,r,n)=>(Dp(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Je=(e,t,r)=>(Dp(e,t,"access private method"),r);var Jd=(e,t,r,n)=>({set _(a){Ce(e,t,a,r)},get _(){return F(e,t,n)}});function QR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();function so(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZR(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Ip={exports:{}},Dc={},Lp={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function JR(){if(hb)return tt;hb=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=p&&L[p]||L["@@iterator"],typeof L=="function"?L:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function b(L,O,ie){this.props=L,this.context=O,this.refs=_,this.updater=ie||y}b.prototype.isReactComponent={},b.prototype.setState=function(L,O){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,O,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=b.prototype;function k(L,O,ie){this.props=L,this.context=O,this.refs=_,this.updater=ie||y}var C=k.prototype=new S;C.constructor=k,N(C,b.prototype),C.isPureReactComponent=!0;var P=Array.isArray,T=Object.prototype.hasOwnProperty,R={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function D(L,O,ie){var ce,ue={},xe=null,ne=null;if(O!=null)for(ce in O.ref!==void 0&&(ne=O.ref),O.key!==void 0&&(xe=""+O.key),O)T.call(O,ce)&&!M.hasOwnProperty(ce)&&(ue[ce]=O[ce]);var be=arguments.length-2;if(be===1)ue.children=ie;else if(1<be){for(var _e=Array(be),Le=0;Le<be;Le++)_e[Le]=arguments[Le+2];ue.children=_e}if(L&&L.defaultProps)for(ce in be=L.defaultProps,be)ue[ce]===void 0&&(ue[ce]=be[ce]);return{$$typeof:e,type:L,key:xe,ref:ne,props:ue,_owner:R.current}}function W(L,O){return{$$typeof:e,type:L.type,key:O,ref:L.ref,props:L.props,_owner:L._owner}}function B(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function Z(L){var O={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ie){return O[ie]})}var V=/\/+/g;function K(L,O){return typeof L=="object"&&L!==null&&L.key!=null?Z(""+L.key):O.toString(36)}function H(L,O,ie,ce,ue){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var ne=!1;if(L===null)ne=!0;else switch(xe){case"string":case"number":ne=!0;break;case"object":switch(L.$$typeof){case e:case t:ne=!0}}if(ne)return ne=L,ue=ue(ne),L=ce===""?"."+K(ne,0):ce,P(ue)?(ie="",L!=null&&(ie=L.replace(V,"$&/")+"/"),H(ue,O,ie,"",function(Le){return Le})):ue!=null&&(B(ue)&&(ue=W(ue,ie+(!ue.key||ne&&ne.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+L)),O.push(ue)),1;if(ne=0,ce=ce===""?".":ce+":",P(L))for(var be=0;be<L.length;be++){xe=L[be];var _e=ce+K(xe,be);ne+=H(xe,O,ie,_e,ue)}else if(_e=v(L),typeof _e=="function")for(L=_e.call(L),be=0;!(xe=L.next()).done;)xe=xe.value,_e=ce+K(xe,be++),ne+=H(xe,O,ie,_e,ue);else if(xe==="object")throw O=String(L),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return ne}function me(L,O,ie){if(L==null)return L;var ce=[],ue=0;return H(L,ce,"","",function(xe){return O.call(ie,xe,ue++)}),ce}function le(L){if(L._status===-1){var O=L._result;O=O(),O.then(function(ie){(L._status===0||L._status===-1)&&(L._status=1,L._result=ie)},function(ie){(L._status===0||L._status===-1)&&(L._status=2,L._result=ie)}),L._status===-1&&(L._status=0,L._result=O)}if(L._status===1)return L._result.default;throw L._result}var X={current:null},U={transition:null},q={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:U,ReactCurrentOwner:R};function se(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:me,forEach:function(L,O,ie){me(L,function(){O.apply(this,arguments)},ie)},count:function(L){var O=0;return me(L,function(){O++}),O},toArray:function(L){return me(L,function(O){return O})||[]},only:function(L){if(!B(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},tt.Component=b,tt.Fragment=r,tt.Profiler=a,tt.PureComponent=k,tt.StrictMode=n,tt.Suspense=d,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,tt.act=se,tt.cloneElement=function(L,O,ie){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var ce=N({},L.props),ue=L.key,xe=L.ref,ne=L._owner;if(O!=null){if(O.ref!==void 0&&(xe=O.ref,ne=R.current),O.key!==void 0&&(ue=""+O.key),L.type&&L.type.defaultProps)var be=L.type.defaultProps;for(_e in O)T.call(O,_e)&&!M.hasOwnProperty(_e)&&(ce[_e]=O[_e]===void 0&&be!==void 0?be[_e]:O[_e])}var _e=arguments.length-2;if(_e===1)ce.children=ie;else if(1<_e){be=Array(_e);for(var Le=0;Le<_e;Le++)be[Le]=arguments[Le+2];ce.children=be}return{$$typeof:e,type:L.type,key:ue,ref:xe,props:ce,_owner:ne}},tt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:o,_context:L},L.Consumer=L},tt.createElement=D,tt.createFactory=function(L){var O=D.bind(null,L);return O.type=L,O},tt.createRef=function(){return{current:null}},tt.forwardRef=function(L){return{$$typeof:u,render:L}},tt.isValidElement=B,tt.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:le}},tt.memo=function(L,O){return{$$typeof:h,type:L,compare:O===void 0?null:O}},tt.startTransition=function(L){var O=U.transition;U.transition={};try{L()}finally{U.transition=O}},tt.unstable_act=se,tt.useCallback=function(L,O){return X.current.useCallback(L,O)},tt.useContext=function(L){return X.current.useContext(L)},tt.useDebugValue=function(){},tt.useDeferredValue=function(L){return X.current.useDeferredValue(L)},tt.useEffect=function(L,O){return X.current.useEffect(L,O)},tt.useId=function(){return X.current.useId()},tt.useImperativeHandle=function(L,O,ie){return X.current.useImperativeHandle(L,O,ie)},tt.useInsertionEffect=function(L,O){return X.current.useInsertionEffect(L,O)},tt.useLayoutEffect=function(L,O){return X.current.useLayoutEffect(L,O)},tt.useMemo=function(L,O){return X.current.useMemo(L,O)},tt.useReducer=function(L,O,ie){return X.current.useReducer(L,O,ie)},tt.useRef=function(L){return X.current.useRef(L)},tt.useState=function(L){return X.current.useState(L)},tt.useSyncExternalStore=function(L,O,ie){return X.current.useSyncExternalStore(L,O,ie)},tt.useTransition=function(){return X.current.useTransition()},tt.version="18.3.1",tt}var mb;function ah(){return mb||(mb=1,Lp.exports=JR()),Lp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function XR(){if(pb)return Dc;pb=1;var e=ah(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,d,h){var m,p={},v=null,y=null;h!==void 0&&(v=""+h),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(y=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(p[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)p[m]===void 0&&(p[m]=d[m]);return{$$typeof:t,type:u,key:v,ref:y,props:p,_owner:a.current}}return Dc.Fragment=r,Dc.jsx=c,Dc.jsxs=c,Dc}var gb;function e4(){return gb||(gb=1,Ip.exports=XR()),Ip.exports}var s=e4(),x=ah();const te=so(x),Zv=QR({__proto__:null,default:te},[x]);var Xd={},Fp={exports:{}},Gr={},$p={exports:{}},Up={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function t4(){return vb||(vb=1,function(e){function t(U,q){var se=U.length;U.push(q);e:for(;0<se;){var L=se-1>>>1,O=U[L];if(0<a(O,q))U[L]=q,U[se]=O,se=L;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var q=U[0],se=U.pop();if(se!==q){U[0]=se;e:for(var L=0,O=U.length,ie=O>>>1;L<ie;){var ce=2*(L+1)-1,ue=U[ce],xe=ce+1,ne=U[xe];if(0>a(ue,se))xe<O&&0>a(ne,ue)?(U[L]=ne,U[xe]=se,L=xe):(U[L]=ue,U[ce]=se,L=ce);else if(xe<O&&0>a(ne,se))U[L]=ne,U[xe]=se,L=xe;else break e}}return q}function a(U,q){var se=U.sortIndex-q.sortIndex;return se!==0?se:U.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],h=[],m=1,p=null,v=3,y=!1,N=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(U){for(var q=r(h);q!==null;){if(q.callback===null)n(h);else if(q.startTime<=U)n(h),q.sortIndex=q.expirationTime,t(d,q);else break;q=r(h)}}function P(U){if(_=!1,C(U),!N)if(r(d)!==null)N=!0,le(T);else{var q=r(h);q!==null&&X(P,q.startTime-U)}}function T(U,q){N=!1,_&&(_=!1,S(D),D=-1),y=!0;var se=v;try{for(C(q),p=r(d);p!==null&&(!(p.expirationTime>q)||U&&!Z());){var L=p.callback;if(typeof L=="function"){p.callback=null,v=p.priorityLevel;var O=L(p.expirationTime<=q);q=e.unstable_now(),typeof O=="function"?p.callback=O:p===r(d)&&n(d),C(q)}else n(d);p=r(d)}if(p!==null)var ie=!0;else{var ce=r(h);ce!==null&&X(P,ce.startTime-q),ie=!1}return ie}finally{p=null,v=se,y=!1}}var R=!1,M=null,D=-1,W=5,B=-1;function Z(){return!(e.unstable_now()-B<W)}function V(){if(M!==null){var U=e.unstable_now();B=U;var q=!0;try{q=M(!0,U)}finally{q?K():(R=!1,M=null)}}else R=!1}var K;if(typeof k=="function")K=function(){k(V)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,me=H.port2;H.port1.onmessage=V,K=function(){me.postMessage(null)}}else K=function(){b(V,0)};function le(U){M=U,R||(R=!0,K())}function X(U,q){D=b(function(){U(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){N||y||(N=!0,le(T))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var se=v;v=q;try{return U()}finally{v=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=v;v=U;try{return q()}finally{v=se}},e.unstable_scheduleCallback=function(U,q,se){var L=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,U){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=se+O,U={id:m++,callback:q,priorityLevel:U,startTime:se,expirationTime:O,sortIndex:-1},se>L?(U.sortIndex=se,t(h,U),r(d)===null&&U===r(h)&&(_?(S(D),D=-1):_=!0,X(P,se-L))):(U.sortIndex=O,t(d,U),N||y||(N=!0,le(T))),U},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(U){var q=v;return function(){var se=v;v=q;try{return U.apply(this,arguments)}finally{v=se}}}}(Up)),Up}var xb;function r4(){return xb||(xb=1,$p.exports=t4()),$p.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb;function n4(){if(yb)return Gr;yb=1;var e=ah(),t=r4();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function v(i){return d.call(p,i)?!0:d.call(m,i)?!1:h.test(i)?p[i]=!0:(m[i]=!0,!1)}function y(i,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,l,f,g){if(l===null||typeof l>"u"||y(i,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function _(i,l,f,g,w,j,E){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=f,this.propertyName=i,this.type=l,this.sanitizeURL=j,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];b[l]=new _(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(S,k);b[l]=new _(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(S,k);b[l]=new _(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(S,k);b[l]=new _(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function C(i,l,f,g){var w=b.hasOwnProperty(l)?b[l]:null;(w!==null?w.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,f,w,g)&&(f=null),g||w===null?v(l)&&(f===null?i.removeAttribute(l):i.setAttribute(l,""+f)):w.mustUseProperty?i[w.propertyName]=f===null?w.type===3?!1:"":f:(l=w.attributeName,g=w.attributeNamespace,f===null?i.removeAttribute(l):(w=w.type,f=w===3||w===4&&f===!0?"":""+f,g?i.setAttributeNS(g,l,f):i.setAttribute(l,f))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),Z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),U=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,L;function O(i){if(L===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);L=l&&l[1]||""}return`
`+L+i}var ie=!1;function ce(i,l){if(!i||ie)return"";ie=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(J){var g=J}Reflect.construct(i,[],l)}else{try{l.call()}catch(J){g=J}i.call(l.prototype)}else{try{throw Error()}catch(J){g=J}i()}}catch(J){if(J&&g&&typeof J.stack=="string"){for(var w=J.stack.split(`
`),j=g.stack.split(`
`),E=w.length-1,A=j.length-1;1<=E&&0<=A&&w[E]!==j[A];)A--;for(;1<=E&&0<=A;E--,A--)if(w[E]!==j[A]){if(E!==1||A!==1)do if(E--,A--,0>A||w[E]!==j[A]){var $=`
`+w[E].replace(" at new "," at ");return i.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",i.displayName)),$}while(1<=E&&0<=A);break}}}finally{ie=!1,Error.prepareStackTrace=f}return(i=i?i.displayName||i.name:"")?O(i):""}function ue(i){switch(i.tag){case 5:return O(i.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return i=ce(i.type,!1),i;case 11:return i=ce(i.type.render,!1),i;case 1:return i=ce(i.type,!0),i;default:return""}}function xe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case M:return"Fragment";case R:return"Portal";case W:return"Profiler";case D:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Z:return(i.displayName||"Context")+".Consumer";case B:return(i._context.displayName||"Context")+".Provider";case V:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case me:return l=i.displayName||null,l!==null?l:xe(i.type)||"Memo";case le:l=i._payload,i=i._init;try{return xe(i(l))}catch{}}return null}function ne(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(l);case 8:return l===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function be(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function _e(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Le(i){var l=_e(i)?"checked":"value",f=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),g=""+i[l];if(!i.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var w=f.get,j=f.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(E){g=""+E,j.call(this,E)}}),Object.defineProperty(i,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(E){g=""+E},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ke(i){i._valueTracker||(i._valueTracker=Le(i))}function et(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return i&&(g=_e(i)?i.checked?"true":"false":i.value),i=g,i!==f?(l.setValue(i),!0):!1}function It(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Jt(i,l){var f=l.checked;return se({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??i._wrapperState.initialChecked})}function un(i,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=be(l.value!=null?l.value:f),i._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function dn(i,l){l=l.checked,l!=null&&C(i,"checked",l,!1)}function fn(i,l){dn(i,l);var f=be(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+f):i.value!==""+f&&(i.value=""+f);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?hn(i,l.type,f):l.hasOwnProperty("defaultValue")&&hn(i,l.type,be(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Ls(i,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,f||l===i.value||(i.value=l),i.defaultValue=l}f=i.name,f!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,f!==""&&(i.name=f)}function hn(i,l,f){(l!=="number"||It(i.ownerDocument)!==i)&&(f==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+f&&(i.defaultValue=""+f))}var I=Array.isArray;function G(i,l,f,g){if(i=i.options,l){l={};for(var w=0;w<f.length;w++)l["$"+f[w]]=!0;for(f=0;f<i.length;f++)w=l.hasOwnProperty("$"+i[f].value),i[f].selected!==w&&(i[f].selected=w),w&&g&&(i[f].defaultSelected=!0)}else{for(f=""+be(f),l=null,w=0;w<i.length;w++){if(i[w].value===f){i[w].selected=!0,g&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function oe(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function we(i,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(r(92));if(I(f)){if(1<f.length)throw Error(r(93));f=f[0]}l=f}l==null&&(l=""),f=l}i._wrapperState={initialValue:be(f)}}function ye(i,l){var f=be(l.value),g=be(l.defaultValue);f!=null&&(f=""+f,f!==i.value&&(i.value=f),l.defaultValue==null&&i.defaultValue!==f&&(i.defaultValue=f)),g!=null&&(i.defaultValue=""+g)}function ge(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Se(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Se(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var lt,hr=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,w){MSApp.execUnsafeLocalFunction(function(){return i(l,f,g,w)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(lt=lt||document.createElement("div"),lt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=lt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Cr(i,l){if(l){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=l;return}}i.textContent=l}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fo=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(i){fo.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),yr[l]=yr[i]})});function fs(i,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||yr.hasOwnProperty(i)&&yr[i]?(""+l).trim():l+"px"}function mn(i,l){i=i.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,w=fs(f,l[f],g);f==="float"&&(f="cssFloat"),g?i.setProperty(f,w):i[f]=w}}var ho=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pn(i,l){if(l){if(ho[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function gi(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fa=null;function mo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var po=null,ha=null,hs=null;function Fn(i){if(i=wc(i)){if(typeof po!="function")throw Error(r(280));var l=i.stateNode;l&&(l=hd(l),po(i.stateNode,i.type,l))}}function qu(i){ha?hs?hs.push(i):hs=[i]:ha=i}function qe(){if(ha){var i=ha,l=hs;if(hs=ha=null,Fn(i),l)for(i=0;i<l.length;i++)Fn(l[i])}}function mt(i,l){return i(l)}function _t(){}var Er=!1;function zr(i,l,f){if(Er)return i(l,f);Er=!0;try{return mt(i,l,f)}finally{Er=!1,(ha!==null||hs!==null)&&(_t(),qe())}}function Br(i,l){var f=i.stateNode;if(f===null)return null;var g=hd(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var $n=!1;if(u)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){$n=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{$n=!1}function ms(i,l,f,g,w,j,E,A,$){var J=Array.prototype.slice.call(arguments,3);try{l.apply(f,J)}catch(fe){this.onError(fe)}}var tc=!1,Wu=null,Hu=!1,em=null,tT={onError:function(i){tc=!0,Wu=i}};function rT(i,l,f,g,w,j,E,A,$){tc=!1,Wu=null,ms.apply(tT,arguments)}function nT(i,l,f,g,w,j,E,A,$){if(rT.apply(this,arguments),tc){if(tc){var J=Wu;tc=!1,Wu=null}else throw Error(r(198));Hu||(Hu=!0,em=J)}}function vi(i){var l=i,f=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(f=l.return),i=l.return;while(i)}return l.tag===3?f:null}function Dy(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Iy(i){if(vi(i)!==i)throw Error(r(188))}function sT(i){var l=i.alternate;if(!l){if(l=vi(i),l===null)throw Error(r(188));return l!==i?null:i}for(var f=i,g=l;;){var w=f.return;if(w===null)break;var j=w.alternate;if(j===null){if(g=w.return,g!==null){f=g;continue}break}if(w.child===j.child){for(j=w.child;j;){if(j===f)return Iy(w),i;if(j===g)return Iy(w),l;j=j.sibling}throw Error(r(188))}if(f.return!==g.return)f=w,g=j;else{for(var E=!1,A=w.child;A;){if(A===f){E=!0,f=w,g=j;break}if(A===g){E=!0,g=w,f=j;break}A=A.sibling}if(!E){for(A=j.child;A;){if(A===f){E=!0,f=j,g=w;break}if(A===g){E=!0,g=j,f=w;break}A=A.sibling}if(!E)throw Error(r(189))}}if(f.alternate!==g)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:l}function Ly(i){return i=sT(i),i!==null?Fy(i):null}function Fy(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Fy(i);if(l!==null)return l;i=i.sibling}return null}var $y=t.unstable_scheduleCallback,Uy=t.unstable_cancelCallback,aT=t.unstable_shouldYield,iT=t.unstable_requestPaint,Vt=t.unstable_now,oT=t.unstable_getCurrentPriorityLevel,tm=t.unstable_ImmediatePriority,zy=t.unstable_UserBlockingPriority,Yu=t.unstable_NormalPriority,lT=t.unstable_LowPriority,By=t.unstable_IdlePriority,Gu=null,ps=null;function cT(i){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Gu,i,void 0,(i.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:fT,uT=Math.log,dT=Math.LN2;function fT(i){return i>>>=0,i===0?32:31-(uT(i)/dT|0)|0}var Ku=64,Qu=4194304;function rc(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Zu(i,l){var f=i.pendingLanes;if(f===0)return 0;var g=0,w=i.suspendedLanes,j=i.pingedLanes,E=f&268435455;if(E!==0){var A=E&~w;A!==0?g=rc(A):(j&=E,j!==0&&(g=rc(j)))}else E=f&~w,E!==0?g=rc(E):j!==0&&(g=rc(j));if(g===0)return 0;if(l!==0&&l!==g&&(l&w)===0&&(w=g&-g,j=l&-l,w>=j||w===16&&(j&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=g;0<l;)f=31-Un(l),w=1<<f,g|=i[f],l&=~w;return g}function hT(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mT(i,l){for(var f=i.suspendedLanes,g=i.pingedLanes,w=i.expirationTimes,j=i.pendingLanes;0<j;){var E=31-Un(j),A=1<<E,$=w[E];$===-1?((A&f)===0||(A&g)!==0)&&(w[E]=hT(A,l)):$<=l&&(i.expiredLanes|=A),j&=~A}}function rm(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Vy(){var i=Ku;return Ku<<=1,(Ku&4194240)===0&&(Ku=64),i}function nm(i){for(var l=[],f=0;31>f;f++)l.push(i);return l}function nc(i,l,f){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Un(l),i[l]=f}function pT(i,l){var f=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<f;){var w=31-Un(f),j=1<<w;l[w]=0,g[w]=-1,i[w]=-1,f&=~j}}function sm(i,l){var f=i.entangledLanes|=l;for(i=i.entanglements;f;){var g=31-Un(f),w=1<<g;w&l|i[g]&l&&(i[g]|=l),f&=~w}}var yt=0;function qy(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Wy,am,Hy,Yy,Gy,im=!1,Ju=[],ma=null,pa=null,ga=null,sc=new Map,ac=new Map,va=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ky(i,l){switch(i){case"focusin":case"focusout":ma=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":sc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":ac.delete(l.pointerId)}}function ic(i,l,f,g,w,j){return i===null||i.nativeEvent!==j?(i={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:j,targetContainers:[w]},l!==null&&(l=wc(l),l!==null&&am(l)),i):(i.eventSystemFlags|=g,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function vT(i,l,f,g,w){switch(l){case"focusin":return ma=ic(ma,i,l,f,g,w),!0;case"dragenter":return pa=ic(pa,i,l,f,g,w),!0;case"mouseover":return ga=ic(ga,i,l,f,g,w),!0;case"pointerover":var j=w.pointerId;return sc.set(j,ic(sc.get(j)||null,i,l,f,g,w)),!0;case"gotpointercapture":return j=w.pointerId,ac.set(j,ic(ac.get(j)||null,i,l,f,g,w)),!0}return!1}function Qy(i){var l=xi(i.target);if(l!==null){var f=vi(l);if(f!==null){if(l=f.tag,l===13){if(l=Dy(f),l!==null){i.blockedOn=l,Gy(i.priority,function(){Hy(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Xu(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var f=lm(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(f===null){f=i.nativeEvent;var g=new f.constructor(f.type,f);fa=g,f.target.dispatchEvent(g),fa=null}else return l=wc(f),l!==null&&am(l),i.blockedOn=f,!1;l.shift()}return!0}function Zy(i,l,f){Xu(i)&&f.delete(l)}function xT(){im=!1,ma!==null&&Xu(ma)&&(ma=null),pa!==null&&Xu(pa)&&(pa=null),ga!==null&&Xu(ga)&&(ga=null),sc.forEach(Zy),ac.forEach(Zy)}function oc(i,l){i.blockedOn===l&&(i.blockedOn=null,im||(im=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xT)))}function lc(i){function l(w){return oc(w,i)}if(0<Ju.length){oc(Ju[0],i);for(var f=1;f<Ju.length;f++){var g=Ju[f];g.blockedOn===i&&(g.blockedOn=null)}}for(ma!==null&&oc(ma,i),pa!==null&&oc(pa,i),ga!==null&&oc(ga,i),sc.forEach(l),ac.forEach(l),f=0;f<va.length;f++)g=va[f],g.blockedOn===i&&(g.blockedOn=null);for(;0<va.length&&(f=va[0],f.blockedOn===null);)Qy(f),f.blockedOn===null&&va.shift()}var go=P.ReactCurrentBatchConfig,ed=!0;function yT(i,l,f,g){var w=yt,j=go.transition;go.transition=null;try{yt=1,om(i,l,f,g)}finally{yt=w,go.transition=j}}function wT(i,l,f,g){var w=yt,j=go.transition;go.transition=null;try{yt=4,om(i,l,f,g)}finally{yt=w,go.transition=j}}function om(i,l,f,g){if(ed){var w=lm(i,l,f,g);if(w===null)Sm(i,l,g,td,f),Ky(i,g);else if(vT(w,i,l,f,g))g.stopPropagation();else if(Ky(i,g),l&4&&-1<gT.indexOf(i)){for(;w!==null;){var j=wc(w);if(j!==null&&Wy(j),j=lm(i,l,f,g),j===null&&Sm(i,l,g,td,f),j===w)break;w=j}w!==null&&g.stopPropagation()}else Sm(i,l,g,null,f)}}var td=null;function lm(i,l,f,g){if(td=null,i=mo(g),i=xi(i),i!==null)if(l=vi(i),l===null)i=null;else if(f=l.tag,f===13){if(i=Dy(l),i!==null)return i;i=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return td=i,null}function Jy(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oT()){case tm:return 1;case zy:return 4;case Yu:case lT:return 16;case By:return 536870912;default:return 16}default:return 16}}var xa=null,cm=null,rd=null;function Xy(){if(rd)return rd;var i,l=cm,f=l.length,g,w="value"in xa?xa.value:xa.textContent,j=w.length;for(i=0;i<f&&l[i]===w[i];i++);var E=f-i;for(g=1;g<=E&&l[f-g]===w[j-g];g++);return rd=w.slice(i,1<g?1-g:void 0)}function nd(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function sd(){return!0}function e0(){return!1}function gn(i){function l(f,g,w,j,E){this._reactName=f,this._targetInst=w,this.type=g,this.nativeEvent=j,this.target=E,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(f=i[A],this[A]=f?f(j):j[A]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?sd:e0,this.isPropagationStopped=e0,this}return se(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=sd)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=sd)},persist:function(){},isPersistent:sd}),l}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},um=gn(vo),cc=se({},vo,{view:0,detail:0}),bT=gn(cc),dm,fm,uc,ad=se({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==uc&&(uc&&i.type==="mousemove"?(dm=i.screenX-uc.screenX,fm=i.screenY-uc.screenY):fm=dm=0,uc=i),dm)},movementY:function(i){return"movementY"in i?i.movementY:fm}}),t0=gn(ad),_T=se({},ad,{dataTransfer:0}),jT=gn(_T),NT=se({},cc,{relatedTarget:0}),hm=gn(NT),ST=se({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=gn(ST),CT=se({},vo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ET=gn(CT),PT=se({},vo,{data:0}),r0=gn(PT),TT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OT(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=AT[i])?!!l[i]:!1}function mm(){return OT}var MT=se({},cc,{key:function(i){if(i.key){var l=TT[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=nd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?RT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mm,charCode:function(i){return i.type==="keypress"?nd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?nd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),DT=gn(MT),IT=se({},ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n0=gn(IT),LT=se({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mm}),FT=gn(LT),$T=se({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),UT=gn($T),zT=se({},ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),BT=gn(zT),VT=[9,13,27,32],pm=u&&"CompositionEvent"in window,dc=null;u&&"documentMode"in document&&(dc=document.documentMode);var qT=u&&"TextEvent"in window&&!dc,s0=u&&(!pm||dc&&8<dc&&11>=dc),a0=" ",i0=!1;function o0(i,l){switch(i){case"keyup":return VT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var xo=!1;function WT(i,l){switch(i){case"compositionend":return l0(l);case"keypress":return l.which!==32?null:(i0=!0,a0);case"textInput":return i=l.data,i===a0&&i0?null:i;default:return null}}function HT(i,l){if(xo)return i==="compositionend"||!pm&&o0(i,l)?(i=Xy(),rd=cm=xa=null,xo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return s0&&l.locale!=="ko"?null:l.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!YT[i.type]:l==="textarea"}function u0(i,l,f,g){qu(g),l=ud(l,"onChange"),0<l.length&&(f=new um("onChange","change",null,f,g),i.push({event:f,listeners:l}))}var fc=null,hc=null;function GT(i){E0(i,0)}function id(i){var l=jo(i);if(et(l))return i}function KT(i,l){if(i==="change")return l}var d0=!1;if(u){var gm;if(u){var vm="oninput"in document;if(!vm){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),vm=typeof f0.oninput=="function"}gm=vm}else gm=!1;d0=gm&&(!document.documentMode||9<document.documentMode)}function h0(){fc&&(fc.detachEvent("onpropertychange",m0),hc=fc=null)}function m0(i){if(i.propertyName==="value"&&id(hc)){var l=[];u0(l,hc,i,mo(i)),zr(GT,l)}}function QT(i,l,f){i==="focusin"?(h0(),fc=l,hc=f,fc.attachEvent("onpropertychange",m0)):i==="focusout"&&h0()}function ZT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return id(hc)}function JT(i,l){if(i==="click")return id(l)}function XT(i,l){if(i==="input"||i==="change")return id(l)}function eR(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var zn=typeof Object.is=="function"?Object.is:eR;function mc(i,l){if(zn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var f=Object.keys(i),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var w=f[g];if(!d.call(l,w)||!zn(i[w],l[w]))return!1}return!0}function p0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function g0(i,l){var f=p0(i);i=0;for(var g;f;){if(f.nodeType===3){if(g=i+f.textContent.length,i<=l&&g>=l)return{node:f,offset:l-i};i=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=p0(f)}}function v0(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?v0(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function x0(){for(var i=window,l=It();l instanceof i.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)i=l.contentWindow;else break;l=It(i.document)}return l}function xm(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function tR(i){var l=x0(),f=i.focusedElem,g=i.selectionRange;if(l!==f&&f&&f.ownerDocument&&v0(f.ownerDocument.documentElement,f)){if(g!==null&&xm(f)){if(l=g.start,i=g.end,i===void 0&&(i=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(i,f.value.length);else if(i=(l=f.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var w=f.textContent.length,j=Math.min(g.start,w);g=g.end===void 0?j:Math.min(g.end,w),!i.extend&&j>g&&(w=g,g=j,j=w),w=g0(f,j);var E=g0(f,g);w&&E&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),i.removeAllRanges(),j>g?(i.addRange(l),i.extend(E.node,E.offset)):(l.setEnd(E.node,E.offset),i.addRange(l)))}}for(l=[],i=f;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)i=l[f],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var rR=u&&"documentMode"in document&&11>=document.documentMode,yo=null,ym=null,pc=null,wm=!1;function y0(i,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;wm||yo==null||yo!==It(g)||(g=yo,"selectionStart"in g&&xm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),pc&&mc(pc,g)||(pc=g,g=ud(ym,"onSelect"),0<g.length&&(l=new um("onSelect","select",null,l,f),i.push({event:l,listeners:g}),l.target=yo)))}function od(i,l){var f={};return f[i.toLowerCase()]=l.toLowerCase(),f["Webkit"+i]="webkit"+l,f["Moz"+i]="moz"+l,f}var wo={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},bm={},w0={};u&&(w0=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function ld(i){if(bm[i])return bm[i];if(!wo[i])return i;var l=wo[i],f;for(f in l)if(l.hasOwnProperty(f)&&f in w0)return bm[i]=l[f];return i}var b0=ld("animationend"),_0=ld("animationiteration"),j0=ld("animationstart"),N0=ld("transitionend"),S0=new Map,k0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ya(i,l){S0.set(i,l),o(l,[i])}for(var _m=0;_m<k0.length;_m++){var jm=k0[_m],nR=jm.toLowerCase(),sR=jm[0].toUpperCase()+jm.slice(1);ya(nR,"on"+sR)}ya(b0,"onAnimationEnd"),ya(_0,"onAnimationIteration"),ya(j0,"onAnimationStart"),ya("dblclick","onDoubleClick"),ya("focusin","onFocus"),ya("focusout","onBlur"),ya(N0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aR=new Set("cancel close invalid load scroll toggle".split(" ").concat(gc));function C0(i,l,f){var g=i.type||"unknown-event";i.currentTarget=f,nT(g,l,void 0,i),i.currentTarget=null}function E0(i,l){l=(l&4)!==0;for(var f=0;f<i.length;f++){var g=i[f],w=g.event;g=g.listeners;e:{var j=void 0;if(l)for(var E=g.length-1;0<=E;E--){var A=g[E],$=A.instance,J=A.currentTarget;if(A=A.listener,$!==j&&w.isPropagationStopped())break e;C0(w,A,J),j=$}else for(E=0;E<g.length;E++){if(A=g[E],$=A.instance,J=A.currentTarget,A=A.listener,$!==j&&w.isPropagationStopped())break e;C0(w,A,J),j=$}}}if(Hu)throw i=em,Hu=!1,em=null,i}function Et(i,l){var f=l[Rm];f===void 0&&(f=l[Rm]=new Set);var g=i+"__bubble";f.has(g)||(P0(l,i,2,!1),f.add(g))}function Nm(i,l,f){var g=0;l&&(g|=4),P0(f,i,g,l)}var cd="_reactListening"+Math.random().toString(36).slice(2);function vc(i){if(!i[cd]){i[cd]=!0,n.forEach(function(f){f!=="selectionchange"&&(aR.has(f)||Nm(f,!1,i),Nm(f,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[cd]||(l[cd]=!0,Nm("selectionchange",!1,l))}}function P0(i,l,f,g){switch(Jy(l)){case 1:var w=yT;break;case 4:w=wT;break;default:w=om}f=w.bind(null,l,f,i),w=void 0,!$n||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),g?w!==void 0?i.addEventListener(l,f,{capture:!0,passive:w}):i.addEventListener(l,f,!0):w!==void 0?i.addEventListener(l,f,{passive:w}):i.addEventListener(l,f,!1)}function Sm(i,l,f,g,w){var j=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var E=g.tag;if(E===3||E===4){var A=g.stateNode.containerInfo;if(A===w||A.nodeType===8&&A.parentNode===w)break;if(E===4)for(E=g.return;E!==null;){var $=E.tag;if(($===3||$===4)&&($=E.stateNode.containerInfo,$===w||$.nodeType===8&&$.parentNode===w))return;E=E.return}for(;A!==null;){if(E=xi(A),E===null)return;if($=E.tag,$===5||$===6){g=j=E;continue e}A=A.parentNode}}g=g.return}zr(function(){var J=j,fe=mo(f),he=[];e:{var de=S0.get(i);if(de!==void 0){var ke=um,Te=i;switch(i){case"keypress":if(nd(f)===0)break e;case"keydown":case"keyup":ke=DT;break;case"focusin":Te="focus",ke=hm;break;case"focusout":Te="blur",ke=hm;break;case"beforeblur":case"afterblur":ke=hm;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=jT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=FT;break;case b0:case _0:case j0:ke=kT;break;case N0:ke=UT;break;case"scroll":ke=bT;break;case"wheel":ke=BT;break;case"copy":case"cut":case"paste":ke=ET;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=n0}var Oe=(l&4)!==0,qt=!Oe&&i==="scroll",Y=Oe?de!==null?de+"Capture":null:de;Oe=[];for(var z=J,Q;z!==null;){Q=z;var pe=Q.stateNode;if(Q.tag===5&&pe!==null&&(Q=pe,Y!==null&&(pe=Br(z,Y),pe!=null&&Oe.push(xc(z,pe,Q)))),qt)break;z=z.return}0<Oe.length&&(de=new ke(de,Te,null,f,fe),he.push({event:de,listeners:Oe}))}}if((l&7)===0){e:{if(de=i==="mouseover"||i==="pointerover",ke=i==="mouseout"||i==="pointerout",de&&f!==fa&&(Te=f.relatedTarget||f.fromElement)&&(xi(Te)||Te[Fs]))break e;if((ke||de)&&(de=fe.window===fe?fe:(de=fe.ownerDocument)?de.defaultView||de.parentWindow:window,ke?(Te=f.relatedTarget||f.toElement,ke=J,Te=Te?xi(Te):null,Te!==null&&(qt=vi(Te),Te!==qt||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ke=null,Te=J),ke!==Te)){if(Oe=t0,pe="onMouseLeave",Y="onMouseEnter",z="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=n0,pe="onPointerLeave",Y="onPointerEnter",z="pointer"),qt=ke==null?de:jo(ke),Q=Te==null?de:jo(Te),de=new Oe(pe,z+"leave",ke,f,fe),de.target=qt,de.relatedTarget=Q,pe=null,xi(fe)===J&&(Oe=new Oe(Y,z+"enter",Te,f,fe),Oe.target=Q,Oe.relatedTarget=qt,pe=Oe),qt=pe,ke&&Te)t:{for(Oe=ke,Y=Te,z=0,Q=Oe;Q;Q=bo(Q))z++;for(Q=0,pe=Y;pe;pe=bo(pe))Q++;for(;0<z-Q;)Oe=bo(Oe),z--;for(;0<Q-z;)Y=bo(Y),Q--;for(;z--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=bo(Oe),Y=bo(Y)}Oe=null}else Oe=null;ke!==null&&T0(he,de,ke,Oe,!1),Te!==null&&qt!==null&&T0(he,qt,Te,Oe,!0)}}e:{if(de=J?jo(J):window,ke=de.nodeName&&de.nodeName.toLowerCase(),ke==="select"||ke==="input"&&de.type==="file")var De=KT;else if(c0(de))if(d0)De=XT;else{De=ZT;var $e=QT}else(ke=de.nodeName)&&ke.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(De=JT);if(De&&(De=De(i,J))){u0(he,De,f,fe);break e}$e&&$e(i,de,J),i==="focusout"&&($e=de._wrapperState)&&$e.controlled&&de.type==="number"&&hn(de,"number",de.value)}switch($e=J?jo(J):window,i){case"focusin":(c0($e)||$e.contentEditable==="true")&&(yo=$e,ym=J,pc=null);break;case"focusout":pc=ym=yo=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,y0(he,f,fe);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":y0(he,f,fe)}var Ue;if(pm)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else xo?o0(i,f)&&(Ve="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(Ve="onCompositionStart");Ve&&(s0&&f.locale!=="ko"&&(xo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&xo&&(Ue=Xy()):(xa=fe,cm="value"in xa?xa.value:xa.textContent,xo=!0)),$e=ud(J,Ve),0<$e.length&&(Ve=new r0(Ve,i,null,f,fe),he.push({event:Ve,listeners:$e}),Ue?Ve.data=Ue:(Ue=l0(f),Ue!==null&&(Ve.data=Ue)))),(Ue=qT?WT(i,f):HT(i,f))&&(J=ud(J,"onBeforeInput"),0<J.length&&(fe=new r0("onBeforeInput","beforeinput",null,f,fe),he.push({event:fe,listeners:J}),fe.data=Ue))}E0(he,l)})}function xc(i,l,f){return{instance:i,listener:l,currentTarget:f}}function ud(i,l){for(var f=l+"Capture",g=[];i!==null;){var w=i,j=w.stateNode;w.tag===5&&j!==null&&(w=j,j=Br(i,f),j!=null&&g.unshift(xc(i,j,w)),j=Br(i,l),j!=null&&g.push(xc(i,j,w))),i=i.return}return g}function bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function T0(i,l,f,g,w){for(var j=l._reactName,E=[];f!==null&&f!==g;){var A=f,$=A.alternate,J=A.stateNode;if($!==null&&$===g)break;A.tag===5&&J!==null&&(A=J,w?($=Br(f,j),$!=null&&E.unshift(xc(f,$,A))):w||($=Br(f,j),$!=null&&E.push(xc(f,$,A)))),f=f.return}E.length!==0&&i.push({event:l,listeners:E})}var iR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function R0(i){return(typeof i=="string"?i:""+i).replace(iR,`
`).replace(oR,"")}function dd(i,l,f){if(l=R0(l),R0(i)!==l&&f)throw Error(r(425))}function fd(){}var km=null,Cm=null;function Em(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Pm=typeof setTimeout=="function"?setTimeout:void 0,lR=typeof clearTimeout=="function"?clearTimeout:void 0,A0=typeof Promise=="function"?Promise:void 0,cR=typeof queueMicrotask=="function"?queueMicrotask:typeof A0<"u"?function(i){return A0.resolve(null).then(i).catch(uR)}:Pm;function uR(i){setTimeout(function(){throw i})}function Tm(i,l){var f=l,g=0;do{var w=f.nextSibling;if(i.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(g===0){i.removeChild(w),lc(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=w}while(f);lc(l)}function wa(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function O0(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return i;l--}else f==="/$"&&l++}i=i.previousSibling}return null}var _o=Math.random().toString(36).slice(2),gs="__reactFiber$"+_o,yc="__reactProps$"+_o,Fs="__reactContainer$"+_o,Rm="__reactEvents$"+_o,dR="__reactListeners$"+_o,fR="__reactHandles$"+_o;function xi(i){var l=i[gs];if(l)return l;for(var f=i.parentNode;f;){if(l=f[Fs]||f[gs]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(i=O0(i);i!==null;){if(f=i[gs])return f;i=O0(i)}return l}i=f,f=i.parentNode}return null}function wc(i){return i=i[gs]||i[Fs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function jo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function hd(i){return i[yc]||null}var Am=[],No=-1;function ba(i){return{current:i}}function Pt(i){0>No||(i.current=Am[No],Am[No]=null,No--)}function St(i,l){No++,Am[No]=i.current,i.current=l}var _a={},wr=ba(_a),Vr=ba(!1),yi=_a;function So(i,l){var f=i.type.contextTypes;if(!f)return _a;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var w={},j;for(j in f)w[j]=l[j];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=w),w}function qr(i){return i=i.childContextTypes,i!=null}function md(){Pt(Vr),Pt(wr)}function M0(i,l,f){if(wr.current!==_a)throw Error(r(168));St(wr,l),St(Vr,f)}function D0(i,l,f){var g=i.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var w in g)if(!(w in l))throw Error(r(108,ne(i)||"Unknown",w));return se({},f,g)}function pd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||_a,yi=wr.current,St(wr,i),St(Vr,Vr.current),!0}function I0(i,l,f){var g=i.stateNode;if(!g)throw Error(r(169));f?(i=D0(i,l,yi),g.__reactInternalMemoizedMergedChildContext=i,Pt(Vr),Pt(wr),St(wr,i)):Pt(Vr),St(Vr,f)}var $s=null,gd=!1,Om=!1;function L0(i){$s===null?$s=[i]:$s.push(i)}function hR(i){gd=!0,L0(i)}function ja(){if(!Om&&$s!==null){Om=!0;var i=0,l=yt;try{var f=$s;for(yt=1;i<f.length;i++){var g=f[i];do g=g(!0);while(g!==null)}$s=null,gd=!1}catch(w){throw $s!==null&&($s=$s.slice(i+1)),$y(tm,ja),w}finally{yt=l,Om=!1}}return null}var ko=[],Co=0,vd=null,xd=0,Cn=[],En=0,wi=null,Us=1,zs="";function bi(i,l){ko[Co++]=xd,ko[Co++]=vd,vd=i,xd=l}function F0(i,l,f){Cn[En++]=Us,Cn[En++]=zs,Cn[En++]=wi,wi=i;var g=Us;i=zs;var w=32-Un(g)-1;g&=~(1<<w),f+=1;var j=32-Un(l)+w;if(30<j){var E=w-w%5;j=(g&(1<<E)-1).toString(32),g>>=E,w-=E,Us=1<<32-Un(l)+w|f<<w|g,zs=j+i}else Us=1<<j|f<<w|g,zs=i}function Mm(i){i.return!==null&&(bi(i,1),F0(i,1,0))}function Dm(i){for(;i===vd;)vd=ko[--Co],ko[Co]=null,xd=ko[--Co],ko[Co]=null;for(;i===wi;)wi=Cn[--En],Cn[En]=null,zs=Cn[--En],Cn[En]=null,Us=Cn[--En],Cn[En]=null}var vn=null,xn=null,Ot=!1,Bn=null;function $0(i,l){var f=An(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=i,l=i.deletions,l===null?(i.deletions=[f],i.flags|=16):l.push(f)}function U0(i,l){switch(i.tag){case 5:var f=i.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,vn=i,xn=wa(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,vn=i,xn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=wi!==null?{id:Us,overflow:zs}:null,i.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=An(18,null,null,0),f.stateNode=l,f.return=i,i.child=f,vn=i,xn=null,!0):!1;default:return!1}}function Im(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Lm(i){if(Ot){var l=xn;if(l){var f=l;if(!U0(i,l)){if(Im(i))throw Error(r(418));l=wa(f.nextSibling);var g=vn;l&&U0(i,l)?$0(g,f):(i.flags=i.flags&-4097|2,Ot=!1,vn=i)}}else{if(Im(i))throw Error(r(418));i.flags=i.flags&-4097|2,Ot=!1,vn=i}}}function z0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vn=i}function yd(i){if(i!==vn)return!1;if(!Ot)return z0(i),Ot=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Em(i.type,i.memoizedProps)),l&&(l=xn)){if(Im(i))throw B0(),Error(r(418));for(;l;)$0(i,l),l=wa(l.nextSibling)}if(z0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"){if(l===0){xn=wa(i.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}i=i.nextSibling}xn=null}}else xn=vn?wa(i.stateNode.nextSibling):null;return!0}function B0(){for(var i=xn;i;)i=wa(i.nextSibling)}function Eo(){xn=vn=null,Ot=!1}function Fm(i){Bn===null?Bn=[i]:Bn.push(i)}var mR=P.ReactCurrentBatchConfig;function bc(i,l,f){if(i=f.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(r(309));var g=f.stateNode}if(!g)throw Error(r(147,i));var w=g,j=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===j?l.ref:(l=function(E){var A=w.refs;E===null?delete A[j]:A[j]=E},l._stringRef=j,l)}if(typeof i!="string")throw Error(r(284));if(!f._owner)throw Error(r(290,i))}return i}function wd(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function V0(i){var l=i._init;return l(i._payload)}function q0(i){function l(Y,z){if(i){var Q=Y.deletions;Q===null?(Y.deletions=[z],Y.flags|=16):Q.push(z)}}function f(Y,z){if(!i)return null;for(;z!==null;)l(Y,z),z=z.sibling;return null}function g(Y,z){for(Y=new Map;z!==null;)z.key!==null?Y.set(z.key,z):Y.set(z.index,z),z=z.sibling;return Y}function w(Y,z){return Y=Ra(Y,z),Y.index=0,Y.sibling=null,Y}function j(Y,z,Q){return Y.index=Q,i?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<z?(Y.flags|=2,z):Q):(Y.flags|=2,z)):(Y.flags|=1048576,z)}function E(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function A(Y,z,Q,pe){return z===null||z.tag!==6?(z=Pp(Q,Y.mode,pe),z.return=Y,z):(z=w(z,Q),z.return=Y,z)}function $(Y,z,Q,pe){var De=Q.type;return De===M?fe(Y,z,Q.props.children,pe,Q.key):z!==null&&(z.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===le&&V0(De)===z.type)?(pe=w(z,Q.props),pe.ref=bc(Y,z,Q),pe.return=Y,pe):(pe=qd(Q.type,Q.key,Q.props,null,Y.mode,pe),pe.ref=bc(Y,z,Q),pe.return=Y,pe)}function J(Y,z,Q,pe){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=Tp(Q,Y.mode,pe),z.return=Y,z):(z=w(z,Q.children||[]),z.return=Y,z)}function fe(Y,z,Q,pe,De){return z===null||z.tag!==7?(z=Pi(Q,Y.mode,pe,De),z.return=Y,z):(z=w(z,Q),z.return=Y,z)}function he(Y,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Pp(""+z,Y.mode,Q),z.return=Y,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return Q=qd(z.type,z.key,z.props,null,Y.mode,Q),Q.ref=bc(Y,null,z),Q.return=Y,Q;case R:return z=Tp(z,Y.mode,Q),z.return=Y,z;case le:var pe=z._init;return he(Y,pe(z._payload),Q)}if(I(z)||q(z))return z=Pi(z,Y.mode,Q,null),z.return=Y,z;wd(Y,z)}return null}function de(Y,z,Q,pe){var De=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return De!==null?null:A(Y,z,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:return Q.key===De?$(Y,z,Q,pe):null;case R:return Q.key===De?J(Y,z,Q,pe):null;case le:return De=Q._init,de(Y,z,De(Q._payload),pe)}if(I(Q)||q(Q))return De!==null?null:fe(Y,z,Q,pe,null);wd(Y,Q)}return null}function ke(Y,z,Q,pe,De){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Y=Y.get(Q)||null,A(z,Y,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case T:return Y=Y.get(pe.key===null?Q:pe.key)||null,$(z,Y,pe,De);case R:return Y=Y.get(pe.key===null?Q:pe.key)||null,J(z,Y,pe,De);case le:var $e=pe._init;return ke(Y,z,Q,$e(pe._payload),De)}if(I(pe)||q(pe))return Y=Y.get(Q)||null,fe(z,Y,pe,De,null);wd(z,pe)}return null}function Te(Y,z,Q,pe){for(var De=null,$e=null,Ue=z,Ve=z=0,or=null;Ue!==null&&Ve<Q.length;Ve++){Ue.index>Ve?(or=Ue,Ue=null):or=Ue.sibling;var ft=de(Y,Ue,Q[Ve],pe);if(ft===null){Ue===null&&(Ue=or);break}i&&Ue&&ft.alternate===null&&l(Y,Ue),z=j(ft,z,Ve),$e===null?De=ft:$e.sibling=ft,$e=ft,Ue=or}if(Ve===Q.length)return f(Y,Ue),Ot&&bi(Y,Ve),De;if(Ue===null){for(;Ve<Q.length;Ve++)Ue=he(Y,Q[Ve],pe),Ue!==null&&(z=j(Ue,z,Ve),$e===null?De=Ue:$e.sibling=Ue,$e=Ue);return Ot&&bi(Y,Ve),De}for(Ue=g(Y,Ue);Ve<Q.length;Ve++)or=ke(Ue,Y,Ve,Q[Ve],pe),or!==null&&(i&&or.alternate!==null&&Ue.delete(or.key===null?Ve:or.key),z=j(or,z,Ve),$e===null?De=or:$e.sibling=or,$e=or);return i&&Ue.forEach(function(Aa){return l(Y,Aa)}),Ot&&bi(Y,Ve),De}function Oe(Y,z,Q,pe){var De=q(Q);if(typeof De!="function")throw Error(r(150));if(Q=De.call(Q),Q==null)throw Error(r(151));for(var $e=De=null,Ue=z,Ve=z=0,or=null,ft=Q.next();Ue!==null&&!ft.done;Ve++,ft=Q.next()){Ue.index>Ve?(or=Ue,Ue=null):or=Ue.sibling;var Aa=de(Y,Ue,ft.value,pe);if(Aa===null){Ue===null&&(Ue=or);break}i&&Ue&&Aa.alternate===null&&l(Y,Ue),z=j(Aa,z,Ve),$e===null?De=Aa:$e.sibling=Aa,$e=Aa,Ue=or}if(ft.done)return f(Y,Ue),Ot&&bi(Y,Ve),De;if(Ue===null){for(;!ft.done;Ve++,ft=Q.next())ft=he(Y,ft.value,pe),ft!==null&&(z=j(ft,z,Ve),$e===null?De=ft:$e.sibling=ft,$e=ft);return Ot&&bi(Y,Ve),De}for(Ue=g(Y,Ue);!ft.done;Ve++,ft=Q.next())ft=ke(Ue,Y,Ve,ft.value,pe),ft!==null&&(i&&ft.alternate!==null&&Ue.delete(ft.key===null?Ve:ft.key),z=j(ft,z,Ve),$e===null?De=ft:$e.sibling=ft,$e=ft);return i&&Ue.forEach(function(YR){return l(Y,YR)}),Ot&&bi(Y,Ve),De}function qt(Y,z,Q,pe){if(typeof Q=="object"&&Q!==null&&Q.type===M&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case T:e:{for(var De=Q.key,$e=z;$e!==null;){if($e.key===De){if(De=Q.type,De===M){if($e.tag===7){f(Y,$e.sibling),z=w($e,Q.props.children),z.return=Y,Y=z;break e}}else if($e.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===le&&V0(De)===$e.type){f(Y,$e.sibling),z=w($e,Q.props),z.ref=bc(Y,$e,Q),z.return=Y,Y=z;break e}f(Y,$e);break}else l(Y,$e);$e=$e.sibling}Q.type===M?(z=Pi(Q.props.children,Y.mode,pe,Q.key),z.return=Y,Y=z):(pe=qd(Q.type,Q.key,Q.props,null,Y.mode,pe),pe.ref=bc(Y,z,Q),pe.return=Y,Y=pe)}return E(Y);case R:e:{for($e=Q.key;z!==null;){if(z.key===$e)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){f(Y,z.sibling),z=w(z,Q.children||[]),z.return=Y,Y=z;break e}else{f(Y,z);break}else l(Y,z);z=z.sibling}z=Tp(Q,Y.mode,pe),z.return=Y,Y=z}return E(Y);case le:return $e=Q._init,qt(Y,z,$e(Q._payload),pe)}if(I(Q))return Te(Y,z,Q,pe);if(q(Q))return Oe(Y,z,Q,pe);wd(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(f(Y,z.sibling),z=w(z,Q),z.return=Y,Y=z):(f(Y,z),z=Pp(Q,Y.mode,pe),z.return=Y,Y=z),E(Y)):f(Y,z)}return qt}var Po=q0(!0),W0=q0(!1),bd=ba(null),_d=null,To=null,$m=null;function Um(){$m=To=_d=null}function zm(i){var l=bd.current;Pt(bd),i._currentValue=l}function Bm(i,l,f){for(;i!==null;){var g=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),i===f)break;i=i.return}}function Ro(i,l){_d=i,$m=To=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Wr=!0),i.firstContext=null)}function Pn(i){var l=i._currentValue;if($m!==i)if(i={context:i,memoizedValue:l,next:null},To===null){if(_d===null)throw Error(r(308));To=i,_d.dependencies={lanes:0,firstContext:i}}else To=To.next=i;return l}var _i=null;function Vm(i){_i===null?_i=[i]:_i.push(i)}function H0(i,l,f,g){var w=l.interleaved;return w===null?(f.next=f,Vm(l)):(f.next=w.next,w.next=f),l.interleaved=f,Bs(i,g)}function Bs(i,l){i.lanes|=l;var f=i.alternate;for(f!==null&&(f.lanes|=l),f=i,i=i.return;i!==null;)i.childLanes|=l,f=i.alternate,f!==null&&(f.childLanes|=l),f=i,i=i.return;return f.tag===3?f.stateNode:null}var Na=!1;function qm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Y0(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Vs(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Sa(i,l,f){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(ct&2)!==0){var w=g.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),g.pending=l,Bs(i,f)}return w=g.interleaved,w===null?(l.next=l,Vm(g)):(l.next=w.next,w.next=l),g.interleaved=l,Bs(i,f)}function jd(i,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,sm(i,f)}}function G0(i,l){var f=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var w=null,j=null;if(f=f.firstBaseUpdate,f!==null){do{var E={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};j===null?w=j=E:j=j.next=E,f=f.next}while(f!==null);j===null?w=j=l:j=j.next=l}else w=j=l;f={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:j,shared:g.shared,effects:g.effects},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=l:i.next=l,f.lastBaseUpdate=l}function Nd(i,l,f,g){var w=i.updateQueue;Na=!1;var j=w.firstBaseUpdate,E=w.lastBaseUpdate,A=w.shared.pending;if(A!==null){w.shared.pending=null;var $=A,J=$.next;$.next=null,E===null?j=J:E.next=J,E=$;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,A=fe.lastBaseUpdate,A!==E&&(A===null?fe.firstBaseUpdate=J:A.next=J,fe.lastBaseUpdate=$))}if(j!==null){var he=w.baseState;E=0,fe=J=$=null,A=j;do{var de=A.lane,ke=A.eventTime;if((g&de)===de){fe!==null&&(fe=fe.next={eventTime:ke,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var Te=i,Oe=A;switch(de=l,ke=f,Oe.tag){case 1:if(Te=Oe.payload,typeof Te=="function"){he=Te.call(ke,he,de);break e}he=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Oe.payload,de=typeof Te=="function"?Te.call(ke,he,de):Te,de==null)break e;he=se({},he,de);break e;case 2:Na=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,de=w.effects,de===null?w.effects=[A]:de.push(A))}else ke={eventTime:ke,lane:de,tag:A.tag,payload:A.payload,callback:A.callback,next:null},fe===null?(J=fe=ke,$=he):fe=fe.next=ke,E|=de;if(A=A.next,A===null){if(A=w.shared.pending,A===null)break;de=A,A=de.next,de.next=null,w.lastBaseUpdate=de,w.shared.pending=null}}while(!0);if(fe===null&&($=he),w.baseState=$,w.firstBaseUpdate=J,w.lastBaseUpdate=fe,l=w.shared.interleaved,l!==null){w=l;do E|=w.lane,w=w.next;while(w!==l)}else j===null&&(w.shared.lanes=0);Si|=E,i.lanes=E,i.memoizedState=he}}function K0(i,l,f){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var g=i[l],w=g.callback;if(w!==null){if(g.callback=null,g=f,typeof w!="function")throw Error(r(191,w));w.call(g)}}}var _c={},vs=ba(_c),jc=ba(_c),Nc=ba(_c);function ji(i){if(i===_c)throw Error(r(174));return i}function Wm(i,l){switch(St(Nc,l),St(jc,i),St(vs,_c),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ze(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Ze(l,i)}Pt(vs),St(vs,l)}function Ao(){Pt(vs),Pt(jc),Pt(Nc)}function Q0(i){ji(Nc.current);var l=ji(vs.current),f=Ze(l,i.type);l!==f&&(St(jc,i),St(vs,f))}function Hm(i){jc.current===i&&(Pt(vs),Pt(jc))}var Lt=ba(0);function Sd(i){for(var l=i;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Ym=[];function Gm(){for(var i=0;i<Ym.length;i++)Ym[i]._workInProgressVersionPrimary=null;Ym.length=0}var kd=P.ReactCurrentDispatcher,Km=P.ReactCurrentBatchConfig,Ni=0,Ft=null,Xt=null,ar=null,Cd=!1,Sc=!1,kc=0,pR=0;function br(){throw Error(r(321))}function Qm(i,l){if(l===null)return!1;for(var f=0;f<l.length&&f<i.length;f++)if(!zn(i[f],l[f]))return!1;return!0}function Zm(i,l,f,g,w,j){if(Ni=j,Ft=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,kd.current=i===null||i.memoizedState===null?yR:wR,i=f(g,w),Sc){j=0;do{if(Sc=!1,kc=0,25<=j)throw Error(r(301));j+=1,ar=Xt=null,l.updateQueue=null,kd.current=bR,i=f(g,w)}while(Sc)}if(kd.current=Td,l=Xt!==null&&Xt.next!==null,Ni=0,ar=Xt=Ft=null,Cd=!1,l)throw Error(r(300));return i}function Jm(){var i=kc!==0;return kc=0,i}function xs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Ft.memoizedState=ar=i:ar=ar.next=i,ar}function Tn(){if(Xt===null){var i=Ft.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var l=ar===null?Ft.memoizedState:ar.next;if(l!==null)ar=l,Xt=i;else{if(i===null)throw Error(r(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ar===null?Ft.memoizedState=ar=i:ar=ar.next=i}return ar}function Cc(i,l){return typeof l=="function"?l(i):l}function Xm(i){var l=Tn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=Xt,w=g.baseQueue,j=f.pending;if(j!==null){if(w!==null){var E=w.next;w.next=j.next,j.next=E}g.baseQueue=w=j,f.pending=null}if(w!==null){j=w.next,g=g.baseState;var A=E=null,$=null,J=j;do{var fe=J.lane;if((Ni&fe)===fe)$!==null&&($=$.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),g=J.hasEagerState?J.eagerState:i(g,J.action);else{var he={lane:fe,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};$===null?(A=$=he,E=g):$=$.next=he,Ft.lanes|=fe,Si|=fe}J=J.next}while(J!==null&&J!==j);$===null?E=g:$.next=A,zn(g,l.memoizedState)||(Wr=!0),l.memoizedState=g,l.baseState=E,l.baseQueue=$,f.lastRenderedState=g}if(i=f.interleaved,i!==null){w=i;do j=w.lane,Ft.lanes|=j,Si|=j,w=w.next;while(w!==i)}else w===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function ep(i){var l=Tn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var g=f.dispatch,w=f.pending,j=l.memoizedState;if(w!==null){f.pending=null;var E=w=w.next;do j=i(j,E.action),E=E.next;while(E!==w);zn(j,l.memoizedState)||(Wr=!0),l.memoizedState=j,l.baseQueue===null&&(l.baseState=j),f.lastRenderedState=j}return[j,g]}function Z0(){}function J0(i,l){var f=Ft,g=Tn(),w=l(),j=!zn(g.memoizedState,w);if(j&&(g.memoizedState=w,Wr=!0),g=g.queue,tp(tw.bind(null,f,g,i),[i]),g.getSnapshot!==l||j||ar!==null&&ar.memoizedState.tag&1){if(f.flags|=2048,Ec(9,ew.bind(null,f,g,w,l),void 0,null),ir===null)throw Error(r(349));(Ni&30)!==0||X0(f,l,w)}return w}function X0(i,l,f){i.flags|=16384,i={getSnapshot:l,value:f},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.stores=[i]):(f=l.stores,f===null?l.stores=[i]:f.push(i))}function ew(i,l,f,g){l.value=f,l.getSnapshot=g,rw(l)&&nw(i)}function tw(i,l,f){return f(function(){rw(l)&&nw(i)})}function rw(i){var l=i.getSnapshot;i=i.value;try{var f=l();return!zn(i,f)}catch{return!0}}function nw(i){var l=Bs(i,1);l!==null&&Hn(l,i,1,-1)}function sw(i){var l=xs();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cc,lastRenderedState:i},l.queue=i,i=i.dispatch=xR.bind(null,Ft,i),[l.memoizedState,i]}function Ec(i,l,f,g){return i={tag:i,create:l,destroy:f,deps:g,next:null},l=Ft.updateQueue,l===null?(l={lastEffect:null,stores:null},Ft.updateQueue=l,l.lastEffect=i.next=i):(f=l.lastEffect,f===null?l.lastEffect=i.next=i:(g=f.next,f.next=i,i.next=g,l.lastEffect=i)),i}function aw(){return Tn().memoizedState}function Ed(i,l,f,g){var w=xs();Ft.flags|=i,w.memoizedState=Ec(1|l,f,void 0,g===void 0?null:g)}function Pd(i,l,f,g){var w=Tn();g=g===void 0?null:g;var j=void 0;if(Xt!==null){var E=Xt.memoizedState;if(j=E.destroy,g!==null&&Qm(g,E.deps)){w.memoizedState=Ec(l,f,j,g);return}}Ft.flags|=i,w.memoizedState=Ec(1|l,f,j,g)}function iw(i,l){return Ed(8390656,8,i,l)}function tp(i,l){return Pd(2048,8,i,l)}function ow(i,l){return Pd(4,2,i,l)}function lw(i,l){return Pd(4,4,i,l)}function cw(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function uw(i,l,f){return f=f!=null?f.concat([i]):null,Pd(4,4,cw.bind(null,l,i),f)}function rp(){}function dw(i,l){var f=Tn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Qm(l,g[1])?g[0]:(f.memoizedState=[i,l],i)}function fw(i,l){var f=Tn();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&Qm(l,g[1])?g[0]:(i=i(),f.memoizedState=[i,l],i)}function hw(i,l,f){return(Ni&21)===0?(i.baseState&&(i.baseState=!1,Wr=!0),i.memoizedState=f):(zn(f,l)||(f=Vy(),Ft.lanes|=f,Si|=f,i.baseState=!0),l)}function gR(i,l){var f=yt;yt=f!==0&&4>f?f:4,i(!0);var g=Km.transition;Km.transition={};try{i(!1),l()}finally{yt=f,Km.transition=g}}function mw(){return Tn().memoizedState}function vR(i,l,f){var g=Pa(i);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},pw(i))gw(l,f);else if(f=H0(i,l,f,g),f!==null){var w=Tr();Hn(f,i,g,w),vw(f,l,g)}}function xR(i,l,f){var g=Pa(i),w={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(pw(i))gw(l,w);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=l.lastRenderedReducer,j!==null))try{var E=l.lastRenderedState,A=j(E,f);if(w.hasEagerState=!0,w.eagerState=A,zn(A,E)){var $=l.interleaved;$===null?(w.next=w,Vm(l)):(w.next=$.next,$.next=w),l.interleaved=w;return}}catch{}finally{}f=H0(i,l,w,g),f!==null&&(w=Tr(),Hn(f,i,g,w),vw(f,l,g))}}function pw(i){var l=i.alternate;return i===Ft||l!==null&&l===Ft}function gw(i,l){Sc=Cd=!0;var f=i.pending;f===null?l.next=l:(l.next=f.next,f.next=l),i.pending=l}function vw(i,l,f){if((f&4194240)!==0){var g=l.lanes;g&=i.pendingLanes,f|=g,l.lanes=f,sm(i,f)}}var Td={readContext:Pn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},yR={readContext:Pn,useCallback:function(i,l){return xs().memoizedState=[i,l===void 0?null:l],i},useContext:Pn,useEffect:iw,useImperativeHandle:function(i,l,f){return f=f!=null?f.concat([i]):null,Ed(4194308,4,cw.bind(null,l,i),f)},useLayoutEffect:function(i,l){return Ed(4194308,4,i,l)},useInsertionEffect:function(i,l){return Ed(4,2,i,l)},useMemo:function(i,l){var f=xs();return l=l===void 0?null:l,i=i(),f.memoizedState=[i,l],i},useReducer:function(i,l,f){var g=xs();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},g.queue=i,i=i.dispatch=vR.bind(null,Ft,i),[g.memoizedState,i]},useRef:function(i){var l=xs();return i={current:i},l.memoizedState=i},useState:sw,useDebugValue:rp,useDeferredValue:function(i){return xs().memoizedState=i},useTransition:function(){var i=sw(!1),l=i[0];return i=gR.bind(null,i[1]),xs().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,f){var g=Ft,w=xs();if(Ot){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),ir===null)throw Error(r(349));(Ni&30)!==0||X0(g,l,f)}w.memoizedState=f;var j={value:f,getSnapshot:l};return w.queue=j,iw(tw.bind(null,g,j,i),[i]),g.flags|=2048,Ec(9,ew.bind(null,g,j,f,l),void 0,null),f},useId:function(){var i=xs(),l=ir.identifierPrefix;if(Ot){var f=zs,g=Us;f=(g&~(1<<32-Un(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=kc++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=pR++,l=":"+l+"r"+f.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},wR={readContext:Pn,useCallback:dw,useContext:Pn,useEffect:tp,useImperativeHandle:uw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:fw,useReducer:Xm,useRef:aw,useState:function(){return Xm(Cc)},useDebugValue:rp,useDeferredValue:function(i){var l=Tn();return hw(l,Xt.memoizedState,i)},useTransition:function(){var i=Xm(Cc)[0],l=Tn().memoizedState;return[i,l]},useMutableSource:Z0,useSyncExternalStore:J0,useId:mw,unstable_isNewReconciler:!1},bR={readContext:Pn,useCallback:dw,useContext:Pn,useEffect:tp,useImperativeHandle:uw,useInsertionEffect:ow,useLayoutEffect:lw,useMemo:fw,useReducer:ep,useRef:aw,useState:function(){return ep(Cc)},useDebugValue:rp,useDeferredValue:function(i){var l=Tn();return Xt===null?l.memoizedState=i:hw(l,Xt.memoizedState,i)},useTransition:function(){var i=ep(Cc)[0],l=Tn().memoizedState;return[i,l]},useMutableSource:Z0,useSyncExternalStore:J0,useId:mw,unstable_isNewReconciler:!1};function Vn(i,l){if(i&&i.defaultProps){l=se({},l),i=i.defaultProps;for(var f in i)l[f]===void 0&&(l[f]=i[f]);return l}return l}function np(i,l,f,g){l=i.memoizedState,f=f(g,l),f=f==null?l:se({},l,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var Rd={isMounted:function(i){return(i=i._reactInternals)?vi(i)===i:!1},enqueueSetState:function(i,l,f){i=i._reactInternals;var g=Tr(),w=Pa(i),j=Vs(g,w);j.payload=l,f!=null&&(j.callback=f),l=Sa(i,j,w),l!==null&&(Hn(l,i,w,g),jd(l,i,w))},enqueueReplaceState:function(i,l,f){i=i._reactInternals;var g=Tr(),w=Pa(i),j=Vs(g,w);j.tag=1,j.payload=l,f!=null&&(j.callback=f),l=Sa(i,j,w),l!==null&&(Hn(l,i,w,g),jd(l,i,w))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var f=Tr(),g=Pa(i),w=Vs(f,g);w.tag=2,l!=null&&(w.callback=l),l=Sa(i,w,g),l!==null&&(Hn(l,i,g,f),jd(l,i,g))}};function xw(i,l,f,g,w,j,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,j,E):l.prototype&&l.prototype.isPureReactComponent?!mc(f,g)||!mc(w,j):!0}function yw(i,l,f){var g=!1,w=_a,j=l.contextType;return typeof j=="object"&&j!==null?j=Pn(j):(w=qr(l)?yi:wr.current,g=l.contextTypes,j=(g=g!=null)?So(i,w):_a),l=new l(f,j),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Rd,i.stateNode=l,l._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=j),l}function ww(i,l,f,g){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==i&&Rd.enqueueReplaceState(l,l.state,null)}function sp(i,l,f,g){var w=i.stateNode;w.props=f,w.state=i.memoizedState,w.refs={},qm(i);var j=l.contextType;typeof j=="object"&&j!==null?w.context=Pn(j):(j=qr(l)?yi:wr.current,w.context=So(i,j)),w.state=i.memoizedState,j=l.getDerivedStateFromProps,typeof j=="function"&&(np(i,l,j,f),w.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&Rd.enqueueReplaceState(w,w.state,null),Nd(i,f,w,g),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Oo(i,l){try{var f="",g=l;do f+=ue(g),g=g.return;while(g);var w=f}catch(j){w=`
Error generating stack: `+j.message+`
`+j.stack}return{value:i,source:l,stack:w,digest:null}}function ap(i,l,f){return{value:i,source:null,stack:f??null,digest:l??null}}function ip(i,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var _R=typeof WeakMap=="function"?WeakMap:Map;function bw(i,l,f){f=Vs(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Fd||(Fd=!0,bp=g),ip(i,l)},f}function _w(i,l,f){f=Vs(-1,f),f.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var w=l.value;f.payload=function(){return g(w)},f.callback=function(){ip(i,l)}}var j=i.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(f.callback=function(){ip(i,l),typeof g!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})}),f}function jw(i,l,f){var g=i.pingCache;if(g===null){g=i.pingCache=new _R;var w=new Set;g.set(l,w)}else w=g.get(l),w===void 0&&(w=new Set,g.set(l,w));w.has(f)||(w.add(f),i=IR.bind(null,i,l,f),l.then(i,i))}function Nw(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Sw(i,l,f,g,w){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=Vs(-1,1),l.tag=2,Sa(f,l,1))),f.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var jR=P.ReactCurrentOwner,Wr=!1;function Pr(i,l,f,g){l.child=i===null?W0(l,null,f,g):Po(l,i.child,f,g)}function kw(i,l,f,g,w){f=f.render;var j=l.ref;return Ro(l,w),g=Zm(i,l,f,g,j,w),f=Jm(),i!==null&&!Wr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~w,qs(i,l,w)):(Ot&&f&&Mm(l),l.flags|=1,Pr(i,l,g,w),l.child)}function Cw(i,l,f,g,w){if(i===null){var j=f.type;return typeof j=="function"&&!Ep(j)&&j.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=j,Ew(i,l,j,g,w)):(i=qd(f.type,null,g,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(j=i.child,(i.lanes&w)===0){var E=j.memoizedProps;if(f=f.compare,f=f!==null?f:mc,f(E,g)&&i.ref===l.ref)return qs(i,l,w)}return l.flags|=1,i=Ra(j,g),i.ref=l.ref,i.return=l,l.child=i}function Ew(i,l,f,g,w){if(i!==null){var j=i.memoizedProps;if(mc(j,g)&&i.ref===l.ref)if(Wr=!1,l.pendingProps=g=j,(i.lanes&w)!==0)(i.flags&131072)!==0&&(Wr=!0);else return l.lanes=i.lanes,qs(i,l,w)}return op(i,l,f,g,w)}function Pw(i,l,f){var g=l.pendingProps,w=g.children,j=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Do,yn),yn|=f;else{if((f&1073741824)===0)return i=j!==null?j.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,St(Do,yn),yn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:f,St(Do,yn),yn|=g}else j!==null?(g=j.baseLanes|f,l.memoizedState=null):g=f,St(Do,yn),yn|=g;return Pr(i,l,w,f),l.child}function Tw(i,l){var f=l.ref;(i===null&&f!==null||i!==null&&i.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function op(i,l,f,g,w){var j=qr(f)?yi:wr.current;return j=So(l,j),Ro(l,w),f=Zm(i,l,f,g,j,w),g=Jm(),i!==null&&!Wr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~w,qs(i,l,w)):(Ot&&g&&Mm(l),l.flags|=1,Pr(i,l,f,w),l.child)}function Rw(i,l,f,g,w){if(qr(f)){var j=!0;pd(l)}else j=!1;if(Ro(l,w),l.stateNode===null)Od(i,l),yw(l,f,g),sp(l,f,g,w),g=!0;else if(i===null){var E=l.stateNode,A=l.memoizedProps;E.props=A;var $=E.context,J=f.contextType;typeof J=="object"&&J!==null?J=Pn(J):(J=qr(f)?yi:wr.current,J=So(l,J));var fe=f.getDerivedStateFromProps,he=typeof fe=="function"||typeof E.getSnapshotBeforeUpdate=="function";he||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==g||$!==J)&&ww(l,E,g,J),Na=!1;var de=l.memoizedState;E.state=de,Nd(l,g,E,w),$=l.memoizedState,A!==g||de!==$||Vr.current||Na?(typeof fe=="function"&&(np(l,f,fe,g),$=l.memoizedState),(A=Na||xw(l,f,A,g,de,$,J))?(he||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=$),E.props=g,E.state=$,E.context=J,g=A):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,Y0(i,l),A=l.memoizedProps,J=l.type===l.elementType?A:Vn(l.type,A),E.props=J,he=l.pendingProps,de=E.context,$=f.contextType,typeof $=="object"&&$!==null?$=Pn($):($=qr(f)?yi:wr.current,$=So(l,$));var ke=f.getDerivedStateFromProps;(fe=typeof ke=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==he||de!==$)&&ww(l,E,g,$),Na=!1,de=l.memoizedState,E.state=de,Nd(l,g,E,w);var Te=l.memoizedState;A!==he||de!==Te||Vr.current||Na?(typeof ke=="function"&&(np(l,f,ke,g),Te=l.memoizedState),(J=Na||xw(l,f,J,g,de,Te,$)||!1)?(fe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,Te,$),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,Te,$)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===i.memoizedProps&&de===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&de===i.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Te),E.props=g,E.state=Te,E.context=$,g=J):(typeof E.componentDidUpdate!="function"||A===i.memoizedProps&&de===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&de===i.memoizedState||(l.flags|=1024),g=!1)}return lp(i,l,f,g,j,w)}function lp(i,l,f,g,w,j){Tw(i,l);var E=(l.flags&128)!==0;if(!g&&!E)return w&&I0(l,f,!1),qs(i,l,j);g=l.stateNode,jR.current=l;var A=E&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,i!==null&&E?(l.child=Po(l,i.child,null,j),l.child=Po(l,null,A,j)):Pr(i,l,A,j),l.memoizedState=g.state,w&&I0(l,f,!0),l.child}function Aw(i){var l=i.stateNode;l.pendingContext?M0(i,l.pendingContext,l.pendingContext!==l.context):l.context&&M0(i,l.context,!1),Wm(i,l.containerInfo)}function Ow(i,l,f,g,w){return Eo(),Fm(w),l.flags|=256,Pr(i,l,f,g),l.child}var cp={dehydrated:null,treeContext:null,retryLane:0};function up(i){return{baseLanes:i,cachePool:null,transitions:null}}function Mw(i,l,f){var g=l.pendingProps,w=Lt.current,j=!1,E=(l.flags&128)!==0,A;if((A=E)||(A=i!==null&&i.memoizedState===null?!1:(w&2)!==0),A?(j=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),St(Lt,w&1),i===null)return Lm(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(E=g.children,i=g.fallback,j?(g=l.mode,j=l.child,E={mode:"hidden",children:E},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=E):j=Wd(E,g,0,null),i=Pi(i,g,f,null),j.return=l,i.return=l,j.sibling=i,l.child=j,l.child.memoizedState=up(f),l.memoizedState=cp,i):dp(l,E));if(w=i.memoizedState,w!==null&&(A=w.dehydrated,A!==null))return NR(i,l,E,g,A,w,f);if(j){j=g.fallback,E=l.mode,w=i.child,A=w.sibling;var $={mode:"hidden",children:g.children};return(E&1)===0&&l.child!==w?(g=l.child,g.childLanes=0,g.pendingProps=$,l.deletions=null):(g=Ra(w,$),g.subtreeFlags=w.subtreeFlags&14680064),A!==null?j=Ra(A,j):(j=Pi(j,E,f,null),j.flags|=2),j.return=l,g.return=l,g.sibling=j,l.child=g,g=j,j=l.child,E=i.child.memoizedState,E=E===null?up(f):{baseLanes:E.baseLanes|f,cachePool:null,transitions:E.transitions},j.memoizedState=E,j.childLanes=i.childLanes&~f,l.memoizedState=cp,g}return j=i.child,i=j.sibling,g=Ra(j,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,i!==null&&(f=l.deletions,f===null?(l.deletions=[i],l.flags|=16):f.push(i)),l.child=g,l.memoizedState=null,g}function dp(i,l){return l=Wd({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Ad(i,l,f,g){return g!==null&&Fm(g),Po(l,i.child,null,f),i=dp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function NR(i,l,f,g,w,j,E){if(f)return l.flags&256?(l.flags&=-257,g=ap(Error(r(422))),Ad(i,l,E,g)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(j=g.fallback,w=l.mode,g=Wd({mode:"visible",children:g.children},w,0,null),j=Pi(j,w,E,null),j.flags|=2,g.return=l,j.return=l,g.sibling=j,l.child=g,(l.mode&1)!==0&&Po(l,i.child,null,E),l.child.memoizedState=up(E),l.memoizedState=cp,j);if((l.mode&1)===0)return Ad(i,l,E,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var A=g.dgst;return g=A,j=Error(r(419)),g=ap(j,g,void 0),Ad(i,l,E,g)}if(A=(E&i.childLanes)!==0,Wr||A){if(g=ir,g!==null){switch(E&-E){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|E))!==0?0:w,w!==0&&w!==j.retryLane&&(j.retryLane=w,Bs(i,w),Hn(g,i,w,-1))}return Cp(),g=ap(Error(r(421))),Ad(i,l,E,g)}return w.data==="$?"?(l.flags|=128,l.child=i.child,l=LR.bind(null,i),w._reactRetry=l,null):(i=j.treeContext,xn=wa(w.nextSibling),vn=l,Ot=!0,Bn=null,i!==null&&(Cn[En++]=Us,Cn[En++]=zs,Cn[En++]=wi,Us=i.id,zs=i.overflow,wi=l),l=dp(l,g.children),l.flags|=4096,l)}function Dw(i,l,f){i.lanes|=l;var g=i.alternate;g!==null&&(g.lanes|=l),Bm(i.return,l,f)}function fp(i,l,f,g,w){var j=i.memoizedState;j===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:w}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=f,j.tailMode=w)}function Iw(i,l,f){var g=l.pendingProps,w=g.revealOrder,j=g.tail;if(Pr(i,l,g.children,f),g=Lt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Dw(i,f,l);else if(i.tag===19)Dw(i,f,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(St(Lt,g),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(f=l.child,w=null;f!==null;)i=f.alternate,i!==null&&Sd(i)===null&&(w=f),f=f.sibling;f=w,f===null?(w=l.child,l.child=null):(w=f.sibling,f.sibling=null),fp(l,!1,w,f,j);break;case"backwards":for(f=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&Sd(i)===null){l.child=w;break}i=w.sibling,w.sibling=f,f=w,w=i}fp(l,!0,f,null,j);break;case"together":fp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Od(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function qs(i,l,f){if(i!==null&&(l.dependencies=i.dependencies),Si|=l.lanes,(f&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,f=Ra(i,i.pendingProps),l.child=f,f.return=l;i.sibling!==null;)i=i.sibling,f=f.sibling=Ra(i,i.pendingProps),f.return=l;f.sibling=null}return l.child}function SR(i,l,f){switch(l.tag){case 3:Aw(l),Eo();break;case 5:Q0(l);break;case 1:qr(l.type)&&pd(l);break;case 4:Wm(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,w=l.memoizedProps.value;St(bd,g._currentValue),g._currentValue=w;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(St(Lt,Lt.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?Mw(i,l,f):(St(Lt,Lt.current&1),i=qs(i,l,f),i!==null?i.sibling:null);St(Lt,Lt.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(i.flags&128)!==0){if(g)return Iw(i,l,f);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),St(Lt,Lt.current),g)break;return null;case 22:case 23:return l.lanes=0,Pw(i,l,f)}return qs(i,l,f)}var Lw,hp,Fw,$w;Lw=function(i,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},hp=function(){},Fw=function(i,l,f,g){var w=i.memoizedProps;if(w!==g){i=l.stateNode,ji(vs.current);var j=null;switch(f){case"input":w=Jt(i,w),g=Jt(i,g),j=[];break;case"select":w=se({},w,{value:void 0}),g=se({},g,{value:void 0}),j=[];break;case"textarea":w=oe(i,w),g=oe(i,g),j=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=fd)}pn(f,g);var E;f=null;for(J in w)if(!g.hasOwnProperty(J)&&w.hasOwnProperty(J)&&w[J]!=null)if(J==="style"){var A=w[J];for(E in A)A.hasOwnProperty(E)&&(f||(f={}),f[E]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(a.hasOwnProperty(J)?j||(j=[]):(j=j||[]).push(J,null));for(J in g){var $=g[J];if(A=w!=null?w[J]:void 0,g.hasOwnProperty(J)&&$!==A&&($!=null||A!=null))if(J==="style")if(A){for(E in A)!A.hasOwnProperty(E)||$&&$.hasOwnProperty(E)||(f||(f={}),f[E]="");for(E in $)$.hasOwnProperty(E)&&A[E]!==$[E]&&(f||(f={}),f[E]=$[E])}else f||(j||(j=[]),j.push(J,f)),f=$;else J==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,A=A?A.__html:void 0,$!=null&&A!==$&&(j=j||[]).push(J,$)):J==="children"?typeof $!="string"&&typeof $!="number"||(j=j||[]).push(J,""+$):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(a.hasOwnProperty(J)?($!=null&&J==="onScroll"&&Et("scroll",i),j||A===$||(j=[])):(j=j||[]).push(J,$))}f&&(j=j||[]).push("style",f);var J=j;(l.updateQueue=J)&&(l.flags|=4)}},$w=function(i,l,f,g){f!==g&&(l.flags|=4)};function Pc(i,l){if(!Ot)switch(i.tailMode){case"hidden":l=i.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function _r(i){var l=i.alternate!==null&&i.alternate.child===i.child,f=0,g=0;if(l)for(var w=i.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)f|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=g,i.childLanes=f,l}function kR(i,l,f){var g=l.pendingProps;switch(Dm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(l),null;case 1:return qr(l.type)&&md(),_r(l),null;case 3:return g=l.stateNode,Ao(),Pt(Vr),Pt(wr),Gm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(yd(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Bn!==null&&(Np(Bn),Bn=null))),hp(i,l),_r(l),null;case 5:Hm(l);var w=ji(Nc.current);if(f=l.type,i!==null&&l.stateNode!=null)Fw(i,l,f,g,w),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(r(166));return _r(l),null}if(i=ji(vs.current),yd(l)){g=l.stateNode,f=l.type;var j=l.memoizedProps;switch(g[gs]=l,g[yc]=j,i=(l.mode&1)!==0,f){case"dialog":Et("cancel",g),Et("close",g);break;case"iframe":case"object":case"embed":Et("load",g);break;case"video":case"audio":for(w=0;w<gc.length;w++)Et(gc[w],g);break;case"source":Et("error",g);break;case"img":case"image":case"link":Et("error",g),Et("load",g);break;case"details":Et("toggle",g);break;case"input":un(g,j),Et("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},Et("invalid",g);break;case"textarea":we(g,j),Et("invalid",g)}pn(f,j),w=null;for(var E in j)if(j.hasOwnProperty(E)){var A=j[E];E==="children"?typeof A=="string"?g.textContent!==A&&(j.suppressHydrationWarning!==!0&&dd(g.textContent,A,i),w=["children",A]):typeof A=="number"&&g.textContent!==""+A&&(j.suppressHydrationWarning!==!0&&dd(g.textContent,A,i),w=["children",""+A]):a.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Et("scroll",g)}switch(f){case"input":Ke(g),Ls(g,j,!0);break;case"textarea":Ke(g),ge(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=fd)}g=w,l.updateQueue=g,g!==null&&(l.flags|=4)}else{E=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Se(f)),i==="http://www.w3.org/1999/xhtml"?f==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=E.createElement(f,{is:g.is}):(i=E.createElement(f),f==="select"&&(E=i,g.multiple?E.multiple=!0:g.size&&(E.size=g.size))):i=E.createElementNS(i,f),i[gs]=l,i[yc]=g,Lw(i,l,!1,!1),l.stateNode=i;e:{switch(E=gi(f,g),f){case"dialog":Et("cancel",i),Et("close",i),w=g;break;case"iframe":case"object":case"embed":Et("load",i),w=g;break;case"video":case"audio":for(w=0;w<gc.length;w++)Et(gc[w],i);w=g;break;case"source":Et("error",i),w=g;break;case"img":case"image":case"link":Et("error",i),Et("load",i),w=g;break;case"details":Et("toggle",i),w=g;break;case"input":un(i,g),w=Jt(i,g),Et("invalid",i);break;case"option":w=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},w=se({},g,{value:void 0}),Et("invalid",i);break;case"textarea":we(i,g),w=oe(i,g),Et("invalid",i);break;default:w=g}pn(f,w),A=w;for(j in A)if(A.hasOwnProperty(j)){var $=A[j];j==="style"?mn(i,$):j==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&hr(i,$)):j==="children"?typeof $=="string"?(f!=="textarea"||$!=="")&&Cr(i,$):typeof $=="number"&&Cr(i,""+$):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?$!=null&&j==="onScroll"&&Et("scroll",i):$!=null&&C(i,j,$,E))}switch(f){case"input":Ke(i),Ls(i,g,!1);break;case"textarea":Ke(i),ge(i);break;case"option":g.value!=null&&i.setAttribute("value",""+be(g.value));break;case"select":i.multiple=!!g.multiple,j=g.value,j!=null?G(i,!!g.multiple,j,!1):g.defaultValue!=null&&G(i,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=fd)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return _r(l),null;case 6:if(i&&l.stateNode!=null)$w(i,l,i.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(f=ji(Nc.current),ji(vs.current),yd(l)){if(g=l.stateNode,f=l.memoizedProps,g[gs]=l,(j=g.nodeValue!==f)&&(i=vn,i!==null))switch(i.tag){case 3:dd(g.nodeValue,f,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&dd(g.nodeValue,f,(i.mode&1)!==0)}j&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[gs]=l,l.stateNode=g}return _r(l),null;case 13:if(Pt(Lt),g=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ot&&xn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)B0(),Eo(),l.flags|=98560,j=!1;else if(j=yd(l),g!==null&&g.dehydrated!==null){if(i===null){if(!j)throw Error(r(318));if(j=l.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(r(317));j[gs]=l}else Eo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;_r(l),j=!1}else Bn!==null&&(Np(Bn),Bn=null),j=!0;if(!j)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Lt.current&1)!==0?er===0&&(er=3):Cp())),l.updateQueue!==null&&(l.flags|=4),_r(l),null);case 4:return Ao(),hp(i,l),i===null&&vc(l.stateNode.containerInfo),_r(l),null;case 10:return zm(l.type._context),_r(l),null;case 17:return qr(l.type)&&md(),_r(l),null;case 19:if(Pt(Lt),j=l.memoizedState,j===null)return _r(l),null;if(g=(l.flags&128)!==0,E=j.rendering,E===null)if(g)Pc(j,!1);else{if(er!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(E=Sd(i),E!==null){for(l.flags|=128,Pc(j,!1),g=E.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)j=f,i=g,j.flags&=14680066,E=j.alternate,E===null?(j.childLanes=0,j.lanes=i,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=E.childLanes,j.lanes=E.lanes,j.child=E.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=E.memoizedProps,j.memoizedState=E.memoizedState,j.updateQueue=E.updateQueue,j.type=E.type,i=E.dependencies,j.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),f=f.sibling;return St(Lt,Lt.current&1|2),l.child}i=i.sibling}j.tail!==null&&Vt()>Io&&(l.flags|=128,g=!0,Pc(j,!1),l.lanes=4194304)}else{if(!g)if(i=Sd(E),i!==null){if(l.flags|=128,g=!0,f=i.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),Pc(j,!0),j.tail===null&&j.tailMode==="hidden"&&!E.alternate&&!Ot)return _r(l),null}else 2*Vt()-j.renderingStartTime>Io&&f!==1073741824&&(l.flags|=128,g=!0,Pc(j,!1),l.lanes=4194304);j.isBackwards?(E.sibling=l.child,l.child=E):(f=j.last,f!==null?f.sibling=E:l.child=E,j.last=E)}return j.tail!==null?(l=j.tail,j.rendering=l,j.tail=l.sibling,j.renderingStartTime=Vt(),l.sibling=null,f=Lt.current,St(Lt,g?f&1|2:f&1),l):(_r(l),null);case 22:case 23:return kp(),g=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(yn&1073741824)!==0&&(_r(l),l.subtreeFlags&6&&(l.flags|=8192)):_r(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function CR(i,l){switch(Dm(l),l.tag){case 1:return qr(l.type)&&md(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ao(),Pt(Vr),Pt(wr),Gm(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Hm(l),null;case 13:if(Pt(Lt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Eo()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Pt(Lt),null;case 4:return Ao(),null;case 10:return zm(l.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var Md=!1,jr=!1,ER=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function Mo(i,l){var f=i.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){zt(i,l,g)}else f.current=null}function mp(i,l,f){try{f()}catch(g){zt(i,l,g)}}var Uw=!1;function PR(i,l){if(km=ed,i=x0(),xm(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var w=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{f.nodeType,j.nodeType}catch{f=null;break e}var E=0,A=-1,$=-1,J=0,fe=0,he=i,de=null;t:for(;;){for(var ke;he!==f||w!==0&&he.nodeType!==3||(A=E+w),he!==j||g!==0&&he.nodeType!==3||($=E+g),he.nodeType===3&&(E+=he.nodeValue.length),(ke=he.firstChild)!==null;)de=he,he=ke;for(;;){if(he===i)break t;if(de===f&&++J===w&&(A=E),de===j&&++fe===g&&($=E),(ke=he.nextSibling)!==null)break;he=de,de=he.parentNode}he=ke}f=A===-1||$===-1?null:{start:A,end:$}}else f=null}f=f||{start:0,end:0}}else f=null;for(Cm={focusedElem:i,selectionRange:f},ed=!1,Pe=l;Pe!==null;)if(l=Pe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Pe=i;else for(;Pe!==null;){l=Pe;try{var Te=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var Oe=Te.memoizedProps,qt=Te.memoizedState,Y=l.stateNode,z=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:Vn(l.type,Oe),qt);Y.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=l.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(pe){zt(l,l.return,pe)}if(i=l.sibling,i!==null){i.return=l.return,Pe=i;break}Pe=l.return}return Te=Uw,Uw=!1,Te}function Tc(i,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&i)===i){var j=w.destroy;w.destroy=void 0,j!==void 0&&mp(l,f,j)}w=w.next}while(w!==g)}}function Dd(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&i)===i){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function pp(i){var l=i.ref;if(l!==null){var f=i.stateNode;switch(i.tag){case 5:i=f;break;default:i=f}typeof l=="function"?l(i):l.current=i}}function zw(i){var l=i.alternate;l!==null&&(i.alternate=null,zw(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[gs],delete l[yc],delete l[Rm],delete l[dR],delete l[fR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Bw(i){return i.tag===5||i.tag===3||i.tag===4}function Vw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Bw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gp(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(i,l):f.insertBefore(i,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(i,f)):(l=f,l.appendChild(i)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=fd));else if(g!==4&&(i=i.child,i!==null))for(gp(i,l,f),i=i.sibling;i!==null;)gp(i,l,f),i=i.sibling}function vp(i,l,f){var g=i.tag;if(g===5||g===6)i=i.stateNode,l?f.insertBefore(i,l):f.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(vp(i,l,f),i=i.sibling;i!==null;)vp(i,l,f),i=i.sibling}var pr=null,qn=!1;function ka(i,l,f){for(f=f.child;f!==null;)qw(i,l,f),f=f.sibling}function qw(i,l,f){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Gu,f)}catch{}switch(f.tag){case 5:jr||Mo(f,l);case 6:var g=pr,w=qn;pr=null,ka(i,l,f),pr=g,qn=w,pr!==null&&(qn?(i=pr,f=f.stateNode,i.nodeType===8?i.parentNode.removeChild(f):i.removeChild(f)):pr.removeChild(f.stateNode));break;case 18:pr!==null&&(qn?(i=pr,f=f.stateNode,i.nodeType===8?Tm(i.parentNode,f):i.nodeType===1&&Tm(i,f),lc(i)):Tm(pr,f.stateNode));break;case 4:g=pr,w=qn,pr=f.stateNode.containerInfo,qn=!0,ka(i,l,f),pr=g,qn=w;break;case 0:case 11:case 14:case 15:if(!jr&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var j=w,E=j.destroy;j=j.tag,E!==void 0&&((j&2)!==0||(j&4)!==0)&&mp(f,l,E),w=w.next}while(w!==g)}ka(i,l,f);break;case 1:if(!jr&&(Mo(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(A){zt(f,l,A)}ka(i,l,f);break;case 21:ka(i,l,f);break;case 22:f.mode&1?(jr=(g=jr)||f.memoizedState!==null,ka(i,l,f),jr=g):ka(i,l,f);break;default:ka(i,l,f)}}function Ww(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var f=i.stateNode;f===null&&(f=i.stateNode=new ER),l.forEach(function(g){var w=FR.bind(null,i,g);f.has(g)||(f.add(g),g.then(w,w))})}}function Wn(i,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];try{var j=i,E=l,A=E;e:for(;A!==null;){switch(A.tag){case 5:pr=A.stateNode,qn=!1;break e;case 3:pr=A.stateNode.containerInfo,qn=!0;break e;case 4:pr=A.stateNode.containerInfo,qn=!0;break e}A=A.return}if(pr===null)throw Error(r(160));qw(j,E,w),pr=null,qn=!1;var $=w.alternate;$!==null&&($.return=null),w.return=null}catch(J){zt(w,l,J)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Hw(l,i),l=l.sibling}function Hw(i,l){var f=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Wn(l,i),ys(i),g&4){try{Tc(3,i,i.return),Dd(3,i)}catch(Oe){zt(i,i.return,Oe)}try{Tc(5,i,i.return)}catch(Oe){zt(i,i.return,Oe)}}break;case 1:Wn(l,i),ys(i),g&512&&f!==null&&Mo(f,f.return);break;case 5:if(Wn(l,i),ys(i),g&512&&f!==null&&Mo(f,f.return),i.flags&32){var w=i.stateNode;try{Cr(w,"")}catch(Oe){zt(i,i.return,Oe)}}if(g&4&&(w=i.stateNode,w!=null)){var j=i.memoizedProps,E=f!==null?f.memoizedProps:j,A=i.type,$=i.updateQueue;if(i.updateQueue=null,$!==null)try{A==="input"&&j.type==="radio"&&j.name!=null&&dn(w,j),gi(A,E);var J=gi(A,j);for(E=0;E<$.length;E+=2){var fe=$[E],he=$[E+1];fe==="style"?mn(w,he):fe==="dangerouslySetInnerHTML"?hr(w,he):fe==="children"?Cr(w,he):C(w,fe,he,J)}switch(A){case"input":fn(w,j);break;case"textarea":ye(w,j);break;case"select":var de=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!j.multiple;var ke=j.value;ke!=null?G(w,!!j.multiple,ke,!1):de!==!!j.multiple&&(j.defaultValue!=null?G(w,!!j.multiple,j.defaultValue,!0):G(w,!!j.multiple,j.multiple?[]:"",!1))}w[yc]=j}catch(Oe){zt(i,i.return,Oe)}}break;case 6:if(Wn(l,i),ys(i),g&4){if(i.stateNode===null)throw Error(r(162));w=i.stateNode,j=i.memoizedProps;try{w.nodeValue=j}catch(Oe){zt(i,i.return,Oe)}}break;case 3:if(Wn(l,i),ys(i),g&4&&f!==null&&f.memoizedState.isDehydrated)try{lc(l.containerInfo)}catch(Oe){zt(i,i.return,Oe)}break;case 4:Wn(l,i),ys(i);break;case 13:Wn(l,i),ys(i),w=i.child,w.flags&8192&&(j=w.memoizedState!==null,w.stateNode.isHidden=j,!j||w.alternate!==null&&w.alternate.memoizedState!==null||(wp=Vt())),g&4&&Ww(i);break;case 22:if(fe=f!==null&&f.memoizedState!==null,i.mode&1?(jr=(J=jr)||fe,Wn(l,i),jr=J):Wn(l,i),ys(i),g&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!fe&&(i.mode&1)!==0)for(Pe=i,fe=i.child;fe!==null;){for(he=Pe=fe;Pe!==null;){switch(de=Pe,ke=de.child,de.tag){case 0:case 11:case 14:case 15:Tc(4,de,de.return);break;case 1:Mo(de,de.return);var Te=de.stateNode;if(typeof Te.componentWillUnmount=="function"){g=de,f=de.return;try{l=g,Te.props=l.memoizedProps,Te.state=l.memoizedState,Te.componentWillUnmount()}catch(Oe){zt(g,f,Oe)}}break;case 5:Mo(de,de.return);break;case 22:if(de.memoizedState!==null){Kw(he);continue}}ke!==null?(ke.return=de,Pe=ke):Kw(he)}fe=fe.sibling}e:for(fe=null,he=i;;){if(he.tag===5){if(fe===null){fe=he;try{w=he.stateNode,J?(j=w.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(A=he.stateNode,$=he.memoizedProps.style,E=$!=null&&$.hasOwnProperty("display")?$.display:null,A.style.display=fs("display",E))}catch(Oe){zt(i,i.return,Oe)}}}else if(he.tag===6){if(fe===null)try{he.stateNode.nodeValue=J?"":he.memoizedProps}catch(Oe){zt(i,i.return,Oe)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;fe===he&&(fe=null),he=he.return}fe===he&&(fe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Wn(l,i),ys(i),g&4&&Ww(i);break;case 21:break;default:Wn(l,i),ys(i)}}function ys(i){var l=i.flags;if(l&2){try{e:{for(var f=i.return;f!==null;){if(Bw(f)){var g=f;break e}f=f.return}throw Error(r(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Cr(w,""),g.flags&=-33);var j=Vw(i);vp(i,j,w);break;case 3:case 4:var E=g.stateNode.containerInfo,A=Vw(i);gp(i,A,E);break;default:throw Error(r(161))}}catch($){zt(i,i.return,$)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function TR(i,l,f){Pe=i,Yw(i)}function Yw(i,l,f){for(var g=(i.mode&1)!==0;Pe!==null;){var w=Pe,j=w.child;if(w.tag===22&&g){var E=w.memoizedState!==null||Md;if(!E){var A=w.alternate,$=A!==null&&A.memoizedState!==null||jr;A=Md;var J=jr;if(Md=E,(jr=$)&&!J)for(Pe=w;Pe!==null;)E=Pe,$=E.child,E.tag===22&&E.memoizedState!==null?Qw(w):$!==null?($.return=E,Pe=$):Qw(w);for(;j!==null;)Pe=j,Yw(j),j=j.sibling;Pe=w,Md=A,jr=J}Gw(i)}else(w.subtreeFlags&8772)!==0&&j!==null?(j.return=w,Pe=j):Gw(i)}}function Gw(i){for(;Pe!==null;){var l=Pe;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:jr||Dd(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!jr)if(f===null)g.componentDidMount();else{var w=l.elementType===l.type?f.memoizedProps:Vn(l.type,f.memoizedProps);g.componentDidUpdate(w,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=l.updateQueue;j!==null&&K0(l,j,g);break;case 3:var E=l.updateQueue;if(E!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}K0(l,E,f)}break;case 5:var A=l.stateNode;if(f===null&&l.flags&4){f=A;var $=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&f.focus();break;case"img":$.src&&(f.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var J=l.alternate;if(J!==null){var fe=J.memoizedState;if(fe!==null){var he=fe.dehydrated;he!==null&&lc(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}jr||l.flags&512&&pp(l)}catch(de){zt(l,l.return,de)}}if(l===i){Pe=null;break}if(f=l.sibling,f!==null){f.return=l.return,Pe=f;break}Pe=l.return}}function Kw(i){for(;Pe!==null;){var l=Pe;if(l===i){Pe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,Pe=f;break}Pe=l.return}}function Qw(i){for(;Pe!==null;){var l=Pe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{Dd(4,l)}catch($){zt(l,f,$)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var w=l.return;try{g.componentDidMount()}catch($){zt(l,w,$)}}var j=l.return;try{pp(l)}catch($){zt(l,j,$)}break;case 5:var E=l.return;try{pp(l)}catch($){zt(l,E,$)}}}catch($){zt(l,l.return,$)}if(l===i){Pe=null;break}var A=l.sibling;if(A!==null){A.return=l.return,Pe=A;break}Pe=l.return}}var RR=Math.ceil,Id=P.ReactCurrentDispatcher,xp=P.ReactCurrentOwner,Rn=P.ReactCurrentBatchConfig,ct=0,ir=null,Qt=null,gr=0,yn=0,Do=ba(0),er=0,Rc=null,Si=0,Ld=0,yp=0,Ac=null,Hr=null,wp=0,Io=1/0,Ws=null,Fd=!1,bp=null,Ca=null,$d=!1,Ea=null,Ud=0,Oc=0,_p=null,zd=-1,Bd=0;function Tr(){return(ct&6)!==0?Vt():zd!==-1?zd:zd=Vt()}function Pa(i){return(i.mode&1)===0?1:(ct&2)!==0&&gr!==0?gr&-gr:mR.transition!==null?(Bd===0&&(Bd=Vy()),Bd):(i=yt,i!==0||(i=window.event,i=i===void 0?16:Jy(i.type)),i)}function Hn(i,l,f,g){if(50<Oc)throw Oc=0,_p=null,Error(r(185));nc(i,f,g),((ct&2)===0||i!==ir)&&(i===ir&&((ct&2)===0&&(Ld|=f),er===4&&Ta(i,gr)),Yr(i,g),f===1&&ct===0&&(l.mode&1)===0&&(Io=Vt()+500,gd&&ja()))}function Yr(i,l){var f=i.callbackNode;mT(i,l);var g=Zu(i,i===ir?gr:0);if(g===0)f!==null&&Uy(f),i.callbackNode=null,i.callbackPriority=0;else if(l=g&-g,i.callbackPriority!==l){if(f!=null&&Uy(f),l===1)i.tag===0?hR(Jw.bind(null,i)):L0(Jw.bind(null,i)),cR(function(){(ct&6)===0&&ja()}),f=null;else{switch(qy(g)){case 1:f=tm;break;case 4:f=zy;break;case 16:f=Yu;break;case 536870912:f=By;break;default:f=Yu}f=ib(f,Zw.bind(null,i))}i.callbackPriority=l,i.callbackNode=f}}function Zw(i,l){if(zd=-1,Bd=0,(ct&6)!==0)throw Error(r(327));var f=i.callbackNode;if(Lo()&&i.callbackNode!==f)return null;var g=Zu(i,i===ir?gr:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||l)l=Vd(i,g);else{l=g;var w=ct;ct|=2;var j=eb();(ir!==i||gr!==l)&&(Ws=null,Io=Vt()+500,Ci(i,l));do try{MR();break}catch(A){Xw(i,A)}while(!0);Um(),Id.current=j,ct=w,Qt!==null?l=0:(ir=null,gr=0,l=er)}if(l!==0){if(l===2&&(w=rm(i),w!==0&&(g=w,l=jp(i,w))),l===1)throw f=Rc,Ci(i,0),Ta(i,g),Yr(i,Vt()),f;if(l===6)Ta(i,g);else{if(w=i.current.alternate,(g&30)===0&&!AR(w)&&(l=Vd(i,g),l===2&&(j=rm(i),j!==0&&(g=j,l=jp(i,j))),l===1))throw f=Rc,Ci(i,0),Ta(i,g),Yr(i,Vt()),f;switch(i.finishedWork=w,i.finishedLanes=g,l){case 0:case 1:throw Error(r(345));case 2:Ei(i,Hr,Ws);break;case 3:if(Ta(i,g),(g&130023424)===g&&(l=wp+500-Vt(),10<l)){if(Zu(i,0)!==0)break;if(w=i.suspendedLanes,(w&g)!==g){Tr(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Pm(Ei.bind(null,i,Hr,Ws),l);break}Ei(i,Hr,Ws);break;case 4:if(Ta(i,g),(g&4194240)===g)break;for(l=i.eventTimes,w=-1;0<g;){var E=31-Un(g);j=1<<E,E=l[E],E>w&&(w=E),g&=~j}if(g=w,g=Vt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*RR(g/1960))-g,10<g){i.timeoutHandle=Pm(Ei.bind(null,i,Hr,Ws),g);break}Ei(i,Hr,Ws);break;case 5:Ei(i,Hr,Ws);break;default:throw Error(r(329))}}}return Yr(i,Vt()),i.callbackNode===f?Zw.bind(null,i):null}function jp(i,l){var f=Ac;return i.current.memoizedState.isDehydrated&&(Ci(i,l).flags|=256),i=Vd(i,l),i!==2&&(l=Hr,Hr=f,l!==null&&Np(l)),i}function Np(i){Hr===null?Hr=i:Hr.push.apply(Hr,i)}function AR(i){for(var l=i;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var w=f[g],j=w.getSnapshot;w=w.value;try{if(!zn(j(),w))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ta(i,l){for(l&=~yp,l&=~Ld,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var f=31-Un(l),g=1<<f;i[f]=-1,l&=~g}}function Jw(i){if((ct&6)!==0)throw Error(r(327));Lo();var l=Zu(i,0);if((l&1)===0)return Yr(i,Vt()),null;var f=Vd(i,l);if(i.tag!==0&&f===2){var g=rm(i);g!==0&&(l=g,f=jp(i,g))}if(f===1)throw f=Rc,Ci(i,0),Ta(i,l),Yr(i,Vt()),f;if(f===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Ei(i,Hr,Ws),Yr(i,Vt()),null}function Sp(i,l){var f=ct;ct|=1;try{return i(l)}finally{ct=f,ct===0&&(Io=Vt()+500,gd&&ja())}}function ki(i){Ea!==null&&Ea.tag===0&&(ct&6)===0&&Lo();var l=ct;ct|=1;var f=Rn.transition,g=yt;try{if(Rn.transition=null,yt=1,i)return i()}finally{yt=g,Rn.transition=f,ct=l,(ct&6)===0&&ja()}}function kp(){yn=Do.current,Pt(Do)}function Ci(i,l){i.finishedWork=null,i.finishedLanes=0;var f=i.timeoutHandle;if(f!==-1&&(i.timeoutHandle=-1,lR(f)),Qt!==null)for(f=Qt.return;f!==null;){var g=f;switch(Dm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&md();break;case 3:Ao(),Pt(Vr),Pt(wr),Gm();break;case 5:Hm(g);break;case 4:Ao();break;case 13:Pt(Lt);break;case 19:Pt(Lt);break;case 10:zm(g.type._context);break;case 22:case 23:kp()}f=f.return}if(ir=i,Qt=i=Ra(i.current,null),gr=yn=l,er=0,Rc=null,yp=Ld=Si=0,Hr=Ac=null,_i!==null){for(l=0;l<_i.length;l++)if(f=_i[l],g=f.interleaved,g!==null){f.interleaved=null;var w=g.next,j=f.pending;if(j!==null){var E=j.next;j.next=w,g.next=E}f.pending=g}_i=null}return i}function Xw(i,l){do{var f=Qt;try{if(Um(),kd.current=Td,Cd){for(var g=Ft.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}Cd=!1}if(Ni=0,ar=Xt=Ft=null,Sc=!1,kc=0,xp.current=null,f===null||f.return===null){er=1,Rc=l,Qt=null;break}e:{var j=i,E=f.return,A=f,$=l;if(l=gr,A.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var J=$,fe=A,he=fe.tag;if((fe.mode&1)===0&&(he===0||he===11||he===15)){var de=fe.alternate;de?(fe.updateQueue=de.updateQueue,fe.memoizedState=de.memoizedState,fe.lanes=de.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var ke=Nw(E);if(ke!==null){ke.flags&=-257,Sw(ke,E,A,j,l),ke.mode&1&&jw(j,J,l),l=ke,$=J;var Te=l.updateQueue;if(Te===null){var Oe=new Set;Oe.add($),l.updateQueue=Oe}else Te.add($);break e}else{if((l&1)===0){jw(j,J,l),Cp();break e}$=Error(r(426))}}else if(Ot&&A.mode&1){var qt=Nw(E);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),Sw(qt,E,A,j,l),Fm(Oo($,A));break e}}j=$=Oo($,A),er!==4&&(er=2),Ac===null?Ac=[j]:Ac.push(j),j=E;do{switch(j.tag){case 3:j.flags|=65536,l&=-l,j.lanes|=l;var Y=bw(j,$,l);G0(j,Y);break e;case 1:A=$;var z=j.type,Q=j.stateNode;if((j.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ca===null||!Ca.has(Q)))){j.flags|=65536,l&=-l,j.lanes|=l;var pe=_w(j,A,l);G0(j,pe);break e}}j=j.return}while(j!==null)}rb(f)}catch(De){l=De,Qt===f&&f!==null&&(Qt=f=f.return);continue}break}while(!0)}function eb(){var i=Id.current;return Id.current=Td,i===null?Td:i}function Cp(){(er===0||er===3||er===2)&&(er=4),ir===null||(Si&268435455)===0&&(Ld&268435455)===0||Ta(ir,gr)}function Vd(i,l){var f=ct;ct|=2;var g=eb();(ir!==i||gr!==l)&&(Ws=null,Ci(i,l));do try{OR();break}catch(w){Xw(i,w)}while(!0);if(Um(),ct=f,Id.current=g,Qt!==null)throw Error(r(261));return ir=null,gr=0,er}function OR(){for(;Qt!==null;)tb(Qt)}function MR(){for(;Qt!==null&&!aT();)tb(Qt)}function tb(i){var l=ab(i.alternate,i,yn);i.memoizedProps=i.pendingProps,l===null?rb(i):Qt=l,xp.current=null}function rb(i){var l=i;do{var f=l.alternate;if(i=l.return,(l.flags&32768)===0){if(f=kR(f,l,yn),f!==null){Qt=f;return}}else{if(f=CR(f,l),f!==null){f.flags&=32767,Qt=f;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{er=6,Qt=null;return}}if(l=l.sibling,l!==null){Qt=l;return}Qt=l=i}while(l!==null);er===0&&(er=5)}function Ei(i,l,f){var g=yt,w=Rn.transition;try{Rn.transition=null,yt=1,DR(i,l,f,g)}finally{Rn.transition=w,yt=g}return null}function DR(i,l,f,g){do Lo();while(Ea!==null);if((ct&6)!==0)throw Error(r(327));f=i.finishedWork;var w=i.finishedLanes;if(f===null)return null;if(i.finishedWork=null,i.finishedLanes=0,f===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var j=f.lanes|f.childLanes;if(pT(i,j),i===ir&&(Qt=ir=null,gr=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||$d||($d=!0,ib(Yu,function(){return Lo(),null})),j=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||j){j=Rn.transition,Rn.transition=null;var E=yt;yt=1;var A=ct;ct|=4,xp.current=null,PR(i,f),Hw(f,i),tR(Cm),ed=!!km,Cm=km=null,i.current=f,TR(f),iT(),ct=A,yt=E,Rn.transition=j}else i.current=f;if($d&&($d=!1,Ea=i,Ud=w),j=i.pendingLanes,j===0&&(Ca=null),cT(f.stateNode),Yr(i,Vt()),l!==null)for(g=i.onRecoverableError,f=0;f<l.length;f++)w=l[f],g(w.value,{componentStack:w.stack,digest:w.digest});if(Fd)throw Fd=!1,i=bp,bp=null,i;return(Ud&1)!==0&&i.tag!==0&&Lo(),j=i.pendingLanes,(j&1)!==0?i===_p?Oc++:(Oc=0,_p=i):Oc=0,ja(),null}function Lo(){if(Ea!==null){var i=qy(Ud),l=Rn.transition,f=yt;try{if(Rn.transition=null,yt=16>i?16:i,Ea===null)var g=!1;else{if(i=Ea,Ea=null,Ud=0,(ct&6)!==0)throw Error(r(331));var w=ct;for(ct|=4,Pe=i.current;Pe!==null;){var j=Pe,E=j.child;if((Pe.flags&16)!==0){var A=j.deletions;if(A!==null){for(var $=0;$<A.length;$++){var J=A[$];for(Pe=J;Pe!==null;){var fe=Pe;switch(fe.tag){case 0:case 11:case 15:Tc(8,fe,j)}var he=fe.child;if(he!==null)he.return=fe,Pe=he;else for(;Pe!==null;){fe=Pe;var de=fe.sibling,ke=fe.return;if(zw(fe),fe===J){Pe=null;break}if(de!==null){de.return=ke,Pe=de;break}Pe=ke}}}var Te=j.alternate;if(Te!==null){var Oe=Te.child;if(Oe!==null){Te.child=null;do{var qt=Oe.sibling;Oe.sibling=null,Oe=qt}while(Oe!==null)}}Pe=j}}if((j.subtreeFlags&2064)!==0&&E!==null)E.return=j,Pe=E;else e:for(;Pe!==null;){if(j=Pe,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Tc(9,j,j.return)}var Y=j.sibling;if(Y!==null){Y.return=j.return,Pe=Y;break e}Pe=j.return}}var z=i.current;for(Pe=z;Pe!==null;){E=Pe;var Q=E.child;if((E.subtreeFlags&2064)!==0&&Q!==null)Q.return=E,Pe=Q;else e:for(E=z;Pe!==null;){if(A=Pe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Dd(9,A)}}catch(De){zt(A,A.return,De)}if(A===E){Pe=null;break e}var pe=A.sibling;if(pe!==null){pe.return=A.return,Pe=pe;break e}Pe=A.return}}if(ct=w,ja(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Gu,i)}catch{}g=!0}return g}finally{yt=f,Rn.transition=l}}return!1}function nb(i,l,f){l=Oo(f,l),l=bw(i,l,1),i=Sa(i,l,1),l=Tr(),i!==null&&(nc(i,1,l),Yr(i,l))}function zt(i,l,f){if(i.tag===3)nb(i,i,f);else for(;l!==null;){if(l.tag===3){nb(l,i,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ca===null||!Ca.has(g))){i=Oo(f,i),i=_w(l,i,1),l=Sa(l,i,1),i=Tr(),l!==null&&(nc(l,1,i),Yr(l,i));break}}l=l.return}}function IR(i,l,f){var g=i.pingCache;g!==null&&g.delete(l),l=Tr(),i.pingedLanes|=i.suspendedLanes&f,ir===i&&(gr&f)===f&&(er===4||er===3&&(gr&130023424)===gr&&500>Vt()-wp?Ci(i,0):yp|=f),Yr(i,l)}function sb(i,l){l===0&&((i.mode&1)===0?l=1:(l=Qu,Qu<<=1,(Qu&130023424)===0&&(Qu=4194304)));var f=Tr();i=Bs(i,l),i!==null&&(nc(i,l,f),Yr(i,f))}function LR(i){var l=i.memoizedState,f=0;l!==null&&(f=l.retryLane),sb(i,f)}function FR(i,l){var f=0;switch(i.tag){case 13:var g=i.stateNode,w=i.memoizedState;w!==null&&(f=w.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(l),sb(i,f)}var ab;ab=function(i,l,f){if(i!==null)if(i.memoizedProps!==l.pendingProps||Vr.current)Wr=!0;else{if((i.lanes&f)===0&&(l.flags&128)===0)return Wr=!1,SR(i,l,f);Wr=(i.flags&131072)!==0}else Wr=!1,Ot&&(l.flags&1048576)!==0&&F0(l,xd,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;Od(i,l),i=l.pendingProps;var w=So(l,wr.current);Ro(l,f),w=Zm(null,l,g,i,w,f);var j=Jm();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,qr(g)?(j=!0,pd(l)):j=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,qm(l),w.updater=Rd,l.stateNode=w,w._reactInternals=l,sp(l,g,i,f),l=lp(null,l,g,!0,j,f)):(l.tag=0,Ot&&j&&Mm(l),Pr(null,l,w,f),l=l.child),l;case 16:g=l.elementType;e:{switch(Od(i,l),i=l.pendingProps,w=g._init,g=w(g._payload),l.type=g,w=l.tag=UR(g),i=Vn(g,i),w){case 0:l=op(null,l,g,i,f);break e;case 1:l=Rw(null,l,g,i,f);break e;case 11:l=kw(null,l,g,i,f);break e;case 14:l=Cw(null,l,g,Vn(g.type,i),f);break e}throw Error(r(306,g,""))}return l;case 0:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Vn(g,w),op(i,l,g,w,f);case 1:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Vn(g,w),Rw(i,l,g,w,f);case 3:e:{if(Aw(l),i===null)throw Error(r(387));g=l.pendingProps,j=l.memoizedState,w=j.element,Y0(i,l),Nd(l,g,null,f);var E=l.memoizedState;if(g=E.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},l.updateQueue.baseState=j,l.memoizedState=j,l.flags&256){w=Oo(Error(r(423)),l),l=Ow(i,l,g,f,w);break e}else if(g!==w){w=Oo(Error(r(424)),l),l=Ow(i,l,g,f,w);break e}else for(xn=wa(l.stateNode.containerInfo.firstChild),vn=l,Ot=!0,Bn=null,f=W0(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Eo(),g===w){l=qs(i,l,f);break e}Pr(i,l,g,f)}l=l.child}return l;case 5:return Q0(l),i===null&&Lm(l),g=l.type,w=l.pendingProps,j=i!==null?i.memoizedProps:null,E=w.children,Em(g,w)?E=null:j!==null&&Em(g,j)&&(l.flags|=32),Tw(i,l),Pr(i,l,E,f),l.child;case 6:return i===null&&Lm(l),null;case 13:return Mw(i,l,f);case 4:return Wm(l,l.stateNode.containerInfo),g=l.pendingProps,i===null?l.child=Po(l,null,g,f):Pr(i,l,g,f),l.child;case 11:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Vn(g,w),kw(i,l,g,w,f);case 7:return Pr(i,l,l.pendingProps,f),l.child;case 8:return Pr(i,l,l.pendingProps.children,f),l.child;case 12:return Pr(i,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,w=l.pendingProps,j=l.memoizedProps,E=w.value,St(bd,g._currentValue),g._currentValue=E,j!==null)if(zn(j.value,E)){if(j.children===w.children&&!Vr.current){l=qs(i,l,f);break e}}else for(j=l.child,j!==null&&(j.return=l);j!==null;){var A=j.dependencies;if(A!==null){E=j.child;for(var $=A.firstContext;$!==null;){if($.context===g){if(j.tag===1){$=Vs(-1,f&-f),$.tag=2;var J=j.updateQueue;if(J!==null){J=J.shared;var fe=J.pending;fe===null?$.next=$:($.next=fe.next,fe.next=$),J.pending=$}}j.lanes|=f,$=j.alternate,$!==null&&($.lanes|=f),Bm(j.return,f,l),A.lanes|=f;break}$=$.next}}else if(j.tag===10)E=j.type===l.type?null:j.child;else if(j.tag===18){if(E=j.return,E===null)throw Error(r(341));E.lanes|=f,A=E.alternate,A!==null&&(A.lanes|=f),Bm(E,f,l),E=j.sibling}else E=j.child;if(E!==null)E.return=j;else for(E=j;E!==null;){if(E===l){E=null;break}if(j=E.sibling,j!==null){j.return=E.return,E=j;break}E=E.return}j=E}Pr(i,l,w.children,f),l=l.child}return l;case 9:return w=l.type,g=l.pendingProps.children,Ro(l,f),w=Pn(w),g=g(w),l.flags|=1,Pr(i,l,g,f),l.child;case 14:return g=l.type,w=Vn(g,l.pendingProps),w=Vn(g.type,w),Cw(i,l,g,w,f);case 15:return Ew(i,l,l.type,l.pendingProps,f);case 17:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:Vn(g,w),Od(i,l),l.tag=1,qr(g)?(i=!0,pd(l)):i=!1,Ro(l,f),yw(l,g,w),sp(l,g,w,f),lp(null,l,g,!0,i,f);case 19:return Iw(i,l,f);case 22:return Pw(i,l,f)}throw Error(r(156,l.tag))};function ib(i,l){return $y(i,l)}function $R(i,l,f,g){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,l,f,g){return new $R(i,l,f,g)}function Ep(i){return i=i.prototype,!(!i||!i.isReactComponent)}function UR(i){if(typeof i=="function")return Ep(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===me)return 14}return 2}function Ra(i,l){var f=i.alternate;return f===null?(f=An(i.tag,l,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=l,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&14680064,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,l=i.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f}function qd(i,l,f,g,w,j){var E=2;if(g=i,typeof i=="function")Ep(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case M:return Pi(f.children,w,j,l);case D:E=8,w|=8;break;case W:return i=An(12,f,l,w|2),i.elementType=W,i.lanes=j,i;case K:return i=An(13,f,l,w),i.elementType=K,i.lanes=j,i;case H:return i=An(19,f,l,w),i.elementType=H,i.lanes=j,i;case X:return Wd(f,w,j,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case B:E=10;break e;case Z:E=9;break e;case V:E=11;break e;case me:E=14;break e;case le:E=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=An(E,f,l,w),l.elementType=i,l.type=g,l.lanes=j,l}function Pi(i,l,f,g){return i=An(7,i,g,l),i.lanes=f,i}function Wd(i,l,f,g){return i=An(22,i,g,l),i.elementType=X,i.lanes=f,i.stateNode={isHidden:!1},i}function Pp(i,l,f){return i=An(6,i,null,l),i.lanes=f,i}function Tp(i,l,f){return l=An(4,i.children!==null?i.children:[],i.key,l),l.lanes=f,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function zR(i,l,f,g,w){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nm(0),this.expirationTimes=nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nm(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Rp(i,l,f,g,w,j,E,A,$){return i=new zR(i,l,f,A,$),l===1?(l=1,j===!0&&(l|=8)):l=0,j=An(3,null,null,l),i.current=j,j.stateNode=i,j.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},qm(j),i}function BR(i,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:g==null?null:""+g,children:i,containerInfo:l,implementation:f}}function ob(i){if(!i)return _a;i=i._reactInternals;e:{if(vi(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(qr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var f=i.type;if(qr(f))return D0(i,f,l)}return l}function lb(i,l,f,g,w,j,E,A,$){return i=Rp(f,g,!0,i,w,j,E,A,$),i.context=ob(null),f=i.current,g=Tr(),w=Pa(f),j=Vs(g,w),j.callback=l??null,Sa(f,j,w),i.current.lanes=w,nc(i,w,g),Yr(i,g),i}function Hd(i,l,f,g){var w=l.current,j=Tr(),E=Pa(w);return f=ob(f),l.context===null?l.context=f:l.pendingContext=f,l=Vs(j,E),l.payload={element:i},g=g===void 0?null:g,g!==null&&(l.callback=g),i=Sa(w,l,E),i!==null&&(Hn(i,w,E,j),jd(i,w,E)),E}function Yd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<l?f:l}}function Ap(i,l){cb(i,l),(i=i.alternate)&&cb(i,l)}function VR(){return null}var ub=typeof reportError=="function"?reportError:function(i){console.error(i)};function Op(i){this._internalRoot=i}Gd.prototype.render=Op.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));Hd(i,l,null,null)},Gd.prototype.unmount=Op.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ki(function(){Hd(null,i,null,null)}),l[Fs]=null}};function Gd(i){this._internalRoot=i}Gd.prototype.unstable_scheduleHydration=function(i){if(i){var l=Yy();i={blockedOn:null,target:i,priority:l};for(var f=0;f<va.length&&l!==0&&l<va[f].priority;f++);va.splice(f,0,i),f===0&&Qy(i)}};function Mp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Kd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function db(){}function qR(i,l,f,g,w){if(w){if(typeof g=="function"){var j=g;g=function(){var J=Yd(E);j.call(J)}}var E=lb(l,g,i,0,null,!1,!1,"",db);return i._reactRootContainer=E,i[Fs]=E.current,vc(i.nodeType===8?i.parentNode:i),ki(),E}for(;w=i.lastChild;)i.removeChild(w);if(typeof g=="function"){var A=g;g=function(){var J=Yd($);A.call(J)}}var $=Rp(i,0,!1,null,null,!1,!1,"",db);return i._reactRootContainer=$,i[Fs]=$.current,vc(i.nodeType===8?i.parentNode:i),ki(function(){Hd(l,$,f,g)}),$}function Qd(i,l,f,g,w){var j=f._reactRootContainer;if(j){var E=j;if(typeof w=="function"){var A=w;w=function(){var $=Yd(E);A.call($)}}Hd(l,E,i,w)}else E=qR(f,l,i,w,g);return Yd(E)}Wy=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var f=rc(l.pendingLanes);f!==0&&(sm(l,f|1),Yr(l,Vt()),(ct&6)===0&&(Io=Vt()+500,ja()))}break;case 13:ki(function(){var g=Bs(i,1);if(g!==null){var w=Tr();Hn(g,i,1,w)}}),Ap(i,1)}},am=function(i){if(i.tag===13){var l=Bs(i,134217728);if(l!==null){var f=Tr();Hn(l,i,134217728,f)}Ap(i,134217728)}},Hy=function(i){if(i.tag===13){var l=Pa(i),f=Bs(i,l);if(f!==null){var g=Tr();Hn(f,i,l,g)}Ap(i,l)}},Yy=function(){return yt},Gy=function(i,l){var f=yt;try{return yt=i,l()}finally{yt=f}},po=function(i,l,f){switch(l){case"input":if(fn(i,f),l=f.name,f.type==="radio"&&l!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==i&&g.form===i.form){var w=hd(g);if(!w)throw Error(r(90));et(g),fn(g,w)}}}break;case"textarea":ye(i,f);break;case"select":l=f.value,l!=null&&G(i,!!f.multiple,l,!1)}},mt=Sp,_t=ki;var WR={usingClientEntryPoint:!1,Events:[wc,jo,hd,qu,qe,Sp]},Mc={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HR={bundleType:Mc.bundleType,version:Mc.version,rendererPackageName:Mc.rendererPackageName,rendererConfig:Mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ly(i),i===null?null:i.stateNode},findFiberByHostInstance:Mc.findFiberByHostInstance||VR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zd.isDisabled&&Zd.supportsFiber)try{Gu=Zd.inject(HR),ps=Zd}catch{}}return Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WR,Gr.createPortal=function(i,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mp(l))throw Error(r(200));return BR(i,l,null,f)},Gr.createRoot=function(i,l){if(!Mp(i))throw Error(r(299));var f=!1,g="",w=ub;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=Rp(i,1,!1,null,null,f,!1,g,w),i[Fs]=l.current,vc(i.nodeType===8?i.parentNode:i),new Op(l)},Gr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Ly(l),i=i===null?null:i.stateNode,i},Gr.flushSync=function(i){return ki(i)},Gr.hydrate=function(i,l,f){if(!Kd(l))throw Error(r(200));return Qd(null,i,l,!0,f)},Gr.hydrateRoot=function(i,l,f){if(!Mp(i))throw Error(r(405));var g=f!=null&&f.hydratedSources||null,w=!1,j="",E=ub;if(f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onRecoverableError!==void 0&&(E=f.onRecoverableError)),l=lb(l,null,i,1,f??null,w,!1,j,E),i[Fs]=l.current,vc(i),g)for(i=0;i<g.length;i++)f=g[i],w=f._getVersion,w=w(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,w]:l.mutableSourceEagerHydrationData.push(f,w);return new Gd(l)},Gr.render=function(i,l,f){if(!Kd(l))throw Error(r(200));return Qd(null,i,l,!1,f)},Gr.unmountComponentAtNode=function(i){if(!Kd(i))throw Error(r(40));return i._reactRootContainer?(ki(function(){Qd(null,null,i,!1,function(){i._reactRootContainer=null,i[Fs]=null})}),!0):!1},Gr.unstable_batchedUpdates=Sp,Gr.unstable_renderSubtreeIntoContainer=function(i,l,f,g){if(!Kd(f))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Qd(i,l,f,!1,g)},Gr.version="18.3.1-next-f1338f8080-20240426",Gr}var wb;function Mj(){if(wb)return Fp.exports;wb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Fp.exports=n4(),Fp.exports}var bb;function s4(){if(bb)return Xd;bb=1;var e=Mj();return Xd.createRoot=e.createRoot,Xd.hydrateRoot=e.hydrateRoot,Xd}var a4=s4();const i4=so(a4);var $l=Mj();const Dj=so($l);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}var Xa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xa||(Xa={}));const _b="popstate";function o4(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:c,hash:u}=n.location;return Lg("",{pathname:o,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Rf(a)}return c4(t,r,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ij(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l4(){return Math.random().toString(36).substr(2,8)}function jb(e,t){return{usr:e.state,key:e.key,idx:t}}function Lg(e,t,r,n){return r===void 0&&(r=null),ou({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ul(t):t,{state:r,key:t&&t.key||n||l4()})}function Rf(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function c4(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,u=Xa.Pop,d=null,h=m();h==null&&(h=0,c.replaceState(ou({},c.state,{idx:h}),""));function m(){return(c.state||{idx:null}).idx}function p(){u=Xa.Pop;let b=m(),S=b==null?null:b-h;h=b,d&&d({action:u,location:_.location,delta:S})}function v(b,S){u=Xa.Push;let k=Lg(_.location,b,S);h=m()+1;let C=jb(k,h),P=_.createHref(k);try{c.pushState(C,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;a.location.assign(P)}o&&d&&d({action:u,location:_.location,delta:1})}function y(b,S){u=Xa.Replace;let k=Lg(_.location,b,S);h=m();let C=jb(k,h),P=_.createHref(k);c.replaceState(C,"",P),o&&d&&d({action:u,location:_.location,delta:0})}function N(b){let S=a.location.origin!=="null"?a.location.origin:a.location.href,k=typeof b=="string"?b:Rf(b);return k=k.replace(/ $/,"%20"),Ht(S,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,S)}let _={get action(){return u},get location(){return e(a,c)},listen(b){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(_b,p),d=b,()=>{a.removeEventListener(_b,p),d=null}},createHref(b){return t(a,b)},createURL:N,encodeLocation(b){let S=N(b);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:y,go(b){return c.go(b)}};return _}var Nb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Nb||(Nb={}));function u4(e,t,r){return r===void 0&&(r="/"),d4(e,t,r)}function d4(e,t,r,n){let a=typeof t=="string"?Ul(t):t,o=Jv(a.pathname||"/",r);if(o==null)return null;let c=Lj(e);f4(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let h=N4(o);u=b4(c[d],h)}return u}function Lj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,c,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};d.relativePath.startsWith("/")&&(Ht(d.relativePath.startsWith(n),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(n.length));let h=ti([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(Ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Lj(o.children,t,m,h)),!(o.path==null&&!o.index)&&t.push({path:h,score:y4(h,o.index),routesMeta:m})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let d of Fj(o.path))a(o,c,d)}),t}function Fj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=Fj(n.join("/")),u=[];return u.push(...c.map(d=>d===""?o:[o,d].join("/"))),a&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function f4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:w4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const h4=/^:[\w-]+$/,m4=3,p4=2,g4=1,v4=10,x4=-2,Sb=e=>e==="*";function y4(e,t){let r=e.split("/"),n=r.length;return r.some(Sb)&&(n+=x4),t&&(n+=p4),r.filter(a=>!Sb(a)).reduce((a,o)=>a+(h4.test(o)?m4:o===""?g4:v4),n)}function w4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function b4(e,t,r){let{routesMeta:n}=e,a={},o="/",c=[];for(let u=0;u<n.length;++u){let d=n[u],h=u===n.length-1,m=o==="/"?t:t.slice(o.length)||"/",p=_4({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),v=d.route;if(!p)return null;Object.assign(a,p.params),c.push({params:a,pathname:ti([o,p.pathname]),pathnameBase:E4(ti([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=ti([o,p.pathnameBase]))}return c}function _4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=j4(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,m,p)=>{let{paramName:v,isOptional:y}=m;if(v==="*"){let _=u[p]||"";c=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const N=u[p];return y&&!N?h[v]=void 0:h[v]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:e}}function j4(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ij(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function N4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ij(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jv(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function S4(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ul(e):e;return{pathname:r?r.startsWith("/")?r:k4(r,t):t,search:P4(n),hash:T4(a)}}function k4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function zp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xv(e,t){let r=C4(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ex(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ul(e):(a=ou({},e),Ht(!a.pathname||!a.pathname.includes("?"),zp("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),zp("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),zp("#","search","hash",a)));let o=e===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),p-=1;a.pathname=v.join("/")}u=p>=0?t[p]:"/"}let d=S4(a,u),h=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}const ti=e=>e.join("/").replace(/\/\/+/g,"/"),E4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,T4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function R4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $j=["post","put","patch","delete"];new Set($j);const A4=["get",...$j];new Set(A4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lu.apply(this,arguments)}const tx=x.createContext(null),O4=x.createContext(null),di=x.createContext(null),ih=x.createContext(null),Os=x.createContext({outlet:null,matches:[],isDataRoute:!1}),Uj=x.createContext(null);function M4(e,t){let{relative:r}=t===void 0?{}:t;zl()||Ht(!1);let{basename:n,navigator:a}=x.useContext(di),{hash:o,pathname:c,search:u}=Vj(e,{relative:r}),d=c;return n!=="/"&&(d=c==="/"?n:ti([n,c])),a.createHref({pathname:d,search:u,hash:o})}function zl(){return x.useContext(ih)!=null}function on(){return zl()||Ht(!1),x.useContext(ih).location}function zj(e){x.useContext(di).static||x.useLayoutEffect(e)}function ot(){let{isDataRoute:e}=x.useContext(Os);return e?K4():D4()}function D4(){zl()||Ht(!1);let e=x.useContext(tx),{basename:t,future:r,navigator:n}=x.useContext(di),{matches:a}=x.useContext(Os),{pathname:o}=on(),c=JSON.stringify(Xv(a,r.v7_relativeSplatPath)),u=x.useRef(!1);return zj(()=>{u.current=!0}),x.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let p=ex(h,JSON.parse(c),o,m.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ti([t,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[t,n,c,o,e])}const I4=x.createContext(null);function L4(e){let t=x.useContext(Os).outlet;return t&&x.createElement(I4.Provider,{value:e},t)}function Bj(){let{matches:e}=x.useContext(Os),t=e[e.length-1];return t?t.params:{}}function Vj(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(di),{matches:a}=x.useContext(Os),{pathname:o}=on(),c=JSON.stringify(Xv(a,n.v7_relativeSplatPath));return x.useMemo(()=>ex(e,JSON.parse(c),o,r==="path"),[e,c,o,r])}function F4(e,t){return $4(e,t)}function $4(e,t,r,n){zl()||Ht(!1);let{navigator:a}=x.useContext(di),{matches:o}=x.useContext(Os),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let d=c?c.pathnameBase:"/";c&&c.route;let h=on(),m;if(t){var p;let b=typeof t=="string"?Ul(t):t;d==="/"||(p=b.pathname)!=null&&p.startsWith(d)||Ht(!1),m=b}else m=h;let v=m.pathname||"/",y=v;if(d!=="/"){let b=d.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let N=u4(e,{pathname:y}),_=q4(N&&N.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:ti([d,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:ti([d,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&_?x.createElement(ih.Provider,{value:{location:lu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Xa.Pop}},_):_}function U4(){let e=G4(),t=R4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const z4=x.createElement(U4,null);class B4 extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Os.Provider,{value:this.props.routeContext},x.createElement(Uj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function V4(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(tx);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Os.Provider,{value:t},n)}function q4(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,u=(a=r)==null?void 0:a.errors;if(u!=null){let m=c.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Ht(!1),c=c.slice(0,Math.min(c.length,m+1))}let d=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let m=0;m<c.length;m++){let p=c[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:v,errors:y}=r,N=p.route.loader&&v[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||N){d=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((m,p,v)=>{let y,N=!1,_=null,b=null;r&&(y=u&&p.route.id?u[p.route.id]:void 0,_=p.route.errorElement||z4,d&&(h<0&&v===0?(Q4("route-fallback"),N=!0,b=null):h===v&&(N=!0,b=p.route.hydrateFallbackElement||null)));let S=t.concat(c.slice(0,v+1)),k=()=>{let C;return y?C=_:N?C=b:p.route.Component?C=x.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=m,x.createElement(V4,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?x.createElement(B4,{location:r.location,revalidation:r.revalidation,component:_,error:y,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):k()},null)}var qj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qj||{}),Wj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wj||{});function W4(e){let t=x.useContext(tx);return t||Ht(!1),t}function H4(e){let t=x.useContext(O4);return t||Ht(!1),t}function Y4(e){let t=x.useContext(Os);return t||Ht(!1),t}function Hj(e){let t=Y4(),r=t.matches[t.matches.length-1];return r.route.id||Ht(!1),r.route.id}function G4(){var e;let t=x.useContext(Uj),r=H4(),n=Hj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function K4(){let{router:e}=W4(qj.UseNavigateStable),t=Hj(Wj.UseNavigateStable),r=x.useRef(!1);return zj(()=>{r.current=!0}),x.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,lu({fromRouteId:t},o)))},[e,t])}const kb={};function Q4(e,t,r){kb[e]||(kb[e]=!0)}function Z4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function J4(e){let{to:t,replace:r,state:n,relative:a}=e;zl()||Ht(!1);let{future:o,static:c}=x.useContext(di),{matches:u}=x.useContext(Os),{pathname:d}=on(),h=ot(),m=ex(t,Xv(u,o.v7_relativeSplatPath),d,a==="path"),p=JSON.stringify(m);return x.useEffect(()=>h(JSON.parse(p),{replace:r,state:n,relative:a}),[h,p,a,r,n]),null}function X4(e){return L4(e.context)}function Rt(e){Ht(!1)}function eA(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Xa.Pop,navigator:o,static:c=!1,future:u}=e;zl()&&Ht(!1);let d=t.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:d,navigator:o,static:c,future:lu({v7_relativeSplatPath:!1},u)}),[d,u,o,c]);typeof n=="string"&&(n=Ul(n));let{pathname:m="/",search:p="",hash:v="",state:y=null,key:N="default"}=n,_=x.useMemo(()=>{let b=Jv(m,d);return b==null?null:{location:{pathname:b,search:p,hash:v,state:y,key:N},navigationType:a}},[d,m,p,v,y,N,a]);return _==null?null:x.createElement(di.Provider,{value:h},x.createElement(ih.Provider,{children:r,value:_}))}function tA(e){let{children:t,location:r}=e;return F4(Fg(t),r)}new Promise(()=>{});function Fg(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let o=[...t,a];if(n.type===x.Fragment){r.push.apply(r,Fg(n.props.children,o));return}n.type!==Rt&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Fg(n.props.children,o)),r.push(c)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $g(){return $g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$g.apply(this,arguments)}function rA(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function nA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sA(e,t){return e.button===0&&(!t||t==="_self")&&!nA(e)}function Ug(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function aA(e,t){let r=Ug(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(o=>{r.append(a,o)})}),r}const iA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oA="6";try{window.__reactRouterVersion=oA}catch{}const lA="startTransition",Cb=Zv[lA];function cA(e){let{basename:t,children:r,future:n,window:a}=e,o=x.useRef();o.current==null&&(o.current=o4({window:a,v5Compat:!0}));let c=o.current,[u,d]=x.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},m=x.useCallback(p=>{h&&Cb?Cb(()=>d(p)):d(p)},[d,h]);return x.useLayoutEffect(()=>c.listen(m),[c,m]),x.useEffect(()=>Z4(n),[n]),x.createElement(eA,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const uA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:c,state:u,target:d,to:h,preventScrollReset:m,viewTransition:p}=t,v=rA(t,iA),{basename:y}=x.useContext(di),N,_=!1;if(typeof h=="string"&&dA.test(h)&&(N=h,uA))try{let C=new URL(window.location.href),P=h.startsWith("//")?new URL(C.protocol+h):new URL(h),T=Jv(P.pathname,y);P.origin===C.origin&&T!=null?h=T+P.search+P.hash:_=!0}catch{}let b=M4(h,{relative:a}),S=fA(h,{replace:c,state:u,target:d,preventScrollReset:m,relative:a,viewTransition:p});function k(C){n&&n(C),C.defaultPrevented||S(C)}return x.createElement("a",$g({},v,{href:N||b,onClick:_||o?n:k,ref:r,target:d}))});var Eb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Eb||(Eb={}));var Pb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pb||(Pb={}));function fA(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:c,viewTransition:u}=t===void 0?{}:t,d=ot(),h=on(),m=Vj(e,{relative:c});return x.useCallback(p=>{if(sA(p,r)){p.preventDefault();let v=n!==void 0?n:Rf(h)===Rf(m);d(e,{replace:v,state:a,preventScrollReset:o,relative:c,viewTransition:u})}},[h,d,m,n,a,r,e,o,c,u])}function hA(e){let t=x.useRef(Ug(e)),r=x.useRef(!1),n=on(),a=x.useMemo(()=>aA(n.search,r.current?null:t.current),[n.search]),o=ot(),c=x.useCallback((u,d)=>{const h=Ug(typeof u=="function"?u(a):u);r.current=!0,o("?"+h,d)},[o,a]);return[a,c]}const mA="modulepreload",pA=function(e){return"/"+e},Tb={},Nu=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let c=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=c(r.map(h=>{if(h=pA(h),h in Tb)return;Tb[h]=!0;const m=h.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const v=document.createElement("link");if(v.rel=m?"stylesheet":mA,m||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),m)return new Promise((y,N)=>{v.addEventListener("load",y),v.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return t().catch(o)})},gA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nu(async()=>{const{default:n}=await Promise.resolve().then(()=>Bl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class rx extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class vA extends rx{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xA extends rx{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yA extends rx{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var zg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(zg||(zg={}));var wA=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};class bA{constructor(t,{headers:r={},customFetch:n,region:a=zg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=gA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return wA(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:c}=r;let u={},{region:d}=r;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let h;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=c):typeof c=="string"?(u["Content-Type"]="text/plain",h=c):typeof FormData<"u"&&c instanceof FormData?h=c:(u["Content-Type"]="application/json",h=JSON.stringify(c)));const m=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),a),body:h}).catch(N=>{throw new vA(N)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new xA(m);if(!m.ok)throw new yA(m);let v=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield m.json():v==="application/octet-stream"?y=yield m.blob():v==="text/event-stream"?y=m:v==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null}}catch(a){return{data:null,error:a}}})}}var lr={},Fo={},$o={},Uo={},zo={},Bo={},_A=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Nl=_A();const jA=Nl.fetch,Yj=Nl.fetch.bind(Nl),Gj=Nl.Headers,NA=Nl.Request,SA=Nl.Response,Bl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gj,Request:NA,Response:SA,default:Yj,fetch:jA},Symbol.toStringTag,{value:"Module"})),kA=ZR(Bl);var ef={},Rb;function Kj(){if(Rb)return ef;Rb=1,Object.defineProperty(ef,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ef.default=e,ef}var Ab;function Qj(){if(Ab)return Bo;Ab=1;var e=Bo&&Bo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Bo,"__esModule",{value:!0});const t=e(kA),r=e(Kj());class n{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,c){return this.headers=Object.assign({},this.headers),this.headers[o]=c,this}then(o,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,p,v;let y=null,N=null,_=null,b=h.status,S=h.statusText;if(h.ok){if(this.method!=="HEAD"){const T=await h.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=T:N=JSON.parse(T))}const C=(m=this.headers.Prefer)===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),P=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&P&&P.length>1&&(_=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(y={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,_=null,b=406,S="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const C=await h.text();try{y=JSON.parse(C),Array.isArray(y)&&h.status===404&&(N=[],y=null,b=200,S="OK")}catch{h.status===404&&C===""?(b=204,S="No Content"):y={message:C}}if(y&&this.isMaybeSingle&&(!((v=y==null?void 0:y.details)===null||v===void 0)&&v.includes("0 rows"))&&(y=null,b=200,S="OK"),y&&this.shouldThrowOnError)throw new r.default(y)}return{error:y,data:N,count:_,status:b,statusText:S}});return this.shouldThrowOnError||(d=d.catch(h=>{var m,p,v;return{error:{message:`${(m=h==null?void 0:h.name)!==null&&m!==void 0?m:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(p=h==null?void 0:h.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(v=h==null?void 0:h.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,c)}returns(){return this}overrideTypes(){return this}}return Bo.default=n,Bo}var Ob;function Zj(){if(Ob)return zo;Ob=1;var e=zo&&zo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zo,"__esModule",{value:!0});const t=e(Qj());class r extends t.default{select(a){let o=!1;const c=(a??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",c),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:o=!0,nullsFirst:c,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${a}.${o?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:o,referencedTable:c=o}={}){const u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(u,`${a}`),this}range(a,o,{foreignTable:c,referencedTable:u=c}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(h,`${o-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:o=!1,settings:c=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var m;const p=[a?"analyze":null,o?"verbose":null,c?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),v=(m=this.headers.Accept)!==null&&m!==void 0?m:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${v}"; options=${p};`,h==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return zo.default=r,zo}var Mb;function nx(){if(Mb)return Uo;Mb=1;var e=Uo&&Uo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Uo,"__esModule",{value:!0});const t=e(Zj());class r extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}in(a,o){const c=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(a,`in.(${c})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:c,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const h=c===void 0?"":`(${c})`;return this.url.searchParams.append(a,`${d}fts${h}.${o}`),this}match(a){return Object.entries(a).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(a,o,c){return this.url.searchParams.append(a,`not.${o}.${c}`),this}or(a,{foreignTable:o,referencedTable:c=o}={}){const u=c?`${c}.or`:"or";return this.url.searchParams.append(u,`(${a})`),this}filter(a,o,c){return this.url.searchParams.append(a,`${o}.${c}`),this}}return Uo.default=r,Uo}var Db;function Jj(){if(Db)return $o;Db=1;var e=$o&&$o.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($o,"__esModule",{value:!0});const t=e(nx());class r{constructor(a,{headers:o={},schema:c,fetch:u}){this.url=a,this.headers=o,this.schema=c,this.fetch=u}select(a,{head:o=!1,count:c}={}){const u=o?"HEAD":"GET";let d=!1;const h=(a??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",h),c&&(this.headers.Prefer=`count=${c}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:o,defaultToNull:c=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const h=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:o,ignoreDuplicates:c=!1,count:u,defaultToNull:d=!0}={}){const h="POST",m=[`resolution=${c?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),d||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(a)){const p=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:o}={}){const c="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const o="DELETE",c=[];return a&&c.push(`count=${a}`),this.headers.Prefer&&c.unshift(this.headers.Prefer),this.headers.Prefer=c.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return $o.default=r,$o}var Ic={},Lc={},Ib;function CA(){return Ib||(Ib=1,Object.defineProperty(Lc,"__esModule",{value:!0}),Lc.version=void 0,Lc.version="0.0.0-automated"),Lc}var Lb;function EA(){if(Lb)return Ic;Lb=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.DEFAULT_HEADERS=void 0;const e=CA();return Ic.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ic}var Fb;function PA(){if(Fb)return Fo;Fb=1;var e=Fo&&Fo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Fo,"__esModule",{value:!0});const t=e(Jj()),r=e(nx()),n=EA();class a{constructor(c,{headers:u={},schema:d,fetch:h}={}){this.url=c,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=h}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:d=!1,get:h=!1,count:m}={}){let p;const v=new URL(`${this.url}/rpc/${c}`);let y;d||h?(p=d?"HEAD":"GET",Object.entries(u).filter(([_,b])=>b!==void 0).map(([_,b])=>[_,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([_,b])=>{v.searchParams.append(_,b)})):(p="POST",y=u);const N=Object.assign({},this.headers);return m&&(N.Prefer=`count=${m}`),new r.default({method:p,url:v,headers:N,schema:this.schemaName,body:y,fetch:this.fetch,allowEmpty:!1})}}return Fo.default=a,Fo}var $b;function TA(){if($b)return lr;$b=1;var e=lr&&lr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(lr,"__esModule",{value:!0}),lr.PostgrestError=lr.PostgrestBuilder=lr.PostgrestTransformBuilder=lr.PostgrestFilterBuilder=lr.PostgrestQueryBuilder=lr.PostgrestClient=void 0;const t=e(PA());lr.PostgrestClient=t.default;const r=e(Jj());lr.PostgrestQueryBuilder=r.default;const n=e(nx());lr.PostgrestFilterBuilder=n.default;const a=e(Zj());lr.PostgrestTransformBuilder=a.default;const o=e(Qj());lr.PostgrestBuilder=o.default;const c=e(Kj());return lr.PostgrestError=c.default,lr.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:o.default,PostgrestError:c.default},lr}var RA=TA();const AA=so(RA),{PostgrestClient:OA,PostgrestQueryBuilder:YW,PostgrestFilterBuilder:GW,PostgrestTransformBuilder:KW,PostgrestBuilder:QW,PostgrestError:ZW}=AA;let Bg;typeof window>"u"?Bg=require("ws"):Bg=window.WebSocket;const MA="2.11.10",DA={"X-Client-Info":`realtime-js/${MA}`},IA="1.0.0",Xj=1e4,LA=1e3;var al;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(al||(al={}));var Rr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rr||(Rr={}));var Jn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Jn||(Jn={}));var Vg;(function(e){e.websocket="websocket"})(Vg||(Vg={}));var Oi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Oi||(Oi={}));class FA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2);let c=this.HEADER_LENGTH+2;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+o));c=c+o;const h=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class eN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(kt||(kt={}));const Ub=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,c)=>(o[c]=$A(c,e,t,a),o),{})},$A=(e,t,r,n)=>{const a=t.find(u=>u.name===e),o=a==null?void 0:a.type,c=r[e];return o&&!n.includes(o)?tN(o,c):qg(c)},tN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return VA(t,r)}switch(e){case kt.bool:return UA(t);case kt.float4:case kt.float8:case kt.int2:case kt.int4:case kt.int8:case kt.numeric:case kt.oid:return zA(t);case kt.json:case kt.jsonb:return BA(t);case kt.timestamp:return qA(t);case kt.abstime:case kt.date:case kt.daterange:case kt.int4range:case kt.int8range:case kt.money:case kt.reltime:case kt.text:case kt.time:case kt.timestamptz:case kt.timetz:case kt.tsrange:case kt.tstzrange:return qg(t);default:return qg(t)}},qg=e=>e,UA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},VA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const c=e.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>tN(t,u))}return e},qA=e=>typeof e=="string"?e.replace(" ","T"):e,rN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Bp{constructor(t,r,n={},a=Xj){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var zb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(zb||(zb={}));class eu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eu.syncState(this.state,a,o,c),this.pendingDiffs.forEach(d=>{this.state=eu.syncDiff(this.state,d,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=eu.syncDiff(this.state,a,o,c),u())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),c=this.transformState(r),u={},d={};return this.map(o,(h,m)=>{c[h]||(d[h]=m)}),this.map(c,(h,m)=>{const p=o[h];if(p){const v=m.map(b=>b.presence_ref),y=p.map(b=>b.presence_ref),N=m.filter(b=>y.indexOf(b.presence_ref)<0),_=p.filter(b=>v.indexOf(b.presence_ref)<0);N.length>0&&(u[h]=N),_.length>0&&(d[h]=_)}else u[h]=m}),this.syncDiff(o,{joins:u,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(u,d)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(d),m.length>0){const p=t[u].map(y=>y.presence_ref),v=m.filter(y=>p.indexOf(y.presence_ref)<0);t[u].unshift(...v)}n(u,m,d)}),this.map(c,(u,d)=>{let h=t[u];if(!h)return;const m=d.map(p=>p.presence_ref);h=h.filter(p=>m.indexOf(p.presence_ref)<0),t[u]=h,a(u,h,d),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bb||(Bb={}));var Vb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vb||(Vb={}));var Zs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Zs||(Zs={}));class sx{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Bp(this,Jn.join,this.params,this.timeout),this.rejoinTimer=new eN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jn.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new eu(this),this.broadcastEndpointURL=rN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:c,private:u}}=this.params;this._onError(m=>t==null?void 0:t(Zs.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Zs.CLOSED));const d={},h={broadcast:o,presence:c,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var p;if(this.socket.setAuth(),m===void 0){t==null||t(Zs.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,y=(p=v==null?void 0:v.length)!==null&&p!==void 0?p:0,N=[];for(let _=0;_<y;_++){const b=v[_],{filter:{event:S,schema:k,table:C,filter:P}}=b,T=m&&m[_];if(T&&T.event===S&&T.schema===k&&T.table===C&&T.filter===P)N.push(Object.assign(Object.assign({},b),{id:T.id}));else{this.unsubscribe(),this.state=Rr.errored,t==null||t(Zs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Zs.SUBSCRIBED);return}}).receive("error",m=>{this.state=Rr.errored,t==null||t(Zs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Zs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:c}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jn.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new Bp(this,Jn.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Bp(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const c=t.toLocaleLowerCase(),{close:u,error:d,leave:h,join:m}=Jn;if(n&&[u,d,h,m].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var N,_,b;return((N=y.filter)===null||N===void 0?void 0:N.event)==="*"||((b=(_=y.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(y=>y.callback(v,n)):(o=this.bindings[c])===null||o===void 0||o.filter(y=>{var N,_,b,S,k,C;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const P=y.id,T=(N=y.filter)===null||N===void 0?void 0:N.event;return P&&((_=r.ids)===null||_===void 0?void 0:_.includes(P))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const P=(k=(S=y==null?void 0:y.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return P==="*"||P===((C=r==null?void 0:r.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof v=="object"&&"ids"in v){const N=v.data,{schema:_,table:b,commit_timestamp:S,type:k,errors:C}=N;v=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:S,eventType:k,new:{},old:{},errors:C}),this._getPayloadRecords(N))}y.callback(v,n)})}_isClosed(){return this.state===Rr.closed}_isJoined(){return this.state===Rr.joined}_isJoining(){return this.state===Rr.joining}_isLeaving(){return this.state===Rr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&sx.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Jn.close,{},t)}_onError(t){this._on(Jn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ub(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ub(t.columns,t.old_record)),r}}const qb=()=>{},WA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class HA{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=DA,this.params={},this.timeout=Xj,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qb,this.ref=0,this.logger=qb,this.conn=null,this.sendBuffer=[],this.serializer=new FA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...u)=>Nu(async()=>{const{default:d}=await Promise.resolve().then(()=>Bl);return{default:d}},void 0).then(({default:d})=>d(...u)):c=fetch,(...u)=>c(...u)},this.endPoint=`${t}/${Vg.websocket}`,this.httpEndpoint=rN(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,c)=>c(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Bg),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new YA(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IA}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case al.connecting:return Oi.Connecting;case al.open:return Oi.Open;case al.closing:return Oi.Closing;default:return Oi.Closed}}isConnected(){return this.connectionState()===Oi.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new sx(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:a,ref:o}=t,c=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Jn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(LA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:o,ref:c}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${a} ${c&&"("+c+")"||""}`,o),Array.from(this.channels).filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,o,c)),this.stateChangeCallbacks.message.forEach(u=>u(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Jn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([WA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class YA{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=al.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ax extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class GA extends ax{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Wg extends ax{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var KA=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const nN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nu(async()=>{const{default:n}=await Promise.resolve().then(()=>Bl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},QA=()=>KA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nu(()=>Promise.resolve().then(()=>Bl),void 0)).Response:Response}),Hg=e=>{if(Array.isArray(e))return e.map(r=>Hg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Hg(n)}),t};var ao=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const Vp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZA=(e,t,r)=>ao(void 0,void 0,void 0,function*(){const n=yield QA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new GA(Vp(a),e.status||500))}).catch(a=>{t(new Wg(Vp(a),a))}):t(new Wg(Vp(e),e))}),JA=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Su(e,t,r,n,a,o){return ao(this,void 0,void 0,function*(){return new Promise((c,u)=>{e(r,JA(t,n,a,o)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>c(d)).catch(d=>ZA(d,u,n))})})}function Af(e,t,r,n){return ao(this,void 0,void 0,function*(){return Su(e,"GET",t,r,n)})}function $a(e,t,r,n,a){return ao(this,void 0,void 0,function*(){return Su(e,"POST",t,n,a,r)})}function XA(e,t,r,n,a){return ao(this,void 0,void 0,function*(){return Su(e,"PUT",t,n,a,r)})}function eO(e,t,r,n){return ao(this,void 0,void 0,function*(){return Su(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sN(e,t,r,n,a){return ao(this,void 0,void 0,function*(){return Su(e,"DELETE",t,n,a,r)})}var Kr=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const tO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class rO{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=nN(a)}uploadOrUpdate(t,r,n,a){return Kr(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},Wb),a);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const d=c.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",c.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a!=null&&a.headers&&(u=Object.assign(Object.assign({},u),a.headers));const h=this._removeEmptyFolders(r),m=this._getFinalPath(h),p=yield this.fetch(`${this.url}/object/${m}`,Object.assign({method:t,body:o,headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{})),v=yield p.json();return p.ok?{data:{path:h,id:v.Id,fullPath:v.Key},error:null}:{data:null,error:v}}catch(o){if(cr(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Kr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),c=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${c}`);u.searchParams.set("token",r);try{let d;const h=Object.assign({upsert:Wb.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",h.cacheControl)):(d=n,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType);const p=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:m}),v=yield p.json();return p.ok?{data:{path:o,fullPath:v.Key},error:null}:{data:null,error:v}}catch(d){if(cr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Kr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield $a(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(this.url+o.url),u=c.searchParams.get("token");if(!u)throw new ax("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Kr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Kr(this,void 0,void 0,function*(){try{return{data:{path:(yield $a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Kr(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield $a(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const c=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Kr(this,void 0,void 0,function*(){try{const a=yield $a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}download(t,r){return Kr(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),c=o?`?${o}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Af(this.fetch,`${this.url}/${a}/${u}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(cr(u))return{data:null,error:u};throw u}})}info(t){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Af(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Hg(n),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}exists(t){return Kr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield eO(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(cr(n)&&n instanceof Wg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(t){return Kr(this,void 0,void 0,function*(){try{return{data:yield sN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Kr(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},tO),r),{prefix:t||""});return{data:yield $a(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const nO="2.7.1",sO={"X-Client-Info":`storage-js/${nO}`};var Vo=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};class aO{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},sO),r),this.fetch=nN(n)}listBuckets(){return Vo(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}getBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vo(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vo(this,void 0,void 0,function*(){try{return{data:yield XA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield $a(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vo(this,void 0,void 0,function*(){try{return{data:yield sN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}}class iO extends aO{constructor(t,r={},n){super(t,r,n)}from(t){return new rO(this.url,this.headers,t,this.fetch)}}const oO="2.50.0";let Kc="";typeof Deno<"u"?Kc="deno":typeof document<"u"?Kc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kc="react-native":Kc="node";const lO={"X-Client-Info":`supabase-js-${Kc}/${oO}`},cO={headers:lO},uO={schema:"public"},dO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fO={};var hO=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};const mO=e=>{let t;return e?t=e:typeof fetch>"u"?t=Yj:t=fetch,(...r)=>t(...r)},pO=()=>typeof Headers>"u"?Gj:Headers,gO=(e,t,r)=>{const n=mO(r),a=pO();return(o,c)=>hO(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let h=new a(c==null?void 0:c.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(o,Object.assign(Object.assign({},c),{headers:h}))})};var vO=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};function xO(e){return e.endsWith("/")?e:e+"/"}function yO(e,t){var r,n;const{db:a,auth:o,realtime:c,global:u}=e,{db:d,auth:h,realtime:m,global:p}=t,v={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},m),c),global:Object.assign(Object.assign(Object.assign({},p),u),{headers:Object.assign(Object.assign({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>vO(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const aN="2.70.0",Xo=30*1e3,Yg=3,qp=Yg*Xo,wO="http://localhost:9999",bO="supabase.auth.token",_O={"X-Client-Info":`gotrue-js/${aN}`},Gg="X-Supabase-Api-Version",iN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NO=6e5;class ix extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ge(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class SO extends ix{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kO(e){return Ge(e)&&e.name==="AuthApiError"}class oN extends ix{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fi extends ix{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Ia extends fi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CO(e){return Ge(e)&&e.name==="AuthSessionMissingError"}class tf extends fi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rf extends fi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nf extends fi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EO(e){return Ge(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hb extends fi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Kg extends fi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Wp(e){return Ge(e)&&e.name==="AuthRetryableFetchError"}class Yb extends fi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class tu extends fi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Of="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gb=` 	
\r=`.split(""),PO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Gb.length;t+=1)e[Gb[t].charCodeAt(0)]=-2;for(let t=0;t<Of.length;t+=1)e[Of[t].charCodeAt(0)]=t;return e})();function Kb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Of[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Of[n]),t.queuedBits-=6}}function lN(e,t,r){const n=PO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qb(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{AO(c,n,r)};for(let c=0;c<e.length;c+=1)lN(e.charCodeAt(c),a,o);return t.join("")}function TO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}TO(n,t)}}function AO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function OO(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)lN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function MO(e){const t=[];return RO(e,r=>t.push(r)),new Uint8Array(t)}function DO(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Kb(a,r,n)),Kb(null,r,n),t.join("")}function IO(e){return Math.round(Date.now()/1e3)+e}function LO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Gn=()=>typeof window<"u"&&typeof document<"u",Ti={tested:!1,writable:!1},ru=()=>{if(!Gn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ti.tested)return Ti.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ti.tested=!0,Ti.writable=!0}catch{Ti.tested=!0,Ti.writable=!1}return Ti.writable};function FO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const cN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nu(async()=>{const{default:n}=await Promise.resolve().then(()=>Bl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$O=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",uN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},sf=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},af=async(e,t)=>{await e.removeItem(t)};class oh{constructor(){this.promise=new oh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}oh.promiseConstructor=Promise;function Hp(e){const t=e.split(".");if(t.length!==3)throw new tu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jO.test(t[n]))throw new tu("JWT not in base64url format");return{header:JSON.parse(Qb(t[0])),payload:JSON.parse(Qb(t[1])),signature:OO(t[2]),raw:{header:t[0],payload:t[1]}}}async function UO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function zO(e,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await e(o);if(!t(o,null,c)){n(c);return}}catch(c){if(!t(o,c)){a(c);return}}})()})}function BO(e){return("0"+e.toString(16)).substr(-2)}function VO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,BO).join("")}async function qO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function WO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await qO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qo(e,t,r=!1){const n=VO();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await uN(e,`${t}-code-verifier`,a);const o=await WO(n);return[o,n===o?"plain":"s256"]}const HO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YO(e){const t=e.headers.get(Gg);if(!t||!t.match(HO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function GO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wo(e){if(!QO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var ZO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ri=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JO=[502,503,504];async function Zb(e){var t;if(!$O(e))throw new Kg(Ri(e),0);if(JO.includes(e.status))throw new Kg(Ri(e),e.status);let r;try{r=await e.json()}catch(o){throw new oN(Ri(o),o)}let n;const a=YO(e);if(a&&a.getTime()>=iN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Yb(Ri(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ia}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Yb(Ri(r),e.status,r.weak_password.reasons);throw new SO(Ri(r),e.status||500,n)}const XO=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function nt(e,t,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[Gg]||(o[Gg]=iN["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",d=await eM(e,t,r+u,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function eM(e,t,r,n,a,o){const c=XO(t,n,a,o);let u;try{u=await e(r,Object.assign({},c))}catch(d){throw console.error(d),new Kg(Ri(d),0)}if(u.ok||await Zb(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(d){await Zb(d)}}function Ks(e){var t;let r=null;sM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jb(e){const t=Ks(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function za(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tM(e){return{data:e,error:null}}function rM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,c=ZO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},d=Object.assign({},c);return{data:{properties:u,user:d},error:null}}function nM(e){return e}function sM(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yp=["global","local","others"];var aM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class iM{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=cN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Yp[0]){if(Yp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yp.join(", ")}`);try{return await nt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await nt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:za})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=aM(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await nt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:rM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await nt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:za})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,c,u,d;try{const h={nextPage:null,lastPage:0,total:0},m=await nt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:nM});if(m.error)throw m.error;const p=await m.json(),v=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return y.length>0&&(y.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(N.split(";")[1].split("=")[1]);h[`${b}Page`]=_}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},p),h),error:null}}catch(h){if(Ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Wo(t);try{return await nt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:za})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wo(t);try{return await nt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:za})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wo(t);try{return await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:za})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wo(t.userId);try{const{data:r,error:n}=await nt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wo(t.userId),Wo(t.id);try{return{data:await nt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}const oM={getItem:e=>ru()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ru()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ru()&&globalThis.localStorage.removeItem(e)}};function Xb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function lM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ho={debug:!!(globalThis&&ru()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cM extends dN{}async function uM(e,t,r){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ho.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}lM();const dM={url:wO,storageKey:bO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_O,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function e1(e,t,r){return await r()}class cu{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cu.nextInstanceID,cu.nextInstanceID+=1,this.instanceID>0&&Gn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},dM),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new iM({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=cN(a.fetch),this.lock=a.lock||e1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Gn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=uM:this.lock=e1,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:ru()?this.storage=oM:(this.memoryStorage={},this.storage=Xb(this.memoryStorage)):(this.memoryStorage={},this.storage=Xb(this.memoryStorage)),Gn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${aN}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=FO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Gn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),EO(o)){const d=(t=o.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ge(r)?{error:r}:{error:new oN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ks}),{data:c,error:u}=o;if(u||!c)return{data:{user:null,session:null},error:u};const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(Ge(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:m,password:p,options:v}=t;let y=null,N=null;this.flowType==="pkce"&&([y,N]=await qo(this.storage,this.storageKey)),o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:y,code_challenge_method:N},xform:Ks})}else if("phone"in t){const{phone:m,password:p,options:v}=t;o=await nt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(a=v==null?void 0:v.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Ks})}else throw new rf("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return{data:{user:null,session:null},error:u};const d=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(Ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:c,options:u}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Jb})}else if("phone"in t){const{phone:o,password:c,options:u}=t;r=await nt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Jb})}else throw new rf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new tf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,a,o,c,u,d,h,m,p,v,y;let N,_;if("message"in t)N=t.message,_=t.signature;else{const{chain:b,wallet:S,statement:k,options:C}=t;let P;if(Gn())if(typeof S=="object")P=S;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))P=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=S}const T=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const R=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),k?{statement:k}:null));let M;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")M=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)M=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)N=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),_=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${T.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(a=(n=C==null?void 0:C.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(m=C==null?void 0:C.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const R=await P.signMessage(new TextEncoder().encode(N),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=R}}try{const{data:b,error:S}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:DO(_)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ks});if(S)throw S;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new tf}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:S})}catch(b){if(Ge(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await sf(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:c}=await nt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ks});if(await af(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new tf}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(Ge(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:c}=t,u=await nt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ks}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new tf}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(r){if(Ge(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,o,c;try{if("email"in t){const{email:u,options:d}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await qo(this.storage,this.storageKey));const{error:p}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:d}=t,{data:h,error:m}=await nt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(c=d==null?void 0:d.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new rf("You must provide either an email or phone number.")}catch(u){if(Ge(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await nt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Ks});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const d=c.session,h=c.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await qo(this.storage,this.storageKey)),await nt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:tM})}catch(o){if(Ge(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ia;const{error:a}=await nt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Ge(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:c}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:c,error:u}=await nt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new rf("You must provide either an email or phone number and a type")}catch(r){if(Ge(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await sf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<qp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let c=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,m)=>(!c&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,m))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:za}):await this._useSession(async r=>{var n,a,o;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ia}:await nt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:za})})}catch(r){if(Ge(r))return CO(r)&&(await this._removeSession(),await af(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new Ia;const c=a.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await qo(this.storage,this.storageKey));const{data:h,error:m}=await nt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:c.access_token,xform:za});if(m)throw m;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ia;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:c}=Hp(t.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{session:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;o={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Ge(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:u}=r;if(u)throw u;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ia;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ge(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Gn())throw new nf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hb("No code detected.");const{data:k,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:u,expires_at:d,token_type:h}=t;if(!o||!u||!c||!h)throw new nf("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(u);let v=m+p;d&&(v=parseInt(d));const y=v-m;y*1e3<=Xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const N=v-p;m-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,v,m):m-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,v,m);const{data:_,error:b}=await this._getUser(o);if(b)throw b;const S={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:p,expires_at:v,refresh_token:c,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Ge(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await sf(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,t);if(u&&!(kO(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await af(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=LO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await qo(this.storage,this.storageKey,!0));try{return await nt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Ge(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var c,u,d,h,m;const{data:p,error:v}=o;if(v)throw v;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await nt(this.fetch,"GET",y,{headers:this.headers,jwt:(m=(h=p.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Gn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Ge(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)throw c;return await nt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zO(async a=>(a>0&&await UO(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await nt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ks})),(a,o)=>{const c=200*Math.pow(2,a);return o&&Wp(o)&&Date.now()+c-n<Xo})}catch(n){if(this._debug(r,"error",n),Ge(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Gn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await sf(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qp;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${qp}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Wp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ia;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new oh;const{data:o,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!o.session)throw new Ia;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),Ge(o)){const c={session:null,error:o};return Wp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(d){o.push(d)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await uN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await af(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Xo}ms, refresh threshold is ${Yg} ticks`),a<=Yg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await qo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await nt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)return{data:null,error:c};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:h}=await nt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:c,error:u}=await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:u})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await nt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=n.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Hp(a.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const m=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n||(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+NO>Date.now()))return n;const{data:a,error:o}=await nt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new tu("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(c=>c.kid===t),!n)throw new tu("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:y,error:N}=await this.getSession();if(N||!y.session)return{data:null,error:N};n=y.session.access_token}const{header:a,payload:o,signature:c,raw:{header:u,payload:d}}=Hp(n);if(GO(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:a,signature:c},error:null}}const h=KO(a.alg),m=await this.fetchJwk(a.kid,r),p=await crypto.subtle.importKey("jwk",m,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,c,MO(`${u}.${d}`)))throw new tu("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}}cu.nextInstanceID=0;const fM=cu;class hM extends fM{constructor(t){super(t)}}var mM=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(m){try{h(n.next(m))}catch(p){c(p)}}function d(m){try{h(n.throw(m))}catch(p){c(p)}}function h(m){m.done?o(m.value):a(m.value).then(u,d)}h((n=n.apply(e,t||[])).next())})};class pM{constructor(t,r,n){var a,o,c;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const u=xO(t),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:uO,realtime:fO,auth:Object.assign(Object.assign({},dO),{storageKey:h}),global:cO},p=yO(n??{},m);this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=p.auth)!==null&&c!==void 0?c:{},this.headers,p.global.fetch),this.fetch=gO(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new OA(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),p.accessToken||this._listenForAuthEvents()}get functions(){return new bA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new iO(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return mM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:o,flowType:c,lock:u,debug:d},h,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hM({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),h),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:c,lock:u,debug:d,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new HA(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fN=(e,t,r)=>new pM(e,t,r),gM="https://vbxhcqlcbusqwsqesoxw.supabase.co",vM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZieGhjcWxjYnVzcXdzcWVzb3h3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMTM1NzcsImV4cCI6MjA2MDU4OTU3N30.hoUUYHcdBUgqbKpw-C_pct0bynPFGLnXvIpkneEwTZo",ae=fN(gM,vM);function je(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function t1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function na(...e){return t=>{let r=!1;const n=e.map(a=>{const o=t1(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():t1(e[a],null)}}}}function at(...e){return x.useCallback(na(...e),e)}function xM(e,t){const r=x.createContext(t),n=o=>{const{children:c,...u}=o,d=x.useMemo(()=>u,Object.values(u));return s.jsx(r.Provider,{value:d,children:c})};n.displayName=e+"Provider";function a(o){const c=x.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function ln(e,t=[]){let r=[];function n(o,c){const u=x.createContext(c),d=r.length;r=[...r,c];const h=p=>{var S;const{scope:v,children:y,...N}=p,_=((S=v==null?void 0:v[e])==null?void 0:S[d])||u,b=x.useMemo(()=>N,Object.values(N));return s.jsx(_.Provider,{value:b,children:y})};h.displayName=o+"Provider";function m(p,v){var _;const y=((_=v==null?void 0:v[e])==null?void 0:_[d])||u,N=x.useContext(y);if(N)return N;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,m]}const a=()=>{const o=r.map(c=>x.createContext(c));return function(u){const d=(u==null?void 0:u[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return a.scopeName=e,[n,yM(a,...t)]}function yM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=n.reduce((u,{useScope:d,scopeName:h})=>{const p=d(o)[`__scope${h}`];return{...u,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}function ai(e){const t=wM(e),r=x.forwardRef((n,a)=>{const{children:o,...c}=n,u=x.Children.toArray(o),d=u.find(_M);if(d){const h=d.props.children,m=u.map(p=>p===d?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:p);return s.jsx(t,{...c,ref:a,children:x.isValidElement(h)?x.cloneElement(h,void 0,m):null})}return s.jsx(t,{...c,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}var hN=ai("Slot");function wM(e){const t=x.forwardRef((r,n)=>{const{children:a,...o}=r;if(x.isValidElement(a)){const c=NM(a),u=jM(o,a.props);return a.type!==x.Fragment&&(u.ref=n?na(n,c):c),x.cloneElement(a,u)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mN=Symbol("radix.slottable");function bM(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mN,t}function _M(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mN}function jM(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...u)=>{const d=o(...u);return a(...u),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function NM(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function lh(e){const t=e+"CollectionProvider",[r,n]=ln(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=_=>{const{scope:b,children:S}=_,k=te.useRef(null),C=te.useRef(new Map).current;return s.jsx(a,{scope:b,itemMap:C,collectionRef:k,children:S})};c.displayName=t;const u=e+"CollectionSlot",d=ai(u),h=te.forwardRef((_,b)=>{const{scope:S,children:k}=_,C=o(u,S),P=at(b,C.collectionRef);return s.jsx(d,{ref:P,children:k})});h.displayName=u;const m=e+"CollectionItemSlot",p="data-radix-collection-item",v=ai(m),y=te.forwardRef((_,b)=>{const{scope:S,children:k,...C}=_,P=te.useRef(null),T=at(b,P),R=o(m,S);return te.useEffect(()=>(R.itemMap.set(P,{ref:P,...C}),()=>void R.itemMap.delete(P))),s.jsx(v,{[p]:"",ref:T,children:k})});y.displayName=m;function N(_){const b=o(e+"CollectionConsumer",_);return te.useCallback(()=>{const k=b.collectionRef.current;if(!k)return[];const C=Array.from(k.querySelectorAll(`[${p}]`));return Array.from(b.itemMap.values()).sort((R,M)=>C.indexOf(R.ref.current)-C.indexOf(M.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:c,Slot:h,ItemSlot:y},N,n]}var SM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Re=SM.reduce((e,t)=>{const r=ai(`Primitive.${t}`),n=x.forwardRef((a,o)=>{const{asChild:c,...u}=a,d=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...u,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ox(e,t){e&&$l.flushSync(()=>e.dispatchEvent(t))}function Fr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function kM(e,t=globalThis==null?void 0:globalThis.document){const r=Fr(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var CM="DismissableLayer",Qg="dismissableLayer.update",EM="dismissableLayer.pointerDownOutside",PM="dismissableLayer.focusOutside",r1,pN=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vl=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...d}=e,h=x.useContext(pN),[m,p]=x.useState(null),v=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=x.useState({}),N=at(t,M=>p(M)),_=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),S=_.indexOf(b),k=m?_.indexOf(m):-1,C=h.layersWithOutsidePointerEventsDisabled.size>0,P=k>=S,T=RM(M=>{const D=M.target,W=[...h.branches].some(B=>B.contains(D));!P||W||(a==null||a(M),c==null||c(M),M.defaultPrevented||u==null||u())},v),R=AM(M=>{const D=M.target;[...h.branches].some(B=>B.contains(D))||(o==null||o(M),c==null||c(M),M.defaultPrevented||u==null||u())},v);return kM(M=>{k===h.layers.size-1&&(n==null||n(M),!M.defaultPrevented&&u&&(M.preventDefault(),u()))},v),x.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(r1=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),n1(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=r1)}},[m,v,r,h]),x.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),n1())},[m,h]),x.useEffect(()=>{const M=()=>y({});return document.addEventListener(Qg,M),()=>document.removeEventListener(Qg,M)},[]),s.jsx(Re.div,{...d,ref:N,style:{pointerEvents:C?P?"auto":"none":void 0,...e.style},onFocusCapture:je(e.onFocusCapture,R.onFocusCapture),onBlurCapture:je(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:je(e.onPointerDownCapture,T.onPointerDownCapture)})});Vl.displayName=CM;var TM="DismissableLayerBranch",gN=x.forwardRef((e,t)=>{const r=x.useContext(pN),n=x.useRef(null),a=at(t,n);return x.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Re.div,{...e,ref:a})});gN.displayName=TM;function RM(e,t=globalThis==null?void 0:globalThis.document){const r=Fr(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let d=function(){vN(EM,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function AM(e,t=globalThis==null?void 0:globalThis.document){const r=Fr(e),n=x.useRef(!1);return x.useEffect(()=>{const a=o=>{o.target&&!n.current&&vN(PM,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function n1(){const e=new CustomEvent(Qg);document.dispatchEvent(e)}function vN(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ox(a,o):a.dispatchEvent(o)}var OM=Vl,MM=gN,Kt=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},DM="Portal",ql=x.forwardRef((e,t)=>{var u;const{container:r,...n}=e,[a,o]=x.useState(!1);Kt(()=>o(!0),[]);const c=r||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?Dj.createPortal(s.jsx(Re.div,{...n,ref:t}),c):null});ql.displayName=DM;function IM(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var kn=e=>{const{present:t,children:r}=e,n=LM(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),o=at(n.ref,FM(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:o}):null};kn.displayName="Presence";function LM(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),o=x.useRef("none"),c=e?"mounted":"unmounted",[u,d]=IM(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=of(n.current);o.current=u==="mounted"?h:"none"},[u]),Kt(()=>{const h=n.current,m=a.current;if(m!==e){const v=o.current,y=of(h);e?d("MOUNT"):y==="none"||(h==null?void 0:h.display)==="none"?d("UNMOUNT"):d(m&&v!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Kt(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=y=>{const _=of(n.current).includes(y.animationName);if(y.target===t&&_&&(d("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},v=y=>{y.target===t&&(o.current=of(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function of(e){return(e==null?void 0:e.animationName)||"none"}function FM(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $M=Zv[" useInsertionEffect ".trim().toString()]||Kt;function Ts({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,o,c]=UM({defaultProp:t,onChange:r}),u=e!==void 0,d=u?e:a;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const p=m.current;p!==u&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=u},[u,n])}const h=x.useCallback(m=>{var p;if(u){const v=zM(m)?m(e):m;v!==e&&((p=c.current)==null||p.call(c,v))}else o(m)},[u,e,o,c]);return[d,h]}function UM({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),o=x.useRef(t);return $M(()=>{o.current=t},[t]),x.useEffect(()=>{var c;a.current!==r&&((c=o.current)==null||c.call(o,r),a.current=r)},[r,a]),[r,n,o]}function zM(e){return typeof e=="function"}var xN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BM="VisuallyHidden",lx=x.forwardRef((e,t)=>s.jsx(Re.span,{...e,ref:t,style:{...xN,...e.style}}));lx.displayName=BM;var cx="ToastProvider",[ux,VM,qM]=lh("Toast"),[yN,JW]=ln("Toast",[qM]),[WM,ch]=yN(cx),wN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:c}=e,[u,d]=x.useState(null),[h,m]=x.useState(0),p=x.useRef(!1),v=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cx}\`. Expected non-empty \`string\`.`),s.jsx(ux.Provider,{scope:t,children:s.jsx(WM,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:d,onToastAdd:x.useCallback(()=>m(y=>y+1),[]),onToastRemove:x.useCallback(()=>m(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:v,children:c})})};wN.displayName=cx;var bN="ToastViewport",HM=["F8"],Zg="toast.viewportPause",Jg="toast.viewportResume",_N=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=HM,label:a="Notifications ({hotkey})",...o}=e,c=ch(bN,r),u=VM(r),d=x.useRef(null),h=x.useRef(null),m=x.useRef(null),p=x.useRef(null),v=at(t,p,c.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=c.toastCount>0;x.useEffect(()=>{const b=S=>{var C;n.length!==0&&n.every(P=>S[P]||S.code===P)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),x.useEffect(()=>{const b=d.current,S=p.current;if(N&&b&&S){const k=()=>{if(!c.isClosePausedRef.current){const R=new CustomEvent(Zg);S.dispatchEvent(R),c.isClosePausedRef.current=!0}},C=()=>{if(c.isClosePausedRef.current){const R=new CustomEvent(Jg);S.dispatchEvent(R),c.isClosePausedRef.current=!1}},P=R=>{!b.contains(R.relatedTarget)&&C()},T=()=>{b.contains(document.activeElement)||C()};return b.addEventListener("focusin",k),b.addEventListener("focusout",P),b.addEventListener("pointermove",k),b.addEventListener("pointerleave",T),window.addEventListener("blur",k),window.addEventListener("focus",C),()=>{b.removeEventListener("focusin",k),b.removeEventListener("focusout",P),b.removeEventListener("pointermove",k),b.removeEventListener("pointerleave",T),window.removeEventListener("blur",k),window.removeEventListener("focus",C)}}},[N,c.isClosePausedRef]);const _=x.useCallback(({tabbingDirection:b})=>{const k=u().map(C=>{const P=C.ref.current,T=[P,...aD(P)];return b==="forwards"?T:T.reverse()});return(b==="forwards"?k.reverse():k).flat()},[u]);return x.useEffect(()=>{const b=p.current;if(b){const S=k=>{var T,R,M;const C=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!C){const D=document.activeElement,W=k.shiftKey;if(k.target===b&&W){(T=h.current)==null||T.focus();return}const V=_({tabbingDirection:W?"backwards":"forwards"}),K=V.findIndex(H=>H===D);Gp(V.slice(K+1))?k.preventDefault():W?(R=h.current)==null||R.focus():(M=m.current)==null||M.focus()}};return b.addEventListener("keydown",S),()=>b.removeEventListener("keydown",S)}},[u,_]),s.jsxs(MM,{ref:d,role:"region","aria-label":a.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&s.jsx(Xg,{ref:h,onFocusFromOutsideViewport:()=>{const b=_({tabbingDirection:"forwards"});Gp(b)}}),s.jsx(ux.Slot,{scope:r,children:s.jsx(Re.ol,{tabIndex:-1,...o,ref:v})}),N&&s.jsx(Xg,{ref:m,onFocusFromOutsideViewport:()=>{const b=_({tabbingDirection:"backwards"});Gp(b)}})]})});_N.displayName=bN;var jN="ToastFocusProxy",Xg=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=ch(jN,r);return s.jsx(lx,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:c=>{var h;const u=c.relatedTarget;!((h=o.viewport)!=null&&h.contains(u))&&n()}})});Xg.displayName=jN;var ku="Toast",YM="toast.swipeStart",GM="toast.swipeMove",KM="toast.swipeCancel",QM="toast.swipeEnd",NN=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...c}=e,[u,d]=Ts({prop:n,defaultProp:a??!0,onChange:o,caller:ku});return s.jsx(kn,{present:r||u,children:s.jsx(XM,{open:u,...c,ref:t,onClose:()=>d(!1),onPause:Fr(e.onPause),onResume:Fr(e.onResume),onSwipeStart:je(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:je(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:je(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:je(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});NN.displayName=ku;var[ZM,JM]=yN(ku,{onClose(){}}),XM=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:c,onEscapeKeyDown:u,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:v,onSwipeEnd:y,...N}=e,_=ch(ku,r),[b,S]=x.useState(null),k=at(t,H=>S(H)),C=x.useRef(null),P=x.useRef(null),T=a||_.duration,R=x.useRef(0),M=x.useRef(T),D=x.useRef(0),{onToastAdd:W,onToastRemove:B}=_,Z=Fr(()=>{var me;(b==null?void 0:b.contains(document.activeElement))&&((me=_.viewport)==null||me.focus()),c()}),V=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(D.current),R.current=new Date().getTime(),D.current=window.setTimeout(Z,H))},[Z]);x.useEffect(()=>{const H=_.viewport;if(H){const me=()=>{V(M.current),h==null||h()},le=()=>{const X=new Date().getTime()-R.current;M.current=M.current-X,window.clearTimeout(D.current),d==null||d()};return H.addEventListener(Zg,le),H.addEventListener(Jg,me),()=>{H.removeEventListener(Zg,le),H.removeEventListener(Jg,me)}}},[_.viewport,T,d,h,V]),x.useEffect(()=>{o&&!_.isClosePausedRef.current&&V(T)},[o,T,_.isClosePausedRef,V]),x.useEffect(()=>(W(),()=>B()),[W,B]);const K=x.useMemo(()=>b?RN(b):null,[b]);return _.viewport?s.jsxs(s.Fragment,{children:[K&&s.jsx(eD,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),s.jsx(ZM,{scope:r,onClose:Z,children:$l.createPortal(s.jsx(ux.ItemSlot,{scope:r,children:s.jsx(OM,{asChild:!0,onEscapeKeyDown:je(u,()=>{_.isFocusedToastEscapeKeyDownRef.current||Z(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":_.swipeDirection,...N,ref:k,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:je(e.onKeyDown,H=>{H.key==="Escape"&&(u==null||u(H.nativeEvent),H.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,Z()))}),onPointerDown:je(e.onPointerDown,H=>{H.button===0&&(C.current={x:H.clientX,y:H.clientY})}),onPointerMove:je(e.onPointerMove,H=>{if(!C.current)return;const me=H.clientX-C.current.x,le=H.clientY-C.current.y,X=!!P.current,U=["left","right"].includes(_.swipeDirection),q=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,se=U?q(0,me):0,L=U?0:q(0,le),O=H.pointerType==="touch"?10:2,ie={x:se,y:L},ce={originalEvent:H,delta:ie};X?(P.current=ie,lf(GM,p,ce,{discrete:!1})):s1(ie,_.swipeDirection,O)?(P.current=ie,lf(YM,m,ce,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(me)>O||Math.abs(le)>O)&&(C.current=null)}),onPointerUp:je(e.onPointerUp,H=>{const me=P.current,le=H.target;if(le.hasPointerCapture(H.pointerId)&&le.releasePointerCapture(H.pointerId),P.current=null,C.current=null,me){const X=H.currentTarget,U={originalEvent:H,delta:me};s1(me,_.swipeDirection,_.swipeThreshold)?lf(QM,y,U,{discrete:!0}):lf(KM,v,U,{discrete:!0}),X.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),eD=e=>{const{__scopeToast:t,children:r,...n}=e,a=ch(ku,t),[o,c]=x.useState(!1),[u,d]=x.useState(!1);return nD(()=>c(!0)),x.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:s.jsx(ql,{asChild:!0,children:s.jsx(lx,{...n,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},tD="ToastTitle",SN=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Re.div,{...n,ref:t})});SN.displayName=tD;var rD="ToastDescription",kN=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Re.div,{...n,ref:t})});kN.displayName=rD;var CN="ToastAction",EN=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(TN,{altText:r,asChild:!0,children:s.jsx(dx,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${CN}\`. Expected non-empty \`string\`.`),null)});EN.displayName=CN;var PN="ToastClose",dx=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=JM(PN,r);return s.jsx(TN,{asChild:!0,children:s.jsx(Re.button,{type:"button",...n,ref:t,onClick:je(e.onClick,a.onClose)})})});dx.displayName=PN;var TN=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function RN(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),sD(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const c=n.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...RN(n))}}),t}function lf(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?ox(a,o):a.dispatchEvent(o)}var s1=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function nD(e=()=>{}){const t=Fr(e);Kt(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function sD(e){return e.nodeType===e.ELEMENT_NODE}function aD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var iD=wN,AN=_N,ON=NN,MN=SN,DN=kN,IN=EN,LN=dx;function FN(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=FN(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function $N(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=FN(e))&&(n&&(n+=" "),n+=t);return n}const a1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,i1=$N,Cu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return i1(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,c=Object.keys(a).map(h=>{const m=r==null?void 0:r[h],p=o==null?void 0:o[h];if(m===null)return null;const v=a1(m)||a1(p);return a[h][v]}),u=r&&Object.entries(r).reduce((h,m)=>{let[p,v]=m;return v===void 0||(h[p]=v),h},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:p,className:v,...y}=m;return Object.entries(y).every(N=>{let[_,b]=N;return Array.isArray(b)?b.includes({...o,...u}[_]):{...o,...u}[_]===b})?[...h,p,v]:h},[]);return i1(e,c,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UN=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:c,...u},d)=>x.createElement("svg",{ref:d,...lD,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:UN("lucide",a),...u},[...c.map(([h,m])=>x.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const r=x.forwardRef(({className:n,...a},o)=>x.createElement(cD,{ref:o,iconNode:t,className:UN(`lucide-${oD(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=Ae("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=Ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Ae("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Ae("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=Ae("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=Ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=Ae("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Ae("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=Ae("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Ae("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ae("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Ae("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=Ae("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=Ae("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Ae("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=Ae("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Ae("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Ae("Pizza",[["path",{d:"m12 14-1 1",key:"11onhr"}],["path",{d:"m13.75 18.25-1.25 1.42",key:"1yisr3"}],["path",{d:"M17.775 5.654a15.68 15.68 0 0 0-12.121 12.12",key:"1qtqk6"}],["path",{d:"M18.8 9.3a1 1 0 0 0 2.1 7.7",key:"fbbbr2"}],["path",{d:"M21.964 20.732a1 1 0 0 1-1.232 1.232l-18-5a1 1 0 0 1-.695-1.232A19.68 19.68 0 0 1 15.732 2.037a1 1 0 0 1 1.232.695z",key:"1hyfdd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=Ae("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=Ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=Ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=Ae("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=Ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=Ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=Ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=Ae("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ae("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=Ae("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mx="-",VD=e=>{const t=WD(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{const u=c.split(mx);return u[0]===""&&u.length!==1&&u.shift(),WN(u,t)||qD(c)},getConflictingClassGroupIds:(c,u)=>{const d=r[c]||[];return u&&n[c]?[...d,...n[c]]:d}}},WN=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?WN(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(mx);return(c=t.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},f1=/^\[(.+)\]$/,qD=e=>{if(f1.test(e)){const t=f1.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},WD=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return YD(Object.entries(e.classGroups),r).forEach(([o,c])=>{nv(c,n,o,t)}),n},nv=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:h1(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(HD(a)){nv(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,c])=>{nv(c,h1(t,o),r,n)})})},h1=(e,t)=>{let r=e;return t.split(mx).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},HD=e=>e.isThemeGetter,YD=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,u])=>[t+c,u])):o);return[r,a]}):e,GD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,c)=>{r.set(o,c),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let c=r.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return a(o,c),c},set(o,c){r.has(o)?r.set(o,c):a(o,c)}}},HN="!",KD=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,c=u=>{const d=[];let h=0,m=0,p;for(let b=0;b<u.length;b++){let S=u[b];if(h===0){if(S===a&&(n||u.slice(b,b+o)===t)){d.push(u.slice(m,b)),m=b+o;continue}if(S==="/"){p=b;continue}}S==="["?h++:S==="]"&&h--}const v=d.length===0?u:u.substring(m),y=v.startsWith(HN),N=y?v.substring(1):v,_=p&&p>m?p-m:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:_}};return r?u=>r({className:u,parseClassName:c}):c},QD=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZD=e=>({cache:GD(e.cacheSize),parseClassName:KD(e),...VD(e)}),JD=/\s+/,XD=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],c=e.trim().split(JD);let u="";for(let d=c.length-1;d>=0;d-=1){const h=c[d],{modifiers:m,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:y}=r(h);let N=!!y,_=n(N?v.substring(0,y):v);if(!_){if(!N){u=h+(u.length>0?" "+u:u);continue}if(_=n(v),!_){u=h+(u.length>0?" "+u:u);continue}N=!1}const b=QD(m).join(":"),S=p?b+HN:b,k=S+_;if(o.includes(k))continue;o.push(k);const C=a(_,N);for(let P=0;P<C.length;++P){const T=C[P];o.push(S+T)}u=h+(u.length>0?" "+u:u)}return u};function eI(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=YN(t))&&(n&&(n+=" "),n+=r);return n}const YN=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=YN(e[n]))&&(r&&(r+=" "),r+=t);return r};function tI(e,...t){let r,n,a,o=c;function c(d){const h=t.reduce((m,p)=>p(m),e());return r=ZD(h),n=r.cache.get,a=r.cache.set,o=u,u(d)}function u(d){const h=n(d);if(h)return h;const m=XD(d,r);return a(d,m),m}return function(){return o(eI.apply(null,arguments))}}const Tt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},GN=/^\[(?:([a-z-]+):)?(.+)\]$/i,rI=/^\d+\/\d+$/,nI=new Set(["px","full","screen"]),sI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hs=e=>il(e)||nI.has(e)||rI.test(e),Oa=e=>Wl(e,"length",gI),il=e=>!!e&&!Number.isNaN(Number(e)),Kp=e=>Wl(e,"number",il),Fc=e=>!!e&&Number.isInteger(Number(e)),cI=e=>e.endsWith("%")&&il(e.slice(0,-1)),Qe=e=>GN.test(e),Ma=e=>sI.test(e),uI=new Set(["length","size","percentage"]),dI=e=>Wl(e,uI,KN),fI=e=>Wl(e,"position",KN),hI=new Set(["image","url"]),mI=e=>Wl(e,hI,xI),pI=e=>Wl(e,"",vI),$c=()=>!0,Wl=(e,t,r)=>{const n=GN.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},gI=e=>aI.test(e)&&!iI.test(e),KN=()=>!1,vI=e=>oI.test(e),xI=e=>lI.test(e),yI=()=>{const e=Tt("colors"),t=Tt("spacing"),r=Tt("blur"),n=Tt("brightness"),a=Tt("borderColor"),o=Tt("borderRadius"),c=Tt("borderSpacing"),u=Tt("borderWidth"),d=Tt("contrast"),h=Tt("grayscale"),m=Tt("hueRotate"),p=Tt("invert"),v=Tt("gap"),y=Tt("gradientColorStops"),N=Tt("gradientColorStopPositions"),_=Tt("inset"),b=Tt("margin"),S=Tt("opacity"),k=Tt("padding"),C=Tt("saturate"),P=Tt("scale"),T=Tt("sepia"),R=Tt("skew"),M=Tt("space"),D=Tt("translate"),W=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",Qe,t],V=()=>[Qe,t],K=()=>["",Hs,Oa],H=()=>["auto",il,Qe],me=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",Qe],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],L=()=>[il,Qe];return{cacheSize:500,separator:":",theme:{colors:[$c],spacing:[Hs,Oa],blur:["none","",Ma,Qe],brightness:L(),borderColor:[e],borderRadius:["none","","full",Ma,Qe],borderSpacing:V(),borderWidth:K(),contrast:L(),grayscale:q(),hueRotate:L(),invert:q(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[cI,Oa],inset:Z(),margin:Z(),opacity:L(),padding:V(),saturate:L(),scale:L(),sepia:q(),skew:L(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Ma]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...me(),Qe]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fc,Qe]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Fc,Qe]}],"grid-cols":[{"grid-cols":[$c]}],"col-start-end":[{col:["auto",{span:["full",Fc,Qe]},Qe]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[$c]}],"row-start-end":[{row:["auto",{span:[Fc,Qe]},Qe]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[Ma]},Ma]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ma,Oa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Kp]}],"font-family":[{font:[$c]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",il,Kp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hs,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hs,Oa]}],"underline-offset":[{"underline-offset":["auto",Hs,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...me(),fI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:le()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Hs,Qe]}],"outline-w":[{outline:[Hs,Oa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[Hs,Oa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ma,pI]}],"shadow-color":[{shadow:[$c]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ma,Qe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:L()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:L()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Fc,Qe]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hs,Oa,Kp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wI=tI(yI);function re(...e){return wI($N(e))}const bI=iD,QN=x.forwardRef(({className:e,...t},r)=>s.jsx(AN,{ref:r,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));QN.displayName=AN.displayName;const _I=Cu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-gray-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"bg-white text-black border-gray-200",destructive:"bg-red-50 border-red-200 text-red-900",success:"bg-green-50 border-green-200 text-green-900",warning:"bg-amber-50 border-amber-200 text-amber-900",info:"bg-blue-50 border-blue-200 text-blue-900"}},defaultVariants:{variant:"default"}}),ZN=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(ON,{ref:n,className:re(_I({variant:t}),e),...r}));ZN.displayName=ON.displayName;const jI=x.forwardRef(({className:e,...t},r)=>s.jsx(IN,{ref:r,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jI.displayName=IN.displayName;const JN=x.forwardRef(({className:e,...t},r)=>s.jsx(LN,{ref:r,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(ua,{className:"h-4 w-4"})}));JN.displayName=LN.displayName;const XN=x.forwardRef(({className:e,...t},r)=>s.jsx(MN,{ref:r,className:re("text-sm font-semibold",e),...t}));XN.displayName=MN.displayName;const eS=x.forwardRef(({className:e,...t},r)=>s.jsx(DN,{ref:r,className:re("text-sm opacity-90",e),...t}));eS.displayName=DN.displayName;const NI=5,SI=2e3;let Qp=0;function kI(){return Qp=(Qp+1)%Number.MAX_VALUE,Qp.toString()}const cf=new Map,CI=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,NI)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?m1(r):e.toasts.forEach(n=>{m1(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}};function m1(e){cf.has(e)&&clearTimeout(cf.get(e));const t=setTimeout(()=>{cf.delete(e),nu({type:"REMOVE_TOAST",toastId:e})},SI);cf.set(e,t)}const _f=[];let jf={toasts:[]};function nu(e){jf=CI(jf,e),_f.forEach(t=>{t(jf)})}function tS(){const[e,t]=x.useState(jf);return x.useEffect(()=>(_f.push(t),()=>{const r=_f.indexOf(t);r>-1&&_f.splice(r,1)}),[e]),{...e,toast:rS,dismiss:r=>nu({type:"DISMISS_TOAST",toastId:r})}}function rS(e){const t=kI(),r=a=>nu({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>nu({type:"DISMISS_TOAST",toastId:t});return nu({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}const fh=()=>tS();let p1="",g1=0;const st=e=>{var n,a;const t=Date.now(),r=typeof e=="string"?e:((n=e==null?void 0:e.description)==null?void 0:n.toString())||((a=e==null?void 0:e.title)==null?void 0:a.toString())||"";if(r===p1&&t-g1<2e3){console.log("Prevented duplicate toast:",r);return}return p1=r,g1=t,rS(e)};async function Zp(e,t,r){try{const{data:n,error:a}=await ae.from("profiles").select("id").eq("id",e).maybeSingle();if(a)return console.error("Error checking profile:",a),!1;if(!n){console.log("Creating profile for user:",e);const o={id:e,username:r||t.split("@")[0],email:t,avatar_url:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{error:c}=await ae.from("profiles").insert(o);return c?(console.error("Error creating profile:",c),!1):(console.log("Profile created successfully"),!0)}return console.log("Profile already exists"),!0}catch(n){return console.error("Exception in ensureUserProfileExists:",n),!1}}function v1(e,t,r){return{id:e||"",username:r||(t?t.split("@")[0]:"User"),email:t||"",avatar_url:null,location:null,status:null,tagline:null,status_details:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),location_category:null}}function x1(e){if(!e)return null;try{return{id:e.id||"",username:e.username||"",email:e.email||"",avatar_url:e.avatar_url||null,location:e.location||null,status:e.status||null,tagline:e.tagline||null,status_details:e.status_details||null,created_at:e.created_at||"",updated_at:e.updated_at||"",location_category:e.location_category||null}}catch(t){return console.error("Error handling profile data:",t),null}}const nS=x.createContext({user:null,profile:null,isAuthenticated:!1,loading:!0,signUp:async()=>({error:null}),signIn:async()=>({error:null,data:null}),signOut:async()=>{},loginWithEmail:async()=>({error:null}),loginWithGoogle:async()=>({error:null}),logout:async()=>{},forgotPassword:async()=>({error:null}),resetPassword:async()=>({error:null}),isNewUser:!1,setIsNewUser:()=>{},updateProfile:async()=>({error:null}),refreshProfile:async()=>{}}),EI=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[o,c]=x.useState(null),[u,d]=x.useState(!0),[h,m]=x.useState(!1);x.useEffect(()=>{(async()=>{try{d(!0);const{data:{subscription:R}}=ae.auth.onAuthStateChange(async(D,W)=>{var B;console.log("Auth state changed, event:",D,"user:",(B=W==null?void 0:W.user)==null?void 0:B.id),a(W),W!=null&&W.user?(console.log("User logged in:",W.user.id),r(W.user),setTimeout(()=>{P(W.user)},0)):(console.log("User logged out"),r(null),c(null),a(null)),d(!1)}),{data:{session:M}}=await ae.auth.getSession();return M?(console.log("Existing session found:",M.user.id),a(M),r(M.user),await P(M.user)):(console.log("No active session found"),r(null),c(null),a(null)),d(!1),()=>{R.unsubscribe()}}catch(R){console.error("Error during auth initialization:",R),d(!1)}})()},[]);const p=async(T,R,M)=>{try{console.log("Attempting to sign up user with email:",T),await ae.auth.signOut(),r(null),c(null),a(null);const{data:D,error:W}=await ae.auth.signUp({email:T,password:R,options:{data:{username:M||T.split("@")[0]},emailRedirectTo:`${window.location.origin}/profile/edit`}});if(W)return console.error("Sign up error:",W),st({title:"Sign up failed",description:W.message,variant:"destructive"}),{error:W};if(D!=null&&D.user){console.log("Sign up successful, creating profile for user:",D.user.id);const B={id:D.user.id,username:M||T.split("@")[0],email:T,avatar_url:[],location:null,location_category:null,status:null,tagline:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await Zp(D.user.id,T,M||T.split("@")[0])||(console.error("Error creating profile through utility function"),st({title:"Profile creation failed",description:"Account created but we couldn't set up your profile.",variant:"destructive"})),m(!0),st({title:"Account created!",description:"Check your email to confirm your account."}),D.session&&(a(D.session),r(D.user),await P(D.user)),{error:null}}return{error:null}}catch(D){return console.error("Unexpected error during sign up:",D),st({title:"Sign up failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),{error:D}}},v=async(T,R)=>{var M;try{console.log("Attempting to sign in user with email:",T),await ae.auth.signOut(),r(null),c(null),a(null);const{data:D,error:W}=await ae.auth.signInWithPassword({email:T,password:R});return W?(console.error("Sign in error:",W),st({title:"Sign in failed",description:W.message||"Invalid login credentials. Please check your email and password.",variant:"destructive"}),{error:W,data:null}):(console.log("Sign in successful:",(M=D.user)==null?void 0:M.id),D.session&&(a(D.session),r(D.user),await P(D.user)),{error:null,data:D})}catch(D){return console.error("Unexpected error during sign in:",D),st({title:"Sign in failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),{error:D,data:null}}},y=async()=>{try{console.log("Attempting to sign out user");const{error:T}=await ae.auth.signOut({scope:"global"});T?(console.error("Sign out error:",T),st({title:"Sign out failed",description:T.message,variant:"destructive"})):(console.log("User signed out successfully"),st({title:"Signed out",description:"You have been logged out successfully."}))}catch(T){console.error("Unexpected error during sign out:",T),st({title:"Sign out failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{r(null),c(null),a(null)}},N=async()=>await y(),_=async T=>{try{console.log("Attempting magic link login with email:",T);const{error:R}=await ae.auth.signInWithOtp({email:T});return R?(console.error("Magic link login error:",R),{error:R}):{error:null}}catch(R){return console.error("Unexpected error during magic link login:",R),{error:R}}},b=async()=>{try{console.log("Attempting Google login");const{error:T}=await ae.auth.signInWithOAuth({provider:"google"});return T?(console.error("Google login error:",T),{error:T}):{error:null}}catch(T){return console.error("Unexpected error during Google login:",T),{error:T}}},S=async T=>{try{console.log("Attempting to send forgot password email to:",T),await ae.auth.signOut({scope:"global"});const R=new Date().getTime(),M=`${window.location.origin}/reset-password?t=${R}`;console.log("Reset password redirect URL:",M);const{error:D}=await ae.auth.resetPasswordForEmail(T,{redirectTo:M});return D?(console.error("Forgot password error:",D),{error:D}):{error:null}}catch(R){return console.error("Unexpected error during forgot password request:",R),{error:R}}},k=async T=>{try{console.log("Attempting to reset password");const{error:R}=await ae.auth.updateUser({password:T});return R&&console.error("Reset password error:",R),{error:R}}catch(R){return console.error("Unexpected error during password reset:",R),{error:R}}},C=async T=>{try{if(!t)throw new Error("No user is currently signed in.");console.log("Attempting to update profile for user:",t.id);const{username:R,avatar_url:M,location:D,location_category:W,status:B,status_details:Z,tagline:V}=T,K={id:t.id,username:R,avatar_url:[M],location:D,location_category:W,status:B,status_details:Z,tagline:V,updated_at:new Date().toISOString()},{error:H}=await ae.from("profiles").upsert(K);return H?(console.error("Error updating profile:",H),st({title:"Profile update failed",description:H.message,variant:"destructive"}),{error:H}):(console.log("Profile updated successfully"),c(me=>({...me,username:R,avatar_url:[M],location:D,location_category:W,status:B,status_details:Z,tagline:V,updated_at:new Date().toISOString()})),{error:null})}catch(R){return console.error("Unexpected error during profile update:",R),st({title:"Profile update failed",description:"An unexpected error occurred. Please try again.",variant:"destructive"}),{error:R}}},P=async(T=t)=>{var R,M,D,W;if(!T){console.warn("No user to refresh profile for.");return}try{console.log("Refreshing profile for user:",T.id),c(null);const{data:B,error:Z}=await ae.from("profiles").select("*").eq("id",T.id).maybeSingle();if(Z){if(console.error("Error fetching profile:",Z),T.email){await Zp(T.id,T.email,((R=T.user_metadata)==null?void 0:R.username)||T.email.split("@")[0]);const{data:V}=await ae.from("profiles").select("*").eq("id",T.id).maybeSingle();if(V){const K=x1(V);K&&c(K);return}}return}if(B){console.log("Profile data retrieved:",B);const V=x1(B);c(V||v1(T.id,T.email||"",((M=T.email)==null?void 0:M.split("@")[0])||"User"))}else console.log("No profile data found for user, trying to create one"),T.email&&(await Zp(T.id,T.email,((D=T.user_metadata)==null?void 0:D.username)||T.email.split("@")[0]),await P(T))}catch(B){console.error("Unexpected error during profile refresh:",B),T&&c(v1(T.id,T.email||"",((W=T.email)==null?void 0:W.split("@")[0])||"User"))}};return s.jsx(nS.Provider,{value:{user:t,profile:o,loading:u,isNewUser:h,setIsNewUser:m,signUp:p,signIn:v,updateProfile:C,refreshProfile:P,signOut:y,loginWithEmail:_,loginWithGoogle:b,logout:N,forgotPassword:S,resetPassword:k,isAuthenticated:!!(n!=null&&n.user)},children:e})},Xe=()=>x.useContext(nS);var Jp,y1;function PI(){if(y1)return Jp;y1=1;var e=typeof Element<"u",t=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(o,c){if(o===c)return!0;if(o&&c&&typeof o=="object"&&typeof c=="object"){if(o.constructor!==c.constructor)return!1;var u,d,h;if(Array.isArray(o)){if(u=o.length,u!=c.length)return!1;for(d=u;d--!==0;)if(!a(o[d],c[d]))return!1;return!0}var m;if(t&&o instanceof Map&&c instanceof Map){if(o.size!==c.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!c.has(d.value[0]))return!1;for(m=o.entries();!(d=m.next()).done;)if(!a(d.value[1],c.get(d.value[0])))return!1;return!0}if(r&&o instanceof Set&&c instanceof Set){if(o.size!==c.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!c.has(d.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(c)){if(u=o.length,u!=c.length)return!1;for(d=u;d--!==0;)if(o[d]!==c[d])return!1;return!0}if(o.constructor===RegExp)return o.source===c.source&&o.flags===c.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof c.valueOf=="function")return o.valueOf()===c.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof c.toString=="function")return o.toString()===c.toString();if(h=Object.keys(o),u=h.length,u!==Object.keys(c).length)return!1;for(d=u;d--!==0;)if(!Object.prototype.hasOwnProperty.call(c,h[d]))return!1;if(e&&o instanceof Element)return!1;for(d=u;d--!==0;)if(!((h[d]==="_owner"||h[d]==="__v"||h[d]==="__o")&&o.$$typeof)&&!a(o[h[d]],c[h[d]]))return!1;return!0}return o!==o&&c!==c}return Jp=function(c,u){try{return a(c,u)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Jp}var TI=PI();const RI=so(TI);var Xp,w1;function AI(){if(w1)return Xp;w1=1;var e=function(t,r,n,a,o,c,u,d){if(!t){var h;if(r===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[n,a,o,c,u,d],p=0;h=new Error(r.replace(/%s/g,function(){return m[p++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}};return Xp=e,Xp}var OI=AI();const b1=so(OI);var eg,_1;function MI(){return _1||(_1=1,eg=function(t,r,n,a){var o=n?n.call(a,t,r):void 0;if(o!==void 0)return!!o;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var c=Object.keys(t),u=Object.keys(r);if(c.length!==u.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(r),h=0;h<c.length;h++){var m=c[h];if(!d(m))return!1;var p=t[m],v=r[m];if(o=n?n.call(a,p,v,m):void 0,o===!1||o===void 0&&p!==v)return!1}return!0}),eg}var DI=MI();const II=so(DI);var sS=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(sS||{}),tg={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},j1=Object.values(sS),px={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},LI=Object.entries(px).reduce((e,[t,r])=>(e[r]=t,e),{}),ss="data-rh",ol={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ll=(e,t)=>{for(let r=e.length-1;r>=0;r-=1){const n=e[r];if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}return null},FI=e=>{let t=ll(e,"title");const r=ll(e,ol.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),r&&t)return r.replace(/%s/g,()=>t);const n=ll(e,ol.DEFAULT_TITLE);return t||n||void 0},$I=e=>ll(e,ol.ON_CHANGE_CLIENT_STATE)||(()=>{}),rg=(e,t)=>t.filter(r=>typeof r[e]<"u").map(r=>r[e]).reduce((r,n)=>({...r,...n}),{}),UI=(e,t)=>t.filter(r=>typeof r.base<"u").map(r=>r.base).reverse().reduce((r,n)=>{if(!r.length){const a=Object.keys(n);for(let o=0;o<a.length;o+=1){const u=a[o].toLowerCase();if(e.indexOf(u)!==-1&&n[u])return r.concat(n)}}return r},[]),zI=e=>console&&typeof console.warn=="function"&&console.warn(e),Uc=(e,t,r)=>{const n={};return r.filter(a=>Array.isArray(a[e])?!0:(typeof a[e]<"u"&&zI(`Helmet: ${e} should be of type "Array". Instead found type "${typeof a[e]}"`),!1)).map(a=>a[e]).reverse().reduce((a,o)=>{const c={};o.filter(d=>{let h;const m=Object.keys(d);for(let v=0;v<m.length;v+=1){const y=m[v],N=y.toLowerCase();t.indexOf(N)!==-1&&!(h==="rel"&&d[h].toLowerCase()==="canonical")&&!(N==="rel"&&d[N].toLowerCase()==="stylesheet")&&(h=N),t.indexOf(y)!==-1&&(y==="innerHTML"||y==="cssText"||y==="itemprop")&&(h=y)}if(!h||!d[h])return!1;const p=d[h].toLowerCase();return n[h]||(n[h]={}),c[h]||(c[h]={}),n[h][p]?!1:(c[h][p]=!0,!0)}).reverse().forEach(d=>a.push(d));const u=Object.keys(c);for(let d=0;d<u.length;d+=1){const h=u[d],m={...n[h],...c[h]};n[h]=m}return a},[]).reverse()},BI=(e,t)=>{if(Array.isArray(e)&&e.length){for(let r=0;r<e.length;r+=1)if(e[r][t])return!0}return!1},VI=e=>({baseTag:UI(["href"],e),bodyAttributes:rg("bodyAttributes",e),defer:ll(e,ol.DEFER),encode:ll(e,ol.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:rg("htmlAttributes",e),linkTags:Uc("link",["rel","href"],e),metaTags:Uc("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Uc("noscript",["innerHTML"],e),onChangeClientState:$I(e),scriptTags:Uc("script",["src","innerHTML"],e),styleTags:Uc("style",["cssText"],e),title:FI(e),titleAttributes:rg("titleAttributes",e),prioritizeSeoTags:BI(e,ol.PRIORITIZE_SEO_TAGS)}),aS=e=>Array.isArray(e)?e.join(""):e,qI=(e,t)=>{const r=Object.keys(e);for(let n=0;n<r.length;n+=1)if(t[r[n]]&&t[r[n]].includes(e[r[n]]))return!0;return!1},ng=(e,t)=>Array.isArray(e)?e.reduce((r,n)=>(qI(n,t)?r.priority.push(n):r.default.push(n),r),{priority:[],default:[]}):{default:e,priority:[]},N1=(e,t)=>({...e,[t]:void 0}),WI=["noscript","script","style"],sv=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),iS=e=>Object.keys(e).reduce((t,r)=>{const n=typeof e[r]<"u"?`${r}="${e[r]}"`:`${r}`;return t?`${t} ${n}`:n},""),HI=(e,t,r,n)=>{const a=iS(r),o=aS(t);return a?`<${e} ${ss}="true" ${a}>${sv(o,n)}</${e}>`:`<${e} ${ss}="true">${sv(o,n)}</${e}>`},YI=(e,t,r=!0)=>t.reduce((n,a)=>{const o=a,c=Object.keys(o).filter(h=>!(h==="innerHTML"||h==="cssText")).reduce((h,m)=>{const p=typeof o[m]>"u"?m:`${m}="${sv(o[m],r)}"`;return h?`${h} ${p}`:p},""),u=o.innerHTML||o.cssText||"",d=WI.indexOf(e)===-1;return`${n}<${e} ${ss}="true" ${c}${d?"/>":`>${u}</${e}>`}`},""),oS=(e,t={})=>Object.keys(e).reduce((r,n)=>{const a=px[n];return r[a||n]=e[n],r},t),GI=(e,t,r)=>{const n={key:t,[ss]:!0},a=oS(r,n);return[te.createElement("title",a,t)]},Nf=(e,t)=>t.map((r,n)=>{const a={key:n,[ss]:!0};return Object.keys(r).forEach(o=>{const u=px[o]||o;if(u==="innerHTML"||u==="cssText"){const d=r.innerHTML||r.cssText;a.dangerouslySetInnerHTML={__html:d}}else a[u]=r[o]}),te.createElement(e,a)}),On=(e,t,r=!0)=>{switch(e){case"title":return{toComponent:()=>GI(e,t.title,t.titleAttributes),toString:()=>HI(e,t.title,t.titleAttributes,r)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>oS(t),toString:()=>iS(t)};default:return{toComponent:()=>Nf(e,t),toString:()=>YI(e,t,r)}}},KI=({metaTags:e,linkTags:t,scriptTags:r,encode:n})=>{const a=ng(e,tg.meta),o=ng(t,tg.link),c=ng(r,tg.script);return{priorityMethods:{toComponent:()=>[...Nf("meta",a.priority),...Nf("link",o.priority),...Nf("script",c.priority)],toString:()=>`${On("meta",a.priority,n)} ${On("link",o.priority,n)} ${On("script",c.priority,n)}`},metaTags:a.default,linkTags:o.default,scriptTags:c.default}},QI=e=>{const{baseTag:t,bodyAttributes:r,encode:n=!0,htmlAttributes:a,noscriptTags:o,styleTags:c,title:u="",titleAttributes:d,prioritizeSeoTags:h}=e;let{linkTags:m,metaTags:p,scriptTags:v}=e,y={toComponent:()=>{},toString:()=>""};return h&&({priorityMethods:y,linkTags:m,metaTags:p,scriptTags:v}=KI(e)),{priority:y,base:On("base",t,n),bodyAttributes:On("bodyAttributes",r,n),htmlAttributes:On("htmlAttributes",a,n),link:On("link",m,n),meta:On("meta",p,n),noscript:On("noscript",o,n),script:On("script",v,n),style:On("style",c,n),title:On("title",{title:u,titleAttributes:d},n)}},av=QI,uf=[],lS=!!(typeof window<"u"&&window.document&&window.document.createElement),iv=class{constructor(e,t){ws(this,"instances",[]);ws(this,"canUseDOM",lS);ws(this,"context");ws(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?uf:this.instances,add:e=>{(this.canUseDOM?uf:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?uf:this.instances).indexOf(e);(this.canUseDOM?uf:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=av({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ZI={},cS=te.createContext(ZI),Ii,uS=(Ii=class extends x.Component{constructor(r){super(r);ws(this,"helmetData");this.helmetData=new iv(this.props.context||{},Ii.canUseDOM)}render(){return te.createElement(cS.Provider,{value:this.helmetData.value},this.props.children)}},ws(Ii,"canUseDOM",lS),Ii),Yo=(e,t)=>{const r=document.head||document.querySelector("head"),n=r.querySelectorAll(`${e}[${ss}]`),a=[].slice.call(n),o=[];let c;return t&&t.length&&t.forEach(u=>{const d=document.createElement(e);for(const h in u)if(Object.prototype.hasOwnProperty.call(u,h))if(h==="innerHTML")d.innerHTML=u.innerHTML;else if(h==="cssText")d.styleSheet?d.styleSheet.cssText=u.cssText:d.appendChild(document.createTextNode(u.cssText));else{const m=h,p=typeof u[m]>"u"?"":u[m];d.setAttribute(h,p)}d.setAttribute(ss,"true"),a.some((h,m)=>(c=m,d.isEqualNode(h)))?a.splice(c,1):o.push(d)}),a.forEach(u=>{var d;return(d=u.parentNode)==null?void 0:d.removeChild(u)}),o.forEach(u=>r.appendChild(u)),{oldTags:a,newTags:o}},ov=(e,t)=>{const r=document.getElementsByTagName(e)[0];if(!r)return;const n=r.getAttribute(ss),a=n?n.split(","):[],o=[...a],c=Object.keys(t);for(const u of c){const d=t[u]||"";r.getAttribute(u)!==d&&r.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);const h=o.indexOf(u);h!==-1&&o.splice(h,1)}for(let u=o.length-1;u>=0;u-=1)r.removeAttribute(o[u]);a.length===o.length?r.removeAttribute(ss):r.getAttribute(ss)!==c.join(",")&&r.setAttribute(ss,c.join(","))},JI=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=aS(e)),ov("title",t)},S1=(e,t)=>{const{baseTag:r,bodyAttributes:n,htmlAttributes:a,linkTags:o,metaTags:c,noscriptTags:u,onChangeClientState:d,scriptTags:h,styleTags:m,title:p,titleAttributes:v}=e;ov("body",n),ov("html",a),JI(p,v);const y={baseTag:Yo("base",r),linkTags:Yo("link",o),metaTags:Yo("meta",c),noscriptTags:Yo("noscript",u),scriptTags:Yo("script",h),styleTags:Yo("style",m)},N={},_={};Object.keys(y).forEach(b=>{const{newTags:S,oldTags:k}=y[b];S.length&&(N[b]=S),k.length&&(_[b]=y[b].oldTags)}),t&&t(),d(e,N,_)},zc=null,XI=e=>{zc&&cancelAnimationFrame(zc),e.defer?zc=requestAnimationFrame(()=>{S1(e,()=>{zc=null})}):(S1(e),zc=null)},e5=XI,k1=class extends x.Component{constructor(){super(...arguments);ws(this,"rendered",!1)}shouldComponentUpdate(t){return!II(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:r}=this.props.context;let n=null;const a=VI(t.get().map(o=>{const c={...o.props};return delete c.context,c}));uS.canUseDOM?e5(a):av&&(n=av(a)),r(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},Ig,hh=(Ig=class extends x.Component{shouldComponentUpdate(e){return!RI(N1(this.props,"helmetData"),N1(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,r,n){return{...t,[e.type]:[...t[e.type]||[],{...r,...this.mapNestedChildrenToProps(e,n)}]}}mapObjectTypeChildren(e,t,r,n){switch(e.type){case"title":return{...t,[e.type]:n,titleAttributes:{...r}};case"body":return{...t,bodyAttributes:{...r}};case"html":return{...t,htmlAttributes:{...r}};default:return{...t,[e.type]:{...r}}}}mapArrayTypeChildrenToProps(e,t){let r={...t};return Object.keys(e).forEach(n=>{r={...r,[n]:e[n]}}),r}warnOnInvalidChildren(e,t){return b1(j1.some(r=>e.type===r),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${j1.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),b1(!t||typeof t=="string"||Array.isArray(t)&&!t.some(r=>typeof r!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let r={};return te.Children.forEach(e,n=>{if(!n||!n.props)return;const{children:a,...o}=n.props,c=Object.keys(o).reduce((d,h)=>(d[LI[h]||h]=o[h],d),{});let{type:u}=n;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(n,a),u){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":r=this.flattenArrayTypeChildren(n,r,c,a);break;default:t=this.mapObjectTypeChildren(n,t,c,a);break}}),this.mapArrayTypeChildrenToProps(r,t)}render(){const{children:e,...t}=this.props;let r={...t},{helmetData:n}=t;if(e&&(r=this.mapChildrenToProps(e,r)),n&&!(n instanceof iv)){const a=n;n=new iv(a.context,!0),delete r.helmetData}return n?te.createElement(k1,{...r,context:n.value}):te.createElement(cS.Consumer,null,a=>te.createElement(k1,{...r,context:a}))}},ws(Ig,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ig);function dS(){const{toasts:e}=tS();return s.jsxs(bI,{children:[e.map(function({id:t,title:r,description:n,action:a,...o}){return s.jsxs(ZN,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(XN,{children:r}),n&&s.jsx(eS,{children:n})]}),a,s.jsx(JN,{})]},t)}),s.jsx(QN,{})]})}var Hl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yi=typeof window>"u"||"Deno"in globalThis;function Mr(){}function t5(e,t){return typeof e=="function"?e(t):e}function lv(e){return typeof e=="number"&&e>=0&&e!==1/0}function fS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ni(e,t){return typeof e=="function"?e(t):e}function ts(e,t){return typeof e=="function"?e(t):e}function C1(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:o,queryKey:c,stale:u}=e;if(c){if(n){if(t.queryHash!==gx(c,t.options))return!1}else if(!uu(t.queryKey,c))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||o&&!o(t))}function E1(e,t){const{exact:r,status:n,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Gi(t.options.mutationKey)!==Gi(o))return!1}else if(!uu(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function gx(e,t){return((t==null?void 0:t.queryKeyHashFn)||Gi)(e)}function Gi(e){return JSON.stringify(e,(t,r)=>cv(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function uu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>uu(e[r],t[r])):!1}function hS(e,t){if(e===t)return e;const r=P1(e)&&P1(t);if(r||cv(e)&&cv(t)){const n=r?e:Object.keys(e),a=n.length,o=r?t:Object.keys(t),c=o.length,u=r?[]:{},d=new Set(n);let h=0;for(let m=0;m<c;m++){const p=r?m:o[m];(!r&&d.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(u[p]=void 0,h++):(u[p]=hS(e[p],t[p]),u[p]===e[p]&&e[p]!==void 0&&h++)}return a===c&&h===a?e:u}return t}function If(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function P1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function cv(e){if(!T1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!T1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function T1(e){return Object.prototype.toString.call(e)==="[object Object]"}function r5(e){return new Promise(t=>{setTimeout(t,e)})}function uv(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?hS(e,t):t}function n5(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function s5(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var vx=Symbol();function mS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===vx?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function pS(e,t){return typeof e=="function"?e(...t):!!e}var Li,Va,fl,Nj,a5=(Nj=class extends Hl{constructor(){super();Fe(this,Li);Fe(this,Va);Fe(this,fl);Ce(this,fl,t=>{if(!Yi&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,Va)||this.setEventListener(F(this,fl))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,Va))==null||t.call(this),Ce(this,Va,void 0))}setEventListener(t){var r;Ce(this,fl,t),(r=F(this,Va))==null||r.call(this),Ce(this,Va,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,Li)!==t&&(Ce(this,Li,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,Li)=="boolean"?F(this,Li):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Li=new WeakMap,Va=new WeakMap,fl=new WeakMap,Nj),xx=new a5,hl,qa,ml,Sj,i5=(Sj=class extends Hl{constructor(){super();Fe(this,hl,!0);Fe(this,qa);Fe(this,ml);Ce(this,ml,t=>{if(!Yi&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,qa)||this.setEventListener(F(this,ml))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,qa))==null||t.call(this),Ce(this,qa,void 0))}setEventListener(t){var r;Ce(this,ml,t),(r=F(this,qa))==null||r.call(this),Ce(this,qa,t(this.setOnline.bind(this)))}setOnline(t){F(this,hl)!==t&&(Ce(this,hl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,hl)}},hl=new WeakMap,qa=new WeakMap,ml=new WeakMap,Sj),Lf=new i5;function dv(){let e,t;const r=new Promise((a,o)=>{e=a,t=o});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function o5(e){return Math.min(1e3*2**e,3e4)}function gS(e){return(e??"online")==="online"?Lf.isOnline():!0}var vS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function sg(e){return e instanceof vS}function xS(e){let t=!1,r=0,n=!1,a;const o=dv(),c=_=>{var b;n||(v(new vS(_)),(b=e.abort)==null||b.call(e))},u=()=>{t=!0},d=()=>{t=!1},h=()=>xx.isFocused()&&(e.networkMode==="always"||Lf.isOnline())&&e.canRun(),m=()=>gS(e.networkMode)&&e.canRun(),p=_=>{var b;n||(n=!0,(b=e.onSuccess)==null||b.call(e,_),a==null||a(),o.resolve(_))},v=_=>{var b;n||(n=!0,(b=e.onError)==null||b.call(e,_),a==null||a(),o.reject(_))},y=()=>new Promise(_=>{var b;a=S=>{(n||h())&&_(S)},(b=e.onPause)==null||b.call(e)}).then(()=>{var _;a=void 0,n||(_=e.onContinue)==null||_.call(e)}),N=()=>{if(n)return;let _;const b=r===0?e.initialPromise:void 0;try{_=b??e.fn()}catch(S){_=Promise.reject(S)}Promise.resolve(_).then(p).catch(S=>{var R;if(n)return;const k=e.retry??(Yi?0:3),C=e.retryDelay??o5,P=typeof C=="function"?C(r,S):C,T=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,S);if(t||!T){v(S);return}r++,(R=e.onFail)==null||R.call(e,r,S),r5(P).then(()=>h()?void 0:y()).then(()=>{t?v(S):N()})})};return{promise:o,cancel:c,continue:()=>(a==null||a(),o),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?N():y().then(N),o)}}var l5=e=>setTimeout(e,0);function c5(){let e=[],t=0,r=u=>{u()},n=u=>{u()},a=l5;const o=u=>{t?e.push(u):a(()=>{r(u)})},c=()=>{const u=e;e=[],u.length&&a(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||c()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{a=u}}}var rr=c5(),Fi,kj,yS=(kj=class{constructor(){Fe(this,Fi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),lv(this.gcTime)&&Ce(this,Fi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Yi?1/0:5*60*1e3))}clearGcTimeout(){F(this,Fi)&&(clearTimeout(F(this,Fi)),Ce(this,Fi,void 0))}},Fi=new WeakMap,kj),pl,$i,Mn,Ui,Sr,wu,zi,Qn,Qs,Cj,u5=(Cj=class extends yS{constructor(t){super();Fe(this,Qn);Fe(this,pl);Fe(this,$i);Fe(this,Mn);Fe(this,Ui);Fe(this,Sr);Fe(this,wu);Fe(this,zi);Ce(this,zi,!1),Ce(this,wu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ce(this,Ui,t.client),Ce(this,Mn,F(this,Ui).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ce(this,pl,d5(this.options)),this.state=t.state??F(this,pl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,Sr))==null?void 0:t.promise}setOptions(t){this.options={...F(this,wu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Mn).remove(this)}setData(t,r){const n=uv(this.state.data,t,this.options);return Je(this,Qn,Qs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Je(this,Qn,Qs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=F(this,Sr))==null?void 0:n.promise;return(a=F(this,Sr))==null||a.cancel(t),r?r.then(Mr).catch(Mr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,pl))}isActive(){return this.observers.some(t=>ts(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ni(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!fS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Sr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Sr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Mn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,Sr)&&(F(this,zi)?F(this,Sr).cancel({revert:!0}):F(this,Sr).cancelRetry()),this.scheduleGc()),F(this,Mn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,Qn,Qs).call(this,{type:"invalidate"})}fetch(t,r){var h,m,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Sr))return F(this,Sr).continueRetry(),F(this,Sr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(y=>y.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(Ce(this,zi,!0),n.signal)})},o=()=>{const v=mS(this.options,r),N=(()=>{const _={client:F(this,Ui),queryKey:this.queryKey,meta:this.meta};return a(_),_})();return Ce(this,zi,!1),this.options.persister?this.options.persister(v,N,this):v(N)},u=(()=>{const v={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Ui),state:this.state,fetchFn:o};return a(v),v})();(h=this.options.behavior)==null||h.onFetch(u,this),Ce(this,$i,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Je(this,Qn,Qs).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const d=v=>{var y,N,_,b;sg(v)&&v.silent||Je(this,Qn,Qs).call(this,{type:"error",error:v}),sg(v)||((N=(y=F(this,Mn).config).onError)==null||N.call(y,v,this),(b=(_=F(this,Mn).config).onSettled)==null||b.call(_,this.state.data,v,this)),this.scheduleGc()};return Ce(this,Sr,xS({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var y,N,_,b;if(v===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(S){d(S);return}(N=(y=F(this,Mn).config).onSuccess)==null||N.call(y,v,this),(b=(_=F(this,Mn).config).onSettled)==null||b.call(_,v,this.state.error,this),this.scheduleGc()},onError:d,onFail:(v,y)=>{Je(this,Qn,Qs).call(this,{type:"failed",failureCount:v,error:y})},onPause:()=>{Je(this,Qn,Qs).call(this,{type:"pause"})},onContinue:()=>{Je(this,Qn,Qs).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),F(this,Sr).start()}},pl=new WeakMap,$i=new WeakMap,Mn=new WeakMap,Ui=new WeakMap,Sr=new WeakMap,wu=new WeakMap,zi=new WeakMap,Qn=new WeakSet,Qs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...wS(n.data,this.options),fetchMeta:t.meta??null};case"success":return Ce(this,$i,void 0),{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return sg(a)&&a.revert&&F(this,$i)?{...F(this,$i),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),rr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Mn).notify({query:this,type:"updated",action:t})})},Cj);function wS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function d5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var bs,Ej,f5=(Ej=class extends Hl{constructor(t={}){super();Fe(this,bs);this.config=t,Ce(this,bs,new Map)}build(t,r,n){const a=r.queryKey,o=r.queryHash??gx(a,r);let c=this.get(o);return c||(c=new u5({client:t,queryKey:a,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(c)),c}add(t){F(this,bs).has(t.queryHash)||(F(this,bs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,bs).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,bs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,bs).get(t)}getAll(){return[...F(this,bs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>C1(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>C1(t,n)):r}notify(t){rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},bs=new WeakMap,Ej),_s,Ar,Bi,js,La,Pj,h5=(Pj=class extends yS{constructor(t){super();Fe(this,js);Fe(this,_s);Fe(this,Ar);Fe(this,Bi);this.mutationId=t.mutationId,Ce(this,Ar,t.mutationCache),Ce(this,_s,[]),this.state=t.state||bS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,_s).includes(t)||(F(this,_s).push(t),this.clearGcTimeout(),F(this,Ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ce(this,_s,F(this,_s).filter(r=>r!==t)),this.scheduleGc(),F(this,Ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,_s).length||(this.state.status==="pending"?this.scheduleGc():F(this,Ar).remove(this))}continue(){var t;return((t=F(this,Bi))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,c,u,d,h,m,p,v,y,N,_,b,S,k,C,P,T,R,M,D;const r=()=>{Je(this,js,La).call(this,{type:"continue"})};Ce(this,Bi,xS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(W,B)=>{Je(this,js,La).call(this,{type:"failed",failureCount:W,error:B})},onPause:()=>{Je(this,js,La).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Ar).canRun(this)}));const n=this.state.status==="pending",a=!F(this,Bi).canStart();try{if(n)r();else{Je(this,js,La).call(this,{type:"pending",variables:t,isPaused:a}),await((c=(o=F(this,Ar).config).onMutate)==null?void 0:c.call(o,t,this));const B=await((d=(u=this.options).onMutate)==null?void 0:d.call(u,t));B!==this.state.context&&Je(this,js,La).call(this,{type:"pending",context:B,variables:t,isPaused:a})}const W=await F(this,Bi).start();return await((m=(h=F(this,Ar).config).onSuccess)==null?void 0:m.call(h,W,t,this.state.context,this)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,W,t,this.state.context)),await((N=(y=F(this,Ar).config).onSettled)==null?void 0:N.call(y,W,null,this.state.variables,this.state.context,this)),await((b=(_=this.options).onSettled)==null?void 0:b.call(_,W,null,t,this.state.context)),Je(this,js,La).call(this,{type:"success",data:W}),W}catch(W){try{throw await((k=(S=F(this,Ar).config).onError)==null?void 0:k.call(S,W,t,this.state.context,this)),await((P=(C=this.options).onError)==null?void 0:P.call(C,W,t,this.state.context)),await((R=(T=F(this,Ar).config).onSettled)==null?void 0:R.call(T,void 0,W,this.state.variables,this.state.context,this)),await((D=(M=this.options).onSettled)==null?void 0:D.call(M,void 0,W,t,this.state.context)),W}finally{Je(this,js,La).call(this,{type:"error",error:W})}}finally{F(this,Ar).runNext(this)}}},_s=new WeakMap,Ar=new WeakMap,Bi=new WeakMap,js=new WeakSet,La=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rr.batch(()=>{F(this,_s).forEach(n=>{n.onMutationUpdate(t)}),F(this,Ar).notify({mutation:this,type:"updated",action:t})})},Pj);function bS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Js,Zn,bu,Tj,m5=(Tj=class extends Hl{constructor(t={}){super();Fe(this,Js);Fe(this,Zn);Fe(this,bu);this.config=t,Ce(this,Js,new Set),Ce(this,Zn,new Map),Ce(this,bu,0)}build(t,r,n){const a=new h5({mutationCache:this,mutationId:++Jd(this,bu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){F(this,Js).add(t);const r=df(t);if(typeof r=="string"){const n=F(this,Zn).get(r);n?n.push(t):F(this,Zn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,Js).delete(t)){const r=df(t);if(typeof r=="string"){const n=F(this,Zn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&F(this,Zn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=df(t);if(typeof r=="string"){const n=F(this,Zn).get(r),a=n==null?void 0:n.find(o=>o.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=df(t);if(typeof r=="string"){const a=(n=F(this,Zn).get(r))==null?void 0:n.find(o=>o!==t&&o.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rr.batch(()=>{F(this,Js).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,Js).clear(),F(this,Zn).clear()})}getAll(){return Array.from(F(this,Js))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>E1(r,n))}findAll(t={}){return this.getAll().filter(r=>E1(t,r))}notify(t){rr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Mr))))}},Js=new WeakMap,Zn=new WeakMap,bu=new WeakMap,Tj);function df(e){var t;return(t=e.options.scope)==null?void 0:t.id}function R1(e){return{onFetch:(t,r)=>{var m,p,v,y,N;const n=t.options,a=(v=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:v.direction,o=((y=t.state.data)==null?void 0:y.pages)||[],c=((N=t.state.data)==null?void 0:N.pageParams)||[];let u={pages:[],pageParams:[]},d=0;const h=async()=>{let _=!1;const b=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},S=mS(t.options,t.fetchOptions),k=async(C,P,T)=>{if(_)return Promise.reject();if(P==null&&C.pages.length)return Promise.resolve(C);const M=(()=>{const Z={client:t.client,queryKey:t.queryKey,pageParam:P,direction:T?"backward":"forward",meta:t.options.meta};return b(Z),Z})(),D=await S(M),{maxPages:W}=t.options,B=T?s5:n5;return{pages:B(C.pages,D,W),pageParams:B(C.pageParams,P,W)}};if(a&&o.length){const C=a==="backward",P=C?p5:A1,T={pages:o,pageParams:c},R=P(n,T);u=await k(T,R,C)}else{const C=e??o.length;do{const P=d===0?c[0]??n.initialPageParam:A1(n,u);if(d>0&&P==null)break;u=await k(u,P),d++}while(d<C)}return u};t.options.persister?t.fetchFn=()=>{var _,b;return(b=(_=t.options).persister)==null?void 0:b.call(_,h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=h}}}function A1(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function p5(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Bt,Wa,Ha,gl,vl,Ya,xl,yl,Rj,g5=(Rj=class{constructor(t={}){Fe(this,Bt);Fe(this,Wa);Fe(this,Ha);Fe(this,gl);Fe(this,vl);Fe(this,Ya);Fe(this,xl);Fe(this,yl);Ce(this,Bt,t.queryCache||new f5),Ce(this,Wa,t.mutationCache||new m5),Ce(this,Ha,t.defaultOptions||{}),Ce(this,gl,new Map),Ce(this,vl,new Map),Ce(this,Ya,0)}mount(){Jd(this,Ya)._++,F(this,Ya)===1&&(Ce(this,xl,xx.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Bt).onFocus())})),Ce(this,yl,Lf.subscribe(async t=>{t&&(await this.resumePausedMutations(),F(this,Bt).onOnline())})))}unmount(){var t,r;Jd(this,Ya)._--,F(this,Ya)===0&&((t=F(this,xl))==null||t.call(this),Ce(this,xl,void 0),(r=F(this,yl))==null||r.call(this),Ce(this,yl,void 0))}isFetching(t){return F(this,Bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return F(this,Wa).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const r=this.defaultQueryOptions({queryKey:t});return(n=F(this,Bt).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const r=this.defaultQueryOptions(t),n=F(this,Bt).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ni(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(t){return F(this,Bt).findAll(t).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(t,r,n){const a=this.defaultQueryOptions({queryKey:t}),o=F(this,Bt).get(a.queryHash),c=o==null?void 0:o.state.data,u=t5(r,c);if(u!==void 0)return F(this,Bt).build(this,a).setData(u,{...n,manual:!0})}setQueriesData(t,r,n){return rr.batch(()=>F(this,Bt).findAll(t).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(t){var n;const r=this.defaultQueryOptions({queryKey:t});return(n=F(this,Bt).get(r.queryHash))==null?void 0:n.state}removeQueries(t){const r=F(this,Bt);rr.batch(()=>{r.findAll(t).forEach(n=>{r.remove(n)})})}resetQueries(t,r){const n=F(this,Bt);return rr.batch(()=>(n.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...t},r)))}cancelQueries(t,r={}){const n={revert:!0,...r},a=rr.batch(()=>F(this,Bt).findAll(t).map(o=>o.cancel(n)));return Promise.all(a).then(Mr).catch(Mr)}invalidateQueries(t,r={}){return rr.batch(()=>(F(this,Bt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},r)))}refetchQueries(t,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=rr.batch(()=>F(this,Bt).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let c=o.fetch(void 0,n);return n.throwOnError||(c=c.catch(Mr)),o.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(a).then(Mr)}fetchQuery(t){const r=this.defaultQueryOptions(t);r.retry===void 0&&(r.retry=!1);const n=F(this,Bt).build(this,r);return n.isStaleByTime(ni(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mr).catch(Mr)}fetchInfiniteQuery(t){return t.behavior=R1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mr).catch(Mr)}ensureInfiniteQueryData(t){return t.behavior=R1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lf.isOnline()?F(this,Wa).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Bt)}getMutationCache(){return F(this,Wa)}getDefaultOptions(){return F(this,Ha)}setDefaultOptions(t){Ce(this,Ha,t)}setQueryDefaults(t,r){F(this,gl).set(Gi(t),{queryKey:t,defaultOptions:r})}getQueryDefaults(t){const r=[...F(this,gl).values()],n={};return r.forEach(a=>{uu(t,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(t,r){F(this,vl).set(Gi(t),{mutationKey:t,defaultOptions:r})}getMutationDefaults(t){const r=[...F(this,vl).values()],n={};return r.forEach(a=>{uu(t,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const r={...F(this,Ha).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return r.queryHash||(r.queryHash=gx(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===vx&&(r.enabled=!1),r}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...F(this,Ha).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){F(this,Bt).clear(),F(this,Wa).clear()}},Bt=new WeakMap,Wa=new WeakMap,Ha=new WeakMap,gl=new WeakMap,vl=new WeakMap,Ya=new WeakMap,xl=new WeakMap,yl=new WeakMap,Rj),Qr,it,_u,Or,Vi,wl,Ga,Ka,ju,bl,_l,qi,Wi,Qa,jl,xt,Qc,fv,hv,mv,pv,gv,vv,xv,_S,Aj,v5=(Aj=class extends Hl{constructor(t,r){super();Fe(this,xt);Fe(this,Qr);Fe(this,it);Fe(this,_u);Fe(this,Or);Fe(this,Vi);Fe(this,wl);Fe(this,Ga);Fe(this,Ka);Fe(this,ju);Fe(this,bl);Fe(this,_l);Fe(this,qi);Fe(this,Wi);Fe(this,Qa);Fe(this,jl,new Set);this.options=r,Ce(this,Qr,t),Ce(this,Ka,null),Ce(this,Ga,dv()),this.options.experimental_prefetchInRender||F(this,Ga).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,it).addObserver(this),O1(F(this,it),this.options)?Je(this,xt,Qc).call(this):this.updateResult(),Je(this,xt,pv).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yv(F(this,it),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yv(F(this,it),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,xt,gv).call(this),Je(this,xt,vv).call(this),F(this,it).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,it);if(this.options=F(this,Qr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ts(this.options.enabled,F(this,it))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,xt,xv).call(this),F(this,it).setOptions(this.options),r._defaulted&&!If(this.options,r)&&F(this,Qr).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,it),observer:this});const a=this.hasListeners();a&&M1(F(this,it),n,this.options,r)&&Je(this,xt,Qc).call(this),this.updateResult(),a&&(F(this,it)!==n||ts(this.options.enabled,F(this,it))!==ts(r.enabled,F(this,it))||ni(this.options.staleTime,F(this,it))!==ni(r.staleTime,F(this,it)))&&Je(this,xt,fv).call(this);const o=Je(this,xt,hv).call(this);a&&(F(this,it)!==n||ts(this.options.enabled,F(this,it))!==ts(r.enabled,F(this,it))||o!==F(this,Qa))&&Je(this,xt,mv).call(this,o)}getOptimisticResult(t){const r=F(this,Qr).getQueryCache().build(F(this,Qr),t),n=this.createResult(r,t);return y5(this,n)&&(Ce(this,Or,n),Ce(this,wl,this.options),Ce(this,Vi,F(this,it).state)),n}getCurrentResult(){return F(this,Or)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(t){F(this,jl).add(t)}getCurrentQuery(){return F(this,it)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,Qr).defaultQueryOptions(t),n=F(this,Qr).getQueryCache().build(F(this,Qr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Je(this,xt,Qc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Or)))}createResult(t,r){var W;const n=F(this,it),a=this.options,o=F(this,Or),c=F(this,Vi),u=F(this,wl),h=t!==n?t.state:F(this,_u),{state:m}=t;let p={...m},v=!1,y;if(r._optimisticResults){const B=this.hasListeners(),Z=!B&&O1(t,r),V=B&&M1(t,n,r,a);(Z||V)&&(p={...p,...wS(m.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:N,errorUpdatedAt:_,status:b}=p;y=p.data;let S=!1;if(r.placeholderData!==void 0&&y===void 0&&b==="pending"){let B;o!=null&&o.isPlaceholderData&&r.placeholderData===(u==null?void 0:u.placeholderData)?(B=o.data,S=!0):B=typeof r.placeholderData=="function"?r.placeholderData((W=F(this,_l))==null?void 0:W.state.data,F(this,_l)):r.placeholderData,B!==void 0&&(b="success",y=uv(o==null?void 0:o.data,B,r),v=!0)}if(r.select&&y!==void 0&&!S)if(o&&y===(c==null?void 0:c.data)&&r.select===F(this,ju))y=F(this,bl);else try{Ce(this,ju,r.select),y=r.select(y),y=uv(o==null?void 0:o.data,y,r),Ce(this,bl,y),Ce(this,Ka,null)}catch(B){Ce(this,Ka,B)}F(this,Ka)&&(N=F(this,Ka),y=F(this,bl),_=Date.now(),b="error");const k=p.fetchStatus==="fetching",C=b==="pending",P=b==="error",T=C&&k,R=y!==void 0,D={status:b,fetchStatus:p.fetchStatus,isPending:C,isSuccess:b==="success",isError:P,isInitialLoading:T,isLoading:T,data:y,dataUpdatedAt:p.dataUpdatedAt,error:N,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:k,isRefetching:k&&!C,isLoadingError:P&&!R,isPaused:p.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:P&&R,isStale:yx(t,r),refetch:this.refetch,promise:F(this,Ga)};if(this.options.experimental_prefetchInRender){const B=K=>{D.status==="error"?K.reject(D.error):D.data!==void 0&&K.resolve(D.data)},Z=()=>{const K=Ce(this,Ga,D.promise=dv());B(K)},V=F(this,Ga);switch(V.status){case"pending":t.queryHash===n.queryHash&&B(V);break;case"fulfilled":(D.status==="error"||D.data!==V.value)&&Z();break;case"rejected":(D.status!=="error"||D.error!==V.reason)&&Z();break}}return D}updateResult(){const t=F(this,Or),r=this.createResult(F(this,it),this.options);if(Ce(this,Vi,F(this,it).state),Ce(this,wl,this.options),F(this,Vi).data!==void 0&&Ce(this,_l,F(this,it)),If(r,t))return;Ce(this,Or,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!F(this,jl).size)return!0;const c=new Set(o??F(this,jl));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,Or)).some(u=>{const d=u;return F(this,Or)[d]!==t[d]&&c.has(d)})};Je(this,xt,_S).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,xt,pv).call(this)}},Qr=new WeakMap,it=new WeakMap,_u=new WeakMap,Or=new WeakMap,Vi=new WeakMap,wl=new WeakMap,Ga=new WeakMap,Ka=new WeakMap,ju=new WeakMap,bl=new WeakMap,_l=new WeakMap,qi=new WeakMap,Wi=new WeakMap,Qa=new WeakMap,jl=new WeakMap,xt=new WeakSet,Qc=function(t){Je(this,xt,xv).call(this);let r=F(this,it).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Mr)),r},fv=function(){Je(this,xt,gv).call(this);const t=ni(this.options.staleTime,F(this,it));if(Yi||F(this,Or).isStale||!lv(t))return;const n=fS(F(this,Or).dataUpdatedAt,t)+1;Ce(this,qi,setTimeout(()=>{F(this,Or).isStale||this.updateResult()},n))},hv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,it)):this.options.refetchInterval)??!1},mv=function(t){Je(this,xt,vv).call(this),Ce(this,Qa,t),!(Yi||ts(this.options.enabled,F(this,it))===!1||!lv(F(this,Qa))||F(this,Qa)===0)&&Ce(this,Wi,setInterval(()=>{(this.options.refetchIntervalInBackground||xx.isFocused())&&Je(this,xt,Qc).call(this)},F(this,Qa)))},pv=function(){Je(this,xt,fv).call(this),Je(this,xt,mv).call(this,Je(this,xt,hv).call(this))},gv=function(){F(this,qi)&&(clearTimeout(F(this,qi)),Ce(this,qi,void 0))},vv=function(){F(this,Wi)&&(clearInterval(F(this,Wi)),Ce(this,Wi,void 0))},xv=function(){const t=F(this,Qr).getQueryCache().build(F(this,Qr),this.options);if(t===F(this,it))return;const r=F(this,it);Ce(this,it,t),Ce(this,_u,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},_S=function(t){rr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,Or))}),F(this,Qr).getQueryCache().notify({query:F(this,it),type:"observerResultsUpdated"})})},Aj);function x5(e,t){return ts(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function O1(e,t){return x5(e,t)||e.state.data!==void 0&&yv(e,t,t.refetchOnMount)}function yv(e,t,r){if(ts(t.enabled,e)!==!1&&ni(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&yx(e,t)}return!1}function M1(e,t,r,n){return(e!==t||ts(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&yx(e,r)}function yx(e,t){return ts(t.enabled,e)!==!1&&e.isStaleByTime(ni(t.staleTime,e))}function y5(e,t){return!If(e.getCurrentResult(),t)}var Za,Ja,Zr,Xs,ra,Sf,wv,Oj,w5=(Oj=class extends Hl{constructor(r,n){super();Fe(this,ra);Fe(this,Za);Fe(this,Ja);Fe(this,Zr);Fe(this,Xs);Ce(this,Za,r),this.setOptions(n),this.bindMethods(),Je(this,ra,Sf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,Za).defaultMutationOptions(r),If(this.options,n)||F(this,Za).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Zr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Gi(n.mutationKey)!==Gi(this.options.mutationKey)?this.reset():((a=F(this,Zr))==null?void 0:a.state.status)==="pending"&&F(this,Zr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,Zr))==null||r.removeObserver(this)}onMutationUpdate(r){Je(this,ra,Sf).call(this),Je(this,ra,wv).call(this,r)}getCurrentResult(){return F(this,Ja)}reset(){var r;(r=F(this,Zr))==null||r.removeObserver(this),Ce(this,Zr,void 0),Je(this,ra,Sf).call(this),Je(this,ra,wv).call(this)}mutate(r,n){var a;return Ce(this,Xs,n),(a=F(this,Zr))==null||a.removeObserver(this),Ce(this,Zr,F(this,Za).getMutationCache().build(F(this,Za),this.options)),F(this,Zr).addObserver(this),F(this,Zr).execute(r)}},Za=new WeakMap,Ja=new WeakMap,Zr=new WeakMap,Xs=new WeakMap,ra=new WeakSet,Sf=function(){var n;const r=((n=F(this,Zr))==null?void 0:n.state)??bS();Ce(this,Ja,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},wv=function(r){rr.batch(()=>{var n,a,o,c,u,d,h,m;if(F(this,Xs)&&this.hasListeners()){const p=F(this,Ja).variables,v=F(this,Ja).context;(r==null?void 0:r.type)==="success"?((a=(n=F(this,Xs)).onSuccess)==null||a.call(n,r.data,p,v),(c=(o=F(this,Xs)).onSettled)==null||c.call(o,r.data,null,p,v)):(r==null?void 0:r.type)==="error"&&((d=(u=F(this,Xs)).onError)==null||d.call(u,r.error,p,v),(m=(h=F(this,Xs)).onSettled)==null||m.call(h,void 0,r.error,p,v))}this.listeners.forEach(p=>{p(F(this,Ja))})})},Oj),jS=x.createContext(void 0),Ms=e=>{const t=x.useContext(jS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},b5=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(jS.Provider,{value:e,children:t})),NS=x.createContext(!1),_5=()=>x.useContext(NS);NS.Provider;function j5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var N5=x.createContext(j5()),S5=()=>x.useContext(N5),k5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},C5=e=>{x.useEffect(()=>{e.clearReset()},[e])},E5=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||pS(r,[e.error,n])),P5=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},T5=(e,t)=>e.isLoading&&e.isFetching&&!t,R5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,D1=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function A5(e,t,r){var p,v,y,N,_;const n=_5(),a=S5(),o=Ms(),c=o.defaultQueryOptions(e);(v=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,c),c._optimisticResults=n?"isRestoring":"optimistic",P5(c),k5(c,a),C5(a);const u=!o.getQueryCache().get(c.queryHash),[d]=x.useState(()=>new t(o,c)),h=d.getOptimisticResult(c),m=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(b=>{const S=m?d.subscribe(rr.batchCalls(b)):Mr;return d.updateResult(),S},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(c)},[c,d]),R5(c,h))throw D1(c,d,a);if(E5({result:h,errorResetBoundary:a,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw h.error;if((N=(y=o.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||N.call(y,c,h),c.experimental_prefetchInRender&&!Yi&&T5(h,n)){const b=u?D1(c,d,a):(_=o.getQueryCache().get(c.queryHash))==null?void 0:_.promise;b==null||b.catch(Mr).finally(()=>{d.updateResult()})}return c.notifyOnChangeProps?h:d.trackResult(h)}function sr(e,t){return A5(e,v5)}function bv(e,t){const r=Ms(),[n]=x.useState(()=>new w5(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(c=>n.subscribe(rr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=x.useCallback((c,u)=>{n.mutate(c,u).catch(Mr)},[n]);if(a.error&&pS(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}const O5=new g5({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),M5=({children:e})=>s.jsx(b5,{client:O5,children:e}),mh=te.forwardRef(({className:e="",onMenuClick:t,showMenu:r=!1,showText:n=!0},a)=>s.jsx("div",{ref:a,className:`flex items-center ${e}`,children:s.jsx(pt,{to:"/",className:"flex items-center group transition-all duration-300",children:s.jsx("div",{className:"flex items-center",children:n&&s.jsx("span",{className:"text-xl md:text-2xl font-bold lowercase text-primary group-hover:text-primary/80 transition-colors",children:"thelineup"})})})}));mh.displayName="BrandLogo";const D5=768,Dt=()=>{const[e,t]=x.useState(!1);return x.useEffect(()=>{if(typeof window<"u"){const r=()=>{const n=window.innerWidth<D5;t(n)};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}}},[]),e},SS={borderRadius:{none:"rounded-none",xs:"rounded-sm",sm:"rounded",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full"}},I5=e=>SS.borderRadius[e],kS={button:"sm"},kl=Cu("inline-flex items-center justify-center gap-2 whitespace-nowrap font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 text-center select-none",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",outline:"border border-primary/30 bg-white text-primary hover:bg-primary/5",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-primary/10 hover:text-primary",link:"text-primary underline-offset-4 hover:underline",primary:"bg-primary text-white hover:bg-primary/90",destructive:"bg-red-500 text-white hover:bg-red-600",dark:"bg-primary text-white hover:bg-primary/90"},size:{default:"h-10 px-4 py-2 text-sm",sm:"h-9 px-3 py-1.5 text-sm",lg:"h-12 px-6 py-3 text-base",icon:"h-10 w-10"},radius:{none:"",xs:"",sm:"",md:"",lg:"",xl:"",full:""}},defaultVariants:{variant:"default",size:"default",radius:kS.button}}),ee=x.forwardRef(({className:e,variant:t,size:r,radius:n=kS.button,asChild:a=!1,...o},c)=>{const u=a?hN:"button",d=I5(n);return s.jsx(u,{className:re(kl({variant:t,size:r}),d,e),ref:c,...o})});ee.displayName="Button";const Be=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("rounded-sm border bg-card text-card-foreground shadow-sm",e),...t}));Be.displayName="Card";const jt=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("flex flex-col space-y-1.5 p-6",e),...t}));jt.displayName="CardHeader";const Nt=x.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Nt.displayName="CardTitle";const Mt=x.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:re("text-sm text-muted-foreground",e),...t}));Mt.displayName="CardDescription";const ut=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("p-6 pt-0",e),...t}));ut.displayName="CardContent";const wx=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("flex items-center p-6 pt-0",e),...t}));wx.displayName="CardFooter";const L5=({title:e,description:t,children:r,browseEventsButton:n=!1,onClose:a,onBrowseEvents:o})=>{const c=ot(),u=()=>{a&&a(),setTimeout(()=>c("/login"),0)},d=()=>{a&&a(),setTimeout(()=>c("/signup"),0)};return s.jsxs("div",{className:"relative min-h-screen",children:[s.jsx("div",{className:"opacity-30 pointer-events-none",children:r}),s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(Be,{className:"w-full max-w-md mx-auto bg-white",children:[s.jsxs(jt,{className:"text-center",children:[s.jsx(Nt,{className:"text-2xl font-bold text-gray-900",children:e}),s.jsx(Mt,{className:"text-base text-gray-600",children:t})]}),s.jsxs(ut,{className:"space-y-4",children:[s.jsx(ee,{onClick:u,className:"w-full bg-black text-white hover:bg-gray-800 text-base font-semibold py-3",children:"Log In"}),s.jsx(ee,{onClick:d,variant:"outline",className:"w-full text-black border-gray-300 hover:bg-gray-50 text-base font-semibold py-3",children:"Sign Up"}),n&&s.jsx(ee,{onClick:o,variant:"ghost",className:"w-full text-gray-600 hover:text-gray-800 text-base py-3",children:"Just Browse Events"})]})]})})]})},du={async requestCreatorAccess(e,t){console.log("CreatorRequestService: Starting request for userId:",e),console.log("CreatorRequestService: Request details:",t);try{console.log("CreatorRequestService: Fetching user profile...");const{data:r,error:n}=await ae.from("profiles").select("username, email").eq("id",e).single();if(n)return console.error("Error fetching user profile:",n),{data:null,error:n};console.log("CreatorRequestService: User profile fetched:",r),console.log("CreatorRequestService: Checking for existing request...");const{data:a,error:o}=await ae.from("creator_requests").select("id, status").eq("user_id",e).maybeSingle();if(o)return console.error("CreatorRequestService: Error checking existing request:",o),{data:null,error:o};if(a)return console.log("CreatorRequestService: Found existing request:",a),{data:a,error:null};console.log("CreatorRequestService: Creating creator request...");const{data:c,error:u}=await ae.from("creator_requests").insert({user_id:e,status:"pending",reason:t.reason,contact_email:t.contact_email||null,contact_phone:t.contact_phone||null}).select().single();if(u)return console.error("Error creating creator request:",u),{data:null,error:u};console.log("CreatorRequestService: Creator request created successfully:",c),console.log("CreatorRequestService: Creating admin notification...");const d={notification_type:"creator_request",data:{user_id:e,username:r.username||"Unknown",user_email:r.email||"No email",reason:t.reason,contact_email:t.contact_email,contact_phone:t.contact_phone}};console.log("CreatorRequestService: Notification data to insert:",d);const{data:h,error:m}=await ae.from("admin_notifications").insert(d).select().single();m?console.error("CreatorRequestService: Failed to create admin notification:",m):console.log("CreatorRequestService: Admin notification created successfully:",h);try{console.log("CreatorRequestService: Attempting to send email notification...");const{data:p,error:v}=await ae.functions.invoke("notify-admin-creator-request",{body:{username:r.username,user_email:r.email,reason:t.reason,contact_email:t.contact_email,contact_phone:t.contact_phone}});v?console.error("CreatorRequestService: Email notification function error:",v):console.log("CreatorRequestService: Email notification function success:",p)}catch(p){console.error("CreatorRequestService: Email notification threw exception:",p)}return{data:c,error:null}}catch(r){return console.error("CreatorRequestService: Unexpected error in requestCreatorAccess:",r),{data:null,error:r}}},async getCreatorRequestStatus(e){console.log("CreatorRequestService: Checking status for userId:",e);try{const{data:t,error:r}=await ae.from("creator_requests").select("status").eq("user_id",e).maybeSingle();return r?(console.error("Error fetching creator request status:",r),{data:null,error:r}):(console.log("CreatorRequestService: Status check result:",t),{data:t,error:null})}catch(t){return console.error("CreatorRequestService: Unexpected error in getCreatorRequestStatus:",t),{data:null,error:t}}},async getCreatorRequestsForAdmin(){console.log("CreatorRequestService: Fetching creator requests for admin...");const{data:e,error:t}=await ae.from("admin_notifications").select("id, created_at, is_read, data").eq("notification_type","creator_request").order("is_read",{ascending:!0}).order("created_at",{ascending:!1});return t?console.error("Error fetching creator requests for admin:",t):(console.log("Admin creator requests fetched:",(e==null?void 0:e.length)||0,"requests"),console.log("Admin creator requests details:",e)),{data:e,error:t}},async approveCreatorRequest(e,t){console.log("CreatorRequestService: Approving request for userId:",e,"notificationId:",t);const{error:r}=await ae.from("user_roles").insert({user_id:e,role:"event_creator"});if(r&&r.code!=="23505")return console.error("Error granting event_creator role:",r),{error:r};const{error:n}=await ae.from("creator_requests").update({status:"approved"}).eq("user_id",e);if(n)return console.error("Error updating creator request status to approved:",n),{error:n};if(!t.startsWith("creator_request_")){const{error:a}=await ae.from("admin_notifications").update({is_read:!0}).eq("id",t);a&&console.error("Error updating notification status:",a)}return console.log("Creator request approved successfully"),{error:null}},async denyCreatorRequest(e,t){console.log("CreatorRequestService: Denying request for userId:",e,"notificationId:",t);const{error:r}=await ae.from("creator_requests").update({status:"denied"}).eq("user_id",e);if(r)return console.error("Error updating creator request status to denied:",r),{error:r};if(!t.startsWith("creator_request_")){const{error:n}=await ae.from("admin_notifications").update({is_read:!0}).eq("id",t);n&&console.error("Error updating notification status:",n)}return console.log("Creator request denied successfully"),{error:null}}},bx=()=>{const{user:e}=Xe(),t=e==null?void 0:e.id,{data:r,isLoading:n}=sr({queryKey:["user-role",t,"admin"],queryFn:async()=>{if(!t)return!1;console.log("useAdminData: Checking admin role for user:",t);const{data:u,error:d}=await ae.rpc("has_role",{user_id:t,role_name:"admin"});return d?(console.error("Error checking admin role:",d),!1):(console.log("Admin check result:",u),u)},enabled:!!t}),{data:a,isLoading:o,refetch:c}=sr({queryKey:["creator-requests"],queryFn:async()=>{console.log("useAdminData: Fetching creator requests for admin...");const{data:u,error:d}=await du.getCreatorRequestsForAdmin();d?console.error("Error fetching creator requests from notifications:",d):console.log("Notification-based requests fetched:",(u==null?void 0:u.length)||0);const{data:h,error:m}=await ae.from("creator_requests").select("id, user_id, status, reason, contact_email, contact_phone, created_at").order("created_at",{ascending:!1});if(m)throw console.error("Error fetching direct creator requests:",m),new Error("Failed to fetch creator requests");console.log("Direct creator_requests table data:",h);const p=(h==null?void 0:h.map(S=>S.user_id))||[];let v=[];if(p.length>0){const{data:S,error:k}=await ae.from("profiles").select("id, username, email").in("id",p);k?console.error("Error fetching profiles:",k):v=S||[]}const y=(h==null?void 0:h.map(S=>{const k=v.find(C=>C.id===S.user_id);return{id:`creator_request_${S.id}`,created_at:S.created_at,is_read:S.status!=="pending",data:{user_id:S.user_id,username:(k==null?void 0:k.username)||"Unknown",user_email:(k==null?void 0:k.email)||"No email",reason:S.reason||"No reason provided",contact_email:S.contact_email,contact_phone:S.contact_phone},original_request_id:S.id,status:S.status}}))||[],N=new Set((u==null?void 0:u.map(S=>{var k;return(k=S.data)==null?void 0:k.user_id}))||[]),_=y.filter(S=>!N.has(S.data.user_id)),b=[...u||[],..._];return console.log("Combined creator requests:",b.length),console.log("Combined requests data:",b),b},enabled:!!r});return{isAdmin:r,requests:a,isLoading:n||r&&o,refetchRequests:c}};var F5=x.createContext(void 0);function ph(e){const t=x.useContext(F5);return e||t||"ltr"}var ag=0;function gh(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??I1()),document.body.insertAdjacentElement("beforeend",e[1]??I1()),ag++,()=>{ag===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ag--}},[])}function I1(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ig="focusScope.autoFocusOnMount",og="focusScope.autoFocusOnUnmount",L1={bubbles:!1,cancelable:!0},$5="FocusScope",Pu=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=e,[u,d]=x.useState(null),h=Fr(a),m=Fr(o),p=x.useRef(null),v=at(t,_=>d(_)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let _=function(C){if(y.paused||!u)return;const P=C.target;u.contains(P)?p.current=P:Fa(p.current,{select:!0})},b=function(C){if(y.paused||!u)return;const P=C.relatedTarget;P!==null&&(u.contains(P)||Fa(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&Fa(u)};document.addEventListener("focusin",_),document.addEventListener("focusout",b);const k=new MutationObserver(S);return u&&k.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",b),k.disconnect()}}},[n,u,y.paused]),x.useEffect(()=>{if(u){$1.add(y);const _=document.activeElement;if(!u.contains(_)){const S=new CustomEvent(ig,L1);u.addEventListener(ig,h),u.dispatchEvent(S),S.defaultPrevented||(U5(W5(CS(u)),{select:!0}),document.activeElement===_&&Fa(u))}return()=>{u.removeEventListener(ig,h),setTimeout(()=>{const S=new CustomEvent(og,L1);u.addEventListener(og,m),u.dispatchEvent(S),S.defaultPrevented||Fa(_??document.body,{select:!0}),u.removeEventListener(og,m),$1.remove(y)},0)}}},[u,h,m,y]);const N=x.useCallback(_=>{if(!r&&!n||y.paused)return;const b=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,S=document.activeElement;if(b&&S){const k=_.currentTarget,[C,P]=z5(k);C&&P?!_.shiftKey&&S===P?(_.preventDefault(),r&&Fa(C,{select:!0})):_.shiftKey&&S===C&&(_.preventDefault(),r&&Fa(P,{select:!0})):S===k&&_.preventDefault()}},[r,n,y.paused]);return s.jsx(Re.div,{tabIndex:-1,...c,ref:v,onKeyDown:N})});Pu.displayName=$5;function U5(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fa(n,{select:t}),document.activeElement!==r)return}function z5(e){const t=CS(e),r=F1(t,e),n=F1(t.reverse(),e);return[r,n]}function CS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function F1(e,t){for(const r of e)if(!B5(r,{upTo:t}))return r}function B5(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function V5(e){return e instanceof HTMLInputElement&&"select"in e}function Fa(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&V5(e)&&t&&e.select()}}var $1=q5();function q5(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=U1(e,t),e.unshift(t)},remove(t){var r;e=U1(e,t),(r=e[0])==null||r.resume()}}}function U1(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function W5(e){return e.filter(t=>t.tagName!=="A")}var H5=Zv[" useId ".trim().toString()]||(()=>{}),Y5=0;function fr(e){const[t,r]=x.useState(H5());return Kt(()=>{r(n=>n??String(Y5++))},[e]),t?`radix-${t}`:""}const G5=["top","right","bottom","left"],ii=Math.min,bn=Math.max,Ff=Math.round,ff=Math.floor,Es=e=>({x:e,y:e}),K5={left:"right",right:"left",bottom:"top",top:"bottom"},Q5={start:"end",end:"start"};function _v(e,t,r){return bn(e,ii(t,r))}function ia(e,t){return typeof e=="function"?e(t):e}function oa(e){return e.split("-")[0]}function Yl(e){return e.split("-")[1]}function _x(e){return e==="x"?"y":"x"}function jx(e){return e==="y"?"height":"width"}function Ss(e){return["top","bottom"].includes(oa(e))?"y":"x"}function Nx(e){return _x(Ss(e))}function Z5(e,t,r){r===void 0&&(r=!1);const n=Yl(e),a=Nx(e),o=jx(a);let c=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=$f(c)),[c,$f(c)]}function J5(e){const t=$f(e);return[jv(e),t,jv(t)]}function jv(e){return e.replace(/start|end/g,t=>Q5[t])}function X5(e,t,r){const n=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?o:c;default:return[]}}function e3(e,t,r,n){const a=Yl(e);let o=X5(oa(e),r==="start",n);return a&&(o=o.map(c=>c+"-"+a),t&&(o=o.concat(o.map(jv)))),o}function $f(e){return e.replace(/left|right|bottom|top/g,t=>K5[t])}function t3(e){return{top:0,right:0,bottom:0,left:0,...e}}function ES(e){return typeof e!="number"?t3(e):{top:e,right:e,bottom:e,left:e}}function Uf(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function z1(e,t,r){let{reference:n,floating:a}=e;const o=Ss(t),c=Nx(t),u=jx(c),d=oa(t),h=o==="y",m=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,v=n[u]/2-a[u]/2;let y;switch(d){case"top":y={x:m,y:n.y-a.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:p};break;case"left":y={x:n.x-a.width,y:p};break;default:y={x:n.x,y:n.y}}switch(Yl(t)){case"start":y[c]-=v*(r&&h?-1:1);break;case"end":y[c]+=v*(r&&h?-1:1);break}return y}const r3=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:c}=r,u=o.filter(Boolean),d=await(c.isRTL==null?void 0:c.isRTL(t));let h=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:p}=z1(h,n,d),v=n,y={},N=0;for(let _=0;_<u.length;_++){const{name:b,fn:S}=u[_],{x:k,y:C,data:P,reset:T}=await S({x:m,y:p,initialPlacement:n,placement:v,strategy:a,middlewareData:y,rects:h,platform:c,elements:{reference:e,floating:t}});m=k??m,p=C??p,y={...y,[b]:{...y[b],...P}},T&&N<=50&&(N++,typeof T=="object"&&(T.placement&&(v=T.placement),T.rects&&(h=T.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):T.rects),{x:m,y:p}=z1(h,v,d)),_=-1)}return{x:m,y:p,placement:v,strategy:a,middlewareData:y}};async function fu(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:c,elements:u,strategy:d}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:v=!1,padding:y=0}=ia(t,e),N=ES(y),b=u[v?p==="floating"?"reference":"floating":p],S=Uf(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:m,strategy:d})),k=p==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),P=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},T=Uf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:C,strategy:d}):k);return{top:(S.top-T.top+N.top)/P.y,bottom:(T.bottom-S.bottom+N.bottom)/P.y,left:(S.left-T.left+N.left)/P.x,right:(T.right-S.right+N.right)/P.x}}const n3=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:c,elements:u,middlewareData:d}=t,{element:h,padding:m=0}=ia(e,t)||{};if(h==null)return{};const p=ES(m),v={x:r,y:n},y=Nx(a),N=jx(y),_=await c.getDimensions(h),b=y==="y",S=b?"top":"left",k=b?"bottom":"right",C=b?"clientHeight":"clientWidth",P=o.reference[N]+o.reference[y]-v[y]-o.floating[N],T=v[y]-o.reference[y],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let M=R?R[C]:0;(!M||!await(c.isElement==null?void 0:c.isElement(R)))&&(M=u.floating[C]||o.floating[N]);const D=P/2-T/2,W=M/2-_[N]/2-1,B=ii(p[S],W),Z=ii(p[k],W),V=B,K=M-_[N]-Z,H=M/2-_[N]/2+D,me=_v(V,H,K),le=!d.arrow&&Yl(a)!=null&&H!==me&&o.reference[N]/2-(H<V?B:Z)-_[N]/2<0,X=le?H<V?H-V:H-K:0;return{[y]:v[y]+X,data:{[y]:me,centerOffset:H-me-X,...le&&{alignmentOffset:X}},reset:le}}}),s3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:c,initialPlacement:u,platform:d,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:_=!0,...b}=ia(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const S=oa(a),k=Ss(u),C=oa(u)===u,P=await(d.isRTL==null?void 0:d.isRTL(h.floating)),T=v||(C||!_?[$f(u)]:J5(u)),R=N!=="none";!v&&R&&T.push(...e3(u,_,N,P));const M=[u,...T],D=await fu(t,b),W=[];let B=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&W.push(D[S]),p){const H=Z5(a,c,P);W.push(D[H[0]],D[H[1]])}if(B=[...B,{placement:a,overflows:W}],!W.every(H=>H<=0)){var Z,V;const H=(((Z=o.flip)==null?void 0:Z.index)||0)+1,me=M[H];if(me&&(!(p==="alignment"?k!==Ss(me):!1)||B.every(U=>U.overflows[0]>0&&Ss(U.placement)===k)))return{data:{index:H,overflows:B},reset:{placement:me}};let le=(V=B.filter(X=>X.overflows[0]<=0).sort((X,U)=>X.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!le)switch(y){case"bestFit":{var K;const X=(K=B.filter(U=>{if(R){const q=Ss(U.placement);return q===k||q==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(q=>q>0).reduce((q,se)=>q+se,0)]).sort((U,q)=>U[1]-q[1])[0])==null?void 0:K[0];X&&(le=X);break}case"initialPlacement":le=u;break}if(a!==le)return{reset:{placement:le}}}return{}}}};function B1(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function V1(e){return G5.some(t=>e[t]>=0)}const a3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=ia(e,t);switch(n){case"referenceHidden":{const o=await fu(t,{...a,elementContext:"reference"}),c=B1(o,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:V1(c)}}}case"escaped":{const o=await fu(t,{...a,altBoundary:!0}),c=B1(o,r.floating);return{data:{escapedOffsets:c,escaped:V1(c)}}}default:return{}}}}};async function i3(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=oa(r),u=Yl(r),d=Ss(r)==="y",h=["left","top"].includes(c)?-1:1,m=o&&d?-1:1,p=ia(t,e);let{mainAxis:v,crossAxis:y,alignmentAxis:N}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof N=="number"&&(y=u==="end"?N*-1:N),d?{x:y*m,y:v*h}:{x:v*h,y:y*m}}const o3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:c,middlewareData:u}=t,d=await i3(t,e);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:o+d.y,data:{...d,placement:c}}}}},l3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:b=>{let{x:S,y:k}=b;return{x:S,y:k}}},...d}=ia(e,t),h={x:r,y:n},m=await fu(t,d),p=Ss(oa(a)),v=_x(p);let y=h[v],N=h[p];if(o){const b=v==="y"?"top":"left",S=v==="y"?"bottom":"right",k=y+m[b],C=y-m[S];y=_v(k,y,C)}if(c){const b=p==="y"?"top":"left",S=p==="y"?"bottom":"right",k=N+m[b],C=N-m[S];N=_v(k,N,C)}const _=u.fn({...t,[v]:y,[p]:N});return{..._,data:{x:_.x-r,y:_.y-n,enabled:{[v]:o,[p]:c}}}}}},c3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:c}=t,{offset:u=0,mainAxis:d=!0,crossAxis:h=!0}=ia(e,t),m={x:r,y:n},p=Ss(a),v=_x(p);let y=m[v],N=m[p];const _=ia(u,t),b=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(d){const C=v==="y"?"height":"width",P=o.reference[v]-o.floating[C]+b.mainAxis,T=o.reference[v]+o.reference[C]-b.mainAxis;y<P?y=P:y>T&&(y=T)}if(h){var S,k;const C=v==="y"?"width":"height",P=["top","left"].includes(oa(a)),T=o.reference[p]-o.floating[C]+(P&&((S=c.offset)==null?void 0:S[p])||0)+(P?0:b.crossAxis),R=o.reference[p]+o.reference[C]+(P?0:((k=c.offset)==null?void 0:k[p])||0)-(P?b.crossAxis:0);N<T?N=T:N>R&&(N=R)}return{[v]:y,[p]:N}}}},u3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:c,elements:u}=t,{apply:d=()=>{},...h}=ia(e,t),m=await fu(t,h),p=oa(a),v=Yl(a),y=Ss(a)==="y",{width:N,height:_}=o.floating;let b,S;p==="top"||p==="bottom"?(b=p,S=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(S=p,b=v==="end"?"top":"bottom");const k=_-m.top-m.bottom,C=N-m.left-m.right,P=ii(_-m[b],k),T=ii(N-m[S],C),R=!t.middlewareData.shift;let M=P,D=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(M=k),R&&!v){const B=bn(m.left,0),Z=bn(m.right,0),V=bn(m.top,0),K=bn(m.bottom,0);y?D=N-2*(B!==0||Z!==0?B+Z:bn(m.left,m.right)):M=_-2*(V!==0||K!==0?V+K:bn(m.top,m.bottom))}await d({...t,availableWidth:D,availableHeight:M});const W=await c.getDimensions(u.floating);return N!==W.width||_!==W.height?{reset:{rects:!0}}:{}}}};function vh(){return typeof window<"u"}function Gl(e){return PS(e)?(e.nodeName||"").toLowerCase():"#document"}function Nn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ds(e){var t;return(t=(PS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function PS(e){return vh()?e instanceof Node||e instanceof Nn(e).Node:!1}function as(e){return vh()?e instanceof Element||e instanceof Nn(e).Element:!1}function Rs(e){return vh()?e instanceof HTMLElement||e instanceof Nn(e).HTMLElement:!1}function q1(e){return!vh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Nn(e).ShadowRoot}function Tu(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=is(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function d3(e){return["table","td","th"].includes(Gl(e))}function xh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sx(e){const t=kx(),r=as(e)?is(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function f3(e){let t=oi(e);for(;Rs(t)&&!Cl(t);){if(Sx(t))return t;if(xh(t))return null;t=oi(t)}return null}function kx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cl(e){return["html","body","#document"].includes(Gl(e))}function is(e){return Nn(e).getComputedStyle(e)}function yh(e){return as(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oi(e){if(Gl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q1(e)&&e.host||Ds(e);return q1(t)?t.host:t}function TS(e){const t=oi(e);return Cl(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rs(t)&&Tu(t)?t:TS(t)}function hu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=TS(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),c=Nn(a);if(o){const u=Nv(c);return t.concat(c,c.visualViewport||[],Tu(a)?a:[],u&&r?hu(u):[])}return t.concat(a,hu(a,[],r))}function Nv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RS(e){const t=is(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Rs(e),o=a?e.offsetWidth:r,c=a?e.offsetHeight:n,u=Ff(r)!==o||Ff(n)!==c;return u&&(r=o,n=c),{width:r,height:n,$:u}}function Cx(e){return as(e)?e:e.contextElement}function cl(e){const t=Cx(e);if(!Rs(t))return Es(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=RS(t);let c=(o?Ff(r.width):r.width)/n,u=(o?Ff(r.height):r.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const h3=Es(0);function AS(e){const t=Nn(e);return!kx()||!t.visualViewport?h3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m3(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Nn(e)?!1:t}function Ki(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=Cx(e);let c=Es(1);t&&(n?as(n)&&(c=cl(n)):c=cl(e));const u=m3(o,r,n)?AS(o):Es(0);let d=(a.left+u.x)/c.x,h=(a.top+u.y)/c.y,m=a.width/c.x,p=a.height/c.y;if(o){const v=Nn(o),y=n&&as(n)?Nn(n):n;let N=v,_=Nv(N);for(;_&&n&&y!==N;){const b=cl(_),S=_.getBoundingClientRect(),k=is(_),C=S.left+(_.clientLeft+parseFloat(k.paddingLeft))*b.x,P=S.top+(_.clientTop+parseFloat(k.paddingTop))*b.y;d*=b.x,h*=b.y,m*=b.x,p*=b.y,d+=C,h+=P,N=Nn(_),_=Nv(N)}}return Uf({width:m,height:p,x:d,y:h})}function Ex(e,t){const r=yh(e).scrollLeft;return t?t.left+r:Ki(Ds(e)).left+r}function OS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Ex(e,n)),o=n.top+t.scrollTop;return{x:a,y:o}}function p3(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",c=Ds(n),u=t?xh(t.floating):!1;if(n===c||u&&o)return r;let d={scrollLeft:0,scrollTop:0},h=Es(1);const m=Es(0),p=Rs(n);if((p||!p&&!o)&&((Gl(n)!=="body"||Tu(c))&&(d=yh(n)),Rs(n))){const y=Ki(n);h=cl(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const v=c&&!p&&!o?OS(c,d,!0):Es(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+m.x+v.x,y:r.y*h.y-d.scrollTop*h.y+m.y+v.y}}function g3(e){return Array.from(e.getClientRects())}function v3(e){const t=Ds(e),r=yh(e),n=e.ownerDocument.body,a=bn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=bn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Ex(e);const u=-r.scrollTop;return is(n).direction==="rtl"&&(c+=bn(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:c,y:u}}function x3(e,t){const r=Nn(e),n=Ds(e),a=r.visualViewport;let o=n.clientWidth,c=n.clientHeight,u=0,d=0;if(a){o=a.width,c=a.height;const h=kx();(!h||h&&t==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:o,height:c,x:u,y:d}}function y3(e,t){const r=Ki(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Rs(e)?cl(e):Es(1),c=e.clientWidth*o.x,u=e.clientHeight*o.y,d=a*o.x,h=n*o.y;return{width:c,height:u,x:d,y:h}}function W1(e,t,r){let n;if(t==="viewport")n=x3(e,r);else if(t==="document")n=v3(Ds(e));else if(as(t))n=y3(t,r);else{const a=AS(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Uf(n)}function MS(e,t){const r=oi(e);return r===t||!as(r)||Cl(r)?!1:is(r).position==="fixed"||MS(r,t)}function w3(e,t){const r=t.get(e);if(r)return r;let n=hu(e,[],!1).filter(u=>as(u)&&Gl(u)!=="body"),a=null;const o=is(e).position==="fixed";let c=o?oi(e):e;for(;as(c)&&!Cl(c);){const u=is(c),d=Sx(c);!d&&u.position==="fixed"&&(a=null),(o?!d&&!a:!d&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Tu(c)&&!d&&MS(e,c))?n=n.filter(m=>m!==c):a=u,c=oi(c)}return t.set(e,n),n}function b3(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const c=[...r==="clippingAncestors"?xh(t)?[]:w3(t,this._c):[].concat(r),n],u=c[0],d=c.reduce((h,m)=>{const p=W1(t,m,a);return h.top=bn(p.top,h.top),h.right=ii(p.right,h.right),h.bottom=ii(p.bottom,h.bottom),h.left=bn(p.left,h.left),h},W1(t,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function _3(e){const{width:t,height:r}=RS(e);return{width:t,height:r}}function j3(e,t,r){const n=Rs(t),a=Ds(t),o=r==="fixed",c=Ki(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const d=Es(0);function h(){d.x=Ex(a)}if(n||!n&&!o)if((Gl(t)!=="body"||Tu(a))&&(u=yh(t)),n){const y=Ki(t,!0,o,t);d.x=y.x+t.clientLeft,d.y=y.y+t.clientTop}else a&&h();o&&!n&&a&&h();const m=a&&!n&&!o?OS(a,u):Es(0),p=c.left+u.scrollLeft-d.x-m.x,v=c.top+u.scrollTop-d.y-m.y;return{x:p,y:v,width:c.width,height:c.height}}function lg(e){return is(e).position==="static"}function H1(e,t){if(!Rs(e)||is(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ds(e)===r&&(r=r.ownerDocument.body),r}function DS(e,t){const r=Nn(e);if(xh(e))return r;if(!Rs(e)){let a=oi(e);for(;a&&!Cl(a);){if(as(a)&&!lg(a))return a;a=oi(a)}return r}let n=H1(e,t);for(;n&&d3(n)&&lg(n);)n=H1(n,t);return n&&Cl(n)&&lg(n)&&!Sx(n)?r:n||f3(e)||r}const N3=async function(e){const t=this.getOffsetParent||DS,r=this.getDimensions,n=await r(e.floating);return{reference:j3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function S3(e){return is(e).direction==="rtl"}const k3={convertOffsetParentRelativeRectToViewportRelativeRect:p3,getDocumentElement:Ds,getClippingRect:b3,getOffsetParent:DS,getElementRects:N3,getClientRects:g3,getDimensions:_3,getScale:cl,isElement:as,isRTL:S3};function IS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function C3(e,t){let r=null,n;const a=Ds(e);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const h=e.getBoundingClientRect(),{left:m,top:p,width:v,height:y}=h;if(u||t(),!v||!y)return;const N=ff(p),_=ff(a.clientWidth-(m+v)),b=ff(a.clientHeight-(p+y)),S=ff(m),C={rootMargin:-N+"px "+-_+"px "+-b+"px "+-S+"px",threshold:bn(0,ii(1,d))||1};let P=!0;function T(R){const M=R[0].intersectionRatio;if(M!==d){if(!P)return c();M?c(!1,M):n=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!IS(h,e.getBoundingClientRect())&&c(),P=!1}try{r=new IntersectionObserver(T,{...C,root:a.ownerDocument})}catch{r=new IntersectionObserver(T,C)}r.observe(e)}return c(!0),o}function E3(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=Cx(e),m=a||o?[...h?hu(h):[],...hu(t)]:[];m.forEach(S=>{a&&S.addEventListener("scroll",r,{passive:!0}),o&&S.addEventListener("resize",r)});const p=h&&u?C3(h,r):null;let v=-1,y=null;c&&(y=new ResizeObserver(S=>{let[k]=S;k&&k.target===h&&y&&(y.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),r()}),h&&!d&&y.observe(h),y.observe(t));let N,_=d?Ki(e):null;d&&b();function b(){const S=Ki(e);_&&!IS(_,S)&&r(),_=S,N=requestAnimationFrame(b)}return r(),()=>{var S;m.forEach(k=>{a&&k.removeEventListener("scroll",r),o&&k.removeEventListener("resize",r)}),p==null||p(),(S=y)==null||S.disconnect(),y=null,d&&cancelAnimationFrame(N)}}const P3=o3,T3=l3,R3=s3,A3=u3,O3=a3,Y1=n3,M3=c3,D3=(e,t,r)=>{const n=new Map,a={platform:k3,...r},o={...a.platform,_c:n};return r3(e,t,{...a,platform:o})};var I3=typeof document<"u",L3=function(){},kf=I3?x.useLayoutEffect:L3;function zf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!zf(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!zf(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function LS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function G1(e,t){const r=LS(e);return Math.round(t*r)/r}function cg(e){const t=x.useRef(e);return kf(()=>{t.current=e}),t}function F3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:d,open:h}=e,[m,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,y]=x.useState(n);zf(v,n)||y(n);const[N,_]=x.useState(null),[b,S]=x.useState(null),k=x.useCallback(U=>{U!==R.current&&(R.current=U,_(U))},[]),C=x.useCallback(U=>{U!==M.current&&(M.current=U,S(U))},[]),P=o||N,T=c||b,R=x.useRef(null),M=x.useRef(null),D=x.useRef(m),W=d!=null,B=cg(d),Z=cg(a),V=cg(h),K=x.useCallback(()=>{if(!R.current||!M.current)return;const U={placement:t,strategy:r,middleware:v};Z.current&&(U.platform=Z.current),D3(R.current,M.current,U).then(q=>{const se={...q,isPositioned:V.current!==!1};H.current&&!zf(D.current,se)&&(D.current=se,$l.flushSync(()=>{p(se)}))})},[v,t,r,Z,V]);kf(()=>{h===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[h]);const H=x.useRef(!1);kf(()=>(H.current=!0,()=>{H.current=!1}),[]),kf(()=>{if(P&&(R.current=P),T&&(M.current=T),P&&T){if(B.current)return B.current(P,T,K);K()}},[P,T,K,B,W]);const me=x.useMemo(()=>({reference:R,floating:M,setReference:k,setFloating:C}),[k,C]),le=x.useMemo(()=>({reference:P,floating:T}),[P,T]),X=x.useMemo(()=>{const U={position:r,left:0,top:0};if(!le.floating)return U;const q=G1(le.floating,m.x),se=G1(le.floating,m.y);return u?{...U,transform:"translate("+q+"px, "+se+"px)",...LS(le.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:se}},[r,u,le.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:K,refs:me,elements:le,floatingStyles:X}),[m,K,me,le,X])}const $3=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Y1({element:n.current,padding:a}).fn(r):{}:n?Y1({element:n,padding:a}).fn(r):{}}}},U3=(e,t)=>({...P3(e),options:[e,t]}),z3=(e,t)=>({...T3(e),options:[e,t]}),B3=(e,t)=>({...M3(e),options:[e,t]}),V3=(e,t)=>({...R3(e),options:[e,t]}),q3=(e,t)=>({...A3(e),options:[e,t]}),W3=(e,t)=>({...O3(e),options:[e,t]}),H3=(e,t)=>({...$3(e),options:[e,t]});var Y3="Arrow",FS=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return s.jsx(Re.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});FS.displayName=Y3;var G3=FS;function $S(e){const[t,r]=x.useState(void 0);return Kt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,u;if("borderBoxSize"in o){const d=o.borderBoxSize,h=Array.isArray(d)?d[0]:d;c=h.inlineSize,u=h.blockSize}else c=e.offsetWidth,u=e.offsetHeight;r({width:c,height:u})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Px="Popper",[US,Kl]=ln(Px),[K3,zS]=US(Px),BS=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(K3,{scope:t,anchor:n,onAnchorChange:a,children:r})};BS.displayName=Px;var VS="PopperAnchor",qS=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=zS(VS,r),c=x.useRef(null),u=at(t,c);return x.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||c.current)}),n?null:s.jsx(Re.div,{...a,ref:u})});qS.displayName=VS;var Tx="PopperContent",[Q3,Z3]=US(Tx),WS=x.forwardRef((e,t)=>{var ne,be,_e,Le,Ke,et;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:N,..._}=e,b=zS(Tx,r),[S,k]=x.useState(null),C=at(t,It=>k(It)),[P,T]=x.useState(null),R=$S(P),M=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,W=n+(o!=="center"?"-"+o:""),B=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Z=Array.isArray(h)?h:[h],V=Z.length>0,K={padding:B,boundary:Z.filter(X3),altBoundary:V},{refs:H,floatingStyles:me,placement:le,isPositioned:X,middlewareData:U}=F3({strategy:"fixed",placement:W,whileElementsMounted:(...It)=>E3(...It,{animationFrame:y==="always"}),elements:{reference:b.anchor},middleware:[U3({mainAxis:a+D,alignmentAxis:c}),d&&z3({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?B3():void 0,...K}),d&&V3({...K}),q3({...K,apply:({elements:It,rects:Jt,availableWidth:un,availableHeight:dn})=>{const{width:fn,height:Ls}=Jt.reference,hn=It.floating.style;hn.setProperty("--radix-popper-available-width",`${un}px`),hn.setProperty("--radix-popper-available-height",`${dn}px`),hn.setProperty("--radix-popper-anchor-width",`${fn}px`),hn.setProperty("--radix-popper-anchor-height",`${Ls}px`)}}),P&&H3({element:P,padding:u}),eL({arrowWidth:M,arrowHeight:D}),v&&W3({strategy:"referenceHidden",...K})]}),[q,se]=GS(le),L=Fr(N);Kt(()=>{X&&(L==null||L())},[X,L]);const O=(ne=U.arrow)==null?void 0:ne.x,ie=(be=U.arrow)==null?void 0:be.y,ce=((_e=U.arrow)==null?void 0:_e.centerOffset)!==0,[ue,xe]=x.useState();return Kt(()=>{S&&xe(window.getComputedStyle(S).zIndex)},[S]),s.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...me,transform:X?me.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Le=U.transformOrigin)==null?void 0:Le.x,(Ke=U.transformOrigin)==null?void 0:Ke.y].join(" "),...((et=U.hide)==null?void 0:et.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Q3,{scope:r,placedSide:q,onArrowChange:T,arrowX:O,arrowY:ie,shouldHideArrow:ce,children:s.jsx(Re.div,{"data-side":q,"data-align":se,..._,ref:C,style:{..._.style,animation:X?void 0:"none"}})})})});WS.displayName=Tx;var HS="PopperArrow",J3={top:"bottom",right:"left",bottom:"top",left:"right"},YS=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=Z3(HS,n),c=J3[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(G3,{...a,ref:r,style:{...a.style,display:"block"}})})});YS.displayName=HS;function X3(e){return e!==null}var eL=e=>({name:"transformOrigin",options:e,fn(t){var b,S,k;const{placement:r,rects:n,middlewareData:a}=t,c=((b=a.arrow)==null?void 0:b.centerOffset)!==0,u=c?0:e.arrowWidth,d=c?0:e.arrowHeight,[h,m]=GS(r),p={start:"0%",center:"50%",end:"100%"}[m],v=(((S=a.arrow)==null?void 0:S.x)??0)+u/2,y=(((k=a.arrow)==null?void 0:k.y)??0)+d/2;let N="",_="";return h==="bottom"?(N=c?p:`${v}px`,_=`${-d}px`):h==="top"?(N=c?p:`${v}px`,_=`${n.floating.height+d}px`):h==="right"?(N=`${-d}px`,_=c?p:`${y}px`):h==="left"&&(N=`${n.floating.width+d}px`,_=c?p:`${y}px`),{data:{x:N,y:_}}}});function GS(e){const[t,r="center"]=e.split("-");return[t,r]}var Rx=BS,wh=qS,Ax=WS,Ox=YS,ug="rovingFocusGroup.onEntryFocus",tL={bubbles:!1,cancelable:!0},Ru="RovingFocusGroup",[Sv,KS,rL]=lh(Ru),[nL,bh]=ln(Ru,[rL]),[sL,aL]=nL(Ru),QS=x.forwardRef((e,t)=>s.jsx(Sv.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Sv.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(iL,{...e,ref:t})})}));QS.displayName=Ru;var iL=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,v=x.useRef(null),y=at(t,v),N=ph(o),[_,b]=Ts({prop:c,defaultProp:u??null,onChange:d,caller:Ru}),[S,k]=x.useState(!1),C=Fr(h),P=KS(r),T=x.useRef(!1),[R,M]=x.useState(0);return x.useEffect(()=>{const D=v.current;if(D)return D.addEventListener(ug,C),()=>D.removeEventListener(ug,C)},[C]),s.jsx(sL,{scope:r,orientation:n,dir:N,loop:a,currentTabStopId:_,onItemFocus:x.useCallback(D=>b(D),[b]),onItemShiftTab:x.useCallback(()=>k(!0),[]),onFocusableItemAdd:x.useCallback(()=>M(D=>D+1),[]),onFocusableItemRemove:x.useCallback(()=>M(D=>D-1),[]),children:s.jsx(Re.div,{tabIndex:S||R===0?-1:0,"data-orientation":n,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:je(e.onMouseDown,()=>{T.current=!0}),onFocus:je(e.onFocus,D=>{const W=!T.current;if(D.target===D.currentTarget&&W&&!S){const B=new CustomEvent(ug,tL);if(D.currentTarget.dispatchEvent(B),!B.defaultPrevented){const Z=P().filter(le=>le.focusable),V=Z.find(le=>le.active),K=Z.find(le=>le.id===_),me=[V,K,...Z].filter(Boolean).map(le=>le.ref.current);XS(me,m)}}T.current=!1}),onBlur:je(e.onBlur,()=>k(!1))})})}),ZS="RovingFocusGroupItem",JS=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,children:c,...u}=e,d=fr(),h=o||d,m=aL(ZS,r),p=m.currentTabStopId===h,v=KS(r),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:_}=m;return x.useEffect(()=>{if(n)return y(),()=>N()},[n,y,N]),s.jsx(Sv.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:s.jsx(Re.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...u,ref:t,onMouseDown:je(e.onMouseDown,b=>{n?m.onItemFocus(h):b.preventDefault()}),onFocus:je(e.onFocus,()=>m.onItemFocus(h)),onKeyDown:je(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){m.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const S=cL(b,m.orientation,m.dir);if(S!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let C=v().filter(P=>P.focusable).map(P=>P.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const P=C.indexOf(b.currentTarget);C=m.loop?uL(C,P+1):C.slice(P+1)}setTimeout(()=>XS(C))}}),children:typeof c=="function"?c({isCurrentTabStop:p,hasTabStop:_!=null}):c})})});JS.displayName=ZS;var oL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function cL(e,t,r){const n=lL(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return oL[n]}function XS(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function uL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ek=QS,tk=JS,dL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Go=new WeakMap,hf=new WeakMap,mf={},dg=0,rk=function(e){return e&&(e.host||rk(e.parentNode))},fL=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=rk(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hL=function(e,t,r,n){var a=fL(t,Array.isArray(e)?e:[e]);mf[r]||(mf[r]=new WeakMap);var o=mf[r],c=[],u=new Set,d=new Set(a),h=function(p){!p||u.has(p)||(u.add(p),h(p.parentNode))};a.forEach(h);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(v){if(u.has(v))m(v);else try{var y=v.getAttribute(n),N=y!==null&&y!=="false",_=(Go.get(v)||0)+1,b=(o.get(v)||0)+1;Go.set(v,_),o.set(v,b),c.push(v),_===1&&N&&hf.set(v,!0),b===1&&v.setAttribute(r,"true"),N||v.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return m(t),u.clear(),dg++,function(){c.forEach(function(p){var v=Go.get(p)-1,y=o.get(p)-1;Go.set(p,v),o.set(p,y),v||(hf.has(p)||p.removeAttribute(n),hf.delete(p)),y||p.removeAttribute(r)}),dg--,dg||(Go=new WeakMap,Go=new WeakMap,hf=new WeakMap,mf={})}},_h=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=dL(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),hL(n,a,r,"aria-hidden")):function(){return null}},Ns=function(){return Ns=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ns.apply(this,arguments)};function nk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function mL(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Cf="right-scroll-bar-position",Ef="width-before-scroll-bar",pL="with-scroll-bars-hidden",gL="--removed-body-scroll-bar-size";function fg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vL(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var xL=typeof window<"u"?x.useLayoutEffect:x.useEffect,K1=new WeakMap;function yL(e,t){var r=vL(null,function(n){return e.forEach(function(a){return fg(a,n)})});return xL(function(){var n=K1.get(r);if(n){var a=new Set(n),o=new Set(e),c=r.current;a.forEach(function(u){o.has(u)||fg(u,null)}),o.forEach(function(u){a.has(u)||fg(u,c)})}K1.set(r,e)},[e]),r}function wL(e){return e}function bL(e,t){t===void 0&&(t=wL);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var c=t(o,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(n=!0;r.length;){var c=r;r=[],c.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(o),c=r}var d=function(){var m=c;c=[],m.forEach(o)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(m){c.push(m),h()},filter:function(m){return c=c.filter(m),r}}}};return a}function _L(e){e===void 0&&(e={});var t=bL(null);return t.options=Ns({async:!0,ssr:!1},e),t}var sk=function(e){var t=e.sideCar,r=nk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ns({},r))};sk.isSideCarExport=!0;function jL(e,t){return e.useMedium(t),sk}var ak=_L(),hg=function(){},jh=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:hg,onWheelCapture:hg,onTouchMoveCapture:hg}),a=n[0],o=n[1],c=e.forwardProps,u=e.children,d=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,v=e.sideCar,y=e.noRelative,N=e.noIsolation,_=e.inert,b=e.allowPinchZoom,S=e.as,k=S===void 0?"div":S,C=e.gapMode,P=nk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,R=yL([r,t]),M=Ns(Ns({},P),a);return x.createElement(x.Fragment,null,m&&x.createElement(T,{sideCar:ak,removeScrollBar:h,shards:p,noRelative:y,noIsolation:N,inert:_,setCallbacks:o,allowPinchZoom:!!b,lockRef:r,gapMode:C}),c?x.cloneElement(x.Children.only(u),Ns(Ns({},M),{ref:R})):x.createElement(k,Ns({},M,{className:d,ref:R}),u))});jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jh.classNames={fullWidth:Ef,zeroRight:Cf};var NL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NL();return t&&e.setAttribute("nonce",t),e}function kL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var EL=function(){var e=0,t=null;return{add:function(r){e==0&&(t=SL())&&(kL(t,r),CL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PL=function(){var e=EL();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ik=function(){var e=PL(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},TL={left:0,top:0,right:0,gap:0},mg=function(e){return parseInt(e||"",10)||0},RL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[mg(r),mg(n),mg(a)]},AL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TL;var t=RL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},OL=ik(),ul="data-scroll-locked",ML=function(e,t,r,n){var a=e.left,o=e.top,c=e.right,u=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(pL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(ul,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cf,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Ef,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ef," .").concat(Ef,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ul,`] {
    `).concat(gL,": ").concat(u,`px;
  }
`)},Q1=function(){var e=parseInt(document.body.getAttribute(ul)||"0",10);return isFinite(e)?e:0},DL=function(){x.useEffect(function(){return document.body.setAttribute(ul,(Q1()+1).toString()),function(){var e=Q1()-1;e<=0?document.body.removeAttribute(ul):document.body.setAttribute(ul,e.toString())}},[])},IL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;DL();var o=x.useMemo(function(){return AL(a)},[a]);return x.createElement(OL,{styles:ML(o,!t,a,r?"":"!important")})},kv=!1;if(typeof window<"u")try{var pf=Object.defineProperty({},"passive",{get:function(){return kv=!0,!0}});window.addEventListener("test",pf,pf),window.removeEventListener("test",pf,pf)}catch{kv=!1}var Ko=kv?{passive:!1}:!1,LL=function(e){return e.tagName==="TEXTAREA"},ok=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!LL(e)&&r[t]==="visible")},FL=function(e){return ok(e,"overflowY")},$L=function(e){return ok(e,"overflowX")},Z1=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=lk(e,n);if(a){var o=ck(e,n),c=o[1],u=o[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},zL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},lk=function(e,t){return e==="v"?FL(t):$L(t)},ck=function(e,t){return e==="v"?UL(t):zL(t)},BL=function(e,t){return e==="h"&&t==="rtl"?-1:1},VL=function(e,t,r,n,a){var o=BL(e,window.getComputedStyle(t).direction),c=o*n,u=r.target,d=t.contains(u),h=!1,m=c>0,p=0,v=0;do{if(!u)break;var y=ck(e,u),N=y[0],_=y[1],b=y[2],S=_-b-o*N;(N||S)&&lk(e,u)&&(p+=S,v+=N);var k=u.parentNode;u=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(m&&Math.abs(p)<1||!m&&Math.abs(v)<1)&&(h=!0),h},gf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},J1=function(e){return[e.deltaX,e.deltaY]},X1=function(e){return e&&"current"in e?e.current:e},qL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HL=0,Qo=[];function YL(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(HL++)[0],o=x.useState(ik)[0],c=x.useRef(e);x.useEffect(function(){c.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=mL([e.lockRef.current],(e.shards||[]).map(X1),!0).filter(Boolean);return _.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=x.useCallback(function(_,b){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!c.current.allowPinchZoom;var S=gf(_),k=r.current,C="deltaX"in _?_.deltaX:k[0]-S[0],P="deltaY"in _?_.deltaY:k[1]-S[1],T,R=_.target,M=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in _&&M==="h"&&R.type==="range")return!1;var D=Z1(M,R);if(!D)return!0;if(D?T=M:(T=M==="v"?"h":"v",D=Z1(M,R)),!D)return!1;if(!n.current&&"changedTouches"in _&&(C||P)&&(n.current=T),!T)return!0;var W=n.current||T;return VL(W,b,_,W==="h"?C:P)},[]),d=x.useCallback(function(_){var b=_;if(!(!Qo.length||Qo[Qo.length-1]!==o)){var S="deltaY"in b?J1(b):gf(b),k=t.current.filter(function(T){return T.name===b.type&&(T.target===b.target||b.target===T.shadowParent)&&qL(T.delta,S)})[0];if(k&&k.should){b.cancelable&&b.preventDefault();return}if(!k){var C=(c.current.shards||[]).map(X1).filter(Boolean).filter(function(T){return T.contains(b.target)}),P=C.length>0?u(b,C[0]):!c.current.noIsolation;P&&b.cancelable&&b.preventDefault()}}},[]),h=x.useCallback(function(_,b,S,k){var C={name:_,delta:b,target:S,should:k,shadowParent:GL(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(P){return P!==C})},1)},[]),m=x.useCallback(function(_){r.current=gf(_),n.current=void 0},[]),p=x.useCallback(function(_){h(_.type,J1(_),_.target,u(_,e.lockRef.current))},[]),v=x.useCallback(function(_){h(_.type,gf(_),_.target,u(_,e.lockRef.current))},[]);x.useEffect(function(){return Qo.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:v}),document.addEventListener("wheel",d,Ko),document.addEventListener("touchmove",d,Ko),document.addEventListener("touchstart",m,Ko),function(){Qo=Qo.filter(function(_){return _!==o}),document.removeEventListener("wheel",d,Ko),document.removeEventListener("touchmove",d,Ko),document.removeEventListener("touchstart",m,Ko)}},[]);var y=e.removeScrollBar,N=e.inert;return x.createElement(x.Fragment,null,N?x.createElement(o,{styles:WL(a)}):null,y?x.createElement(IL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function GL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KL=jL(ak,YL);var Au=x.forwardRef(function(e,t){return x.createElement(jh,Ns({},e,{ref:t,sideCar:KL}))});Au.classNames=jh.classNames;var Cv=["Enter"," "],QL=["ArrowDown","PageUp","Home"],uk=["ArrowUp","PageDown","End"],ZL=[...QL,...uk],JL={ltr:[...Cv,"ArrowRight"],rtl:[...Cv,"ArrowLeft"]},XL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ou="Menu",[mu,e6,t6]=lh(Ou),[oo,dk]=ln(Ou,[t6,Kl,bh]),Nh=Kl(),fk=bh(),[r6,lo]=oo(Ou),[n6,Mu]=oo(Ou),hk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:c=!0}=e,u=Nh(t),[d,h]=x.useState(null),m=x.useRef(!1),p=Fr(o),v=ph(a);return x.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),s.jsx(Rx,{...u,children:s.jsx(r6,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:h,children:s.jsx(n6,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:v,modal:c,children:n})})})};hk.displayName=Ou;var s6="MenuAnchor",Mx=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Nh(r);return s.jsx(wh,{...a,...n,ref:t})});Mx.displayName=s6;var Dx="MenuPortal",[a6,mk]=oo(Dx,{forceMount:void 0}),pk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=lo(Dx,t);return s.jsx(a6,{scope:t,forceMount:r,children:s.jsx(kn,{present:r||o.open,children:s.jsx(ql,{asChild:!0,container:a,children:n})})})};pk.displayName=Dx;var In="MenuContent",[i6,Ix]=oo(In),gk=x.forwardRef((e,t)=>{const r=mk(In,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=lo(In,e.__scopeMenu),c=Mu(In,e.__scopeMenu);return s.jsx(mu.Provider,{scope:e.__scopeMenu,children:s.jsx(kn,{present:n||o.open,children:s.jsx(mu.Slot,{scope:e.__scopeMenu,children:c.modal?s.jsx(o6,{...a,ref:t}):s.jsx(l6,{...a,ref:t})})})})}),o6=x.forwardRef((e,t)=>{const r=lo(In,e.__scopeMenu),n=x.useRef(null),a=at(t,n);return x.useEffect(()=>{const o=n.current;if(o)return _h(o)},[]),s.jsx(Lx,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),l6=x.forwardRef((e,t)=>{const r=lo(In,e.__scopeMenu);return s.jsx(Lx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),c6=ai("MenuContent.ScrollLock"),Lx=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:v,onDismiss:y,disableOutsideScroll:N,..._}=e,b=lo(In,r),S=Mu(In,r),k=Nh(r),C=fk(r),P=e6(r),[T,R]=x.useState(null),M=x.useRef(null),D=at(t,M,b.onContentChange),W=x.useRef(0),B=x.useRef(""),Z=x.useRef(0),V=x.useRef(null),K=x.useRef("right"),H=x.useRef(0),me=N?Au:x.Fragment,le=N?{as:c6,allowPinchZoom:!0}:void 0,X=q=>{var ne,be;const se=B.current+q,L=P().filter(_e=>!_e.disabled),O=document.activeElement,ie=(ne=L.find(_e=>_e.ref.current===O))==null?void 0:ne.textValue,ce=L.map(_e=>_e.textValue),ue=b6(ce,se,ie),xe=(be=L.find(_e=>_e.textValue===ue))==null?void 0:be.ref.current;(function _e(Le){B.current=Le,window.clearTimeout(W.current),Le!==""&&(W.current=window.setTimeout(()=>_e(""),1e3))})(se),xe&&setTimeout(()=>xe.focus())};x.useEffect(()=>()=>window.clearTimeout(W.current),[]),gh();const U=x.useCallback(q=>{var L,O;return K.current===((L=V.current)==null?void 0:L.side)&&j6(q,(O=V.current)==null?void 0:O.area)},[]);return s.jsx(i6,{scope:r,searchRef:B,onItemEnter:x.useCallback(q=>{U(q)&&q.preventDefault()},[U]),onItemLeave:x.useCallback(q=>{var se;U(q)||((se=M.current)==null||se.focus(),R(null))},[U]),onTriggerLeave:x.useCallback(q=>{U(q)&&q.preventDefault()},[U]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:x.useCallback(q=>{V.current=q},[]),children:s.jsx(me,{...le,children:s.jsx(Pu,{asChild:!0,trapped:a,onMountAutoFocus:je(o,q=>{var se;q.preventDefault(),(se=M.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:s.jsx(Vl,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:v,onDismiss:y,children:s.jsx(ek,{asChild:!0,...C,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:T,onCurrentTabStopIdChange:R,onEntryFocus:je(d,q=>{S.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ax,{role:"menu","aria-orientation":"vertical","data-state":Ak(b.open),"data-radix-menu-content":"",dir:S.dir,...k,..._,ref:D,style:{outline:"none",..._.style},onKeyDown:je(_.onKeyDown,q=>{const L=q.target.closest("[data-radix-menu-content]")===q.currentTarget,O=q.ctrlKey||q.altKey||q.metaKey,ie=q.key.length===1;L&&(q.key==="Tab"&&q.preventDefault(),!O&&ie&&X(q.key));const ce=M.current;if(q.target!==ce||!ZL.includes(q.key))return;q.preventDefault();const xe=P().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);uk.includes(q.key)&&xe.reverse(),y6(xe)}),onBlur:je(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(W.current),B.current="")}),onPointerMove:je(e.onPointerMove,pu(q=>{const se=q.target,L=H.current!==q.clientX;if(q.currentTarget.contains(se)&&L){const O=q.clientX>H.current?"right":"left";K.current=O,H.current=q.clientX}}))})})})})})})});gk.displayName=In;var u6="MenuGroup",Fx=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Re.div,{role:"group",...n,ref:t})});Fx.displayName=u6;var d6="MenuLabel",vk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Re.div,{...n,ref:t})});vk.displayName=d6;var Bf="MenuItem",e_="menu.itemSelect",Sh=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=x.useRef(null),c=Mu(Bf,e.__scopeMenu),u=Ix(Bf,e.__scopeMenu),d=at(t,o),h=x.useRef(!1),m=()=>{const p=o.current;if(!r&&p){const v=new CustomEvent(e_,{bubbles:!0,cancelable:!0});p.addEventListener(e_,y=>n==null?void 0:n(y),{once:!0}),ox(p,v),v.defaultPrevented?h.current=!1:c.onClose()}};return s.jsx(xk,{...a,ref:d,disabled:r,onClick:je(e.onClick,m),onPointerDown:p=>{var v;(v=e.onPointerDown)==null||v.call(e,p),h.current=!0},onPointerUp:je(e.onPointerUp,p=>{var v;h.current||(v=p.currentTarget)==null||v.click()}),onKeyDown:je(e.onKeyDown,p=>{const v=u.searchRef.current!=="";r||v&&p.key===" "||Cv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Sh.displayName=Bf;var xk=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,c=Ix(Bf,r),u=fk(r),d=x.useRef(null),h=at(t,d),[m,p]=x.useState(!1),[v,y]=x.useState("");return x.useEffect(()=>{const N=d.current;N&&y((N.textContent??"").trim())},[o.children]),s.jsx(mu.ItemSlot,{scope:r,disabled:n,textValue:a??v,children:s.jsx(tk,{asChild:!0,...u,focusable:!n,children:s.jsx(Re.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:h,onPointerMove:je(e.onPointerMove,pu(N=>{n?c.onItemLeave(N):(c.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:je(e.onPointerLeave,pu(N=>c.onItemLeave(N))),onFocus:je(e.onFocus,()=>p(!0)),onBlur:je(e.onBlur,()=>p(!1))})})})}),f6="MenuCheckboxItem",yk=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(Nk,{scope:e.__scopeMenu,checked:r,children:s.jsx(Sh,{role:"menuitemcheckbox","aria-checked":Vf(r)?"mixed":r,...a,ref:t,"data-state":Ux(r),onSelect:je(a.onSelect,()=>n==null?void 0:n(Vf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});yk.displayName=f6;var wk="MenuRadioGroup",[h6,m6]=oo(wk,{value:void 0,onValueChange:()=>{}}),bk=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,o=Fr(n);return s.jsx(h6,{scope:e.__scopeMenu,value:r,onValueChange:o,children:s.jsx(Fx,{...a,ref:t})})});bk.displayName=wk;var _k="MenuRadioItem",jk=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=m6(_k,e.__scopeMenu),o=r===a.value;return s.jsx(Nk,{scope:e.__scopeMenu,checked:o,children:s.jsx(Sh,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Ux(o),onSelect:je(n.onSelect,()=>{var c;return(c=a.onValueChange)==null?void 0:c.call(a,r)},{checkForDefaultPrevented:!1})})})});jk.displayName=_k;var $x="MenuItemIndicator",[Nk,p6]=oo($x,{checked:!1}),Sk=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,o=p6($x,r);return s.jsx(kn,{present:n||Vf(o.checked)||o.checked===!0,children:s.jsx(Re.span,{...a,ref:t,"data-state":Ux(o.checked)})})});Sk.displayName=$x;var g6="MenuSeparator",kk=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});kk.displayName=g6;var v6="MenuArrow",Ck=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Nh(r);return s.jsx(Ox,{...a,...n,ref:t})});Ck.displayName=v6;var x6="MenuSub",[tH,Ek]=oo(x6),Zc="MenuSubTrigger",Pk=x.forwardRef((e,t)=>{const r=lo(Zc,e.__scopeMenu),n=Mu(Zc,e.__scopeMenu),a=Ek(Zc,e.__scopeMenu),o=Ix(Zc,e.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=o,h={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const p=u.current;return()=>{window.clearTimeout(p),d(null)}},[u,d]),s.jsx(Mx,{asChild:!0,...h,children:s.jsx(xk,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":Ak(r.open),...e,ref:na(t,a.onTriggerChange),onClick:p=>{var v;(v=e.onClick)==null||v.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:je(e.onPointerMove,pu(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:je(e.onPointerLeave,pu(p=>{var y,N;m();const v=(y=r.content)==null?void 0:y.getBoundingClientRect();if(v){const _=(N=r.content)==null?void 0:N.dataset.side,b=_==="right",S=b?-5:5,k=v[b?"left":"right"],C=v[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+S,y:p.clientY},{x:k,y:v.top},{x:C,y:v.top},{x:C,y:v.bottom},{x:k,y:v.bottom}],side:_}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:je(e.onKeyDown,p=>{var y;const v=o.searchRef.current!=="";e.disabled||v&&p.key===" "||JL[n.dir].includes(p.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),p.preventDefault())})})})});Pk.displayName=Zc;var Tk="MenuSubContent",Rk=x.forwardRef((e,t)=>{const r=mk(In,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=lo(In,e.__scopeMenu),c=Mu(In,e.__scopeMenu),u=Ek(Tk,e.__scopeMenu),d=x.useRef(null),h=at(t,d);return s.jsx(mu.Provider,{scope:e.__scopeMenu,children:s.jsx(kn,{present:n||o.open,children:s.jsx(mu.Slot,{scope:e.__scopeMenu,children:s.jsx(Lx,{id:u.contentId,"aria-labelledby":u.triggerId,...a,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var p;c.isUsingKeyboardRef.current&&((p=d.current)==null||p.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:je(e.onFocusOutside,m=>{m.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:je(e.onEscapeKeyDown,m=>{c.onClose(),m.preventDefault()}),onKeyDown:je(e.onKeyDown,m=>{var y;const p=m.currentTarget.contains(m.target),v=XL[c.dir].includes(m.key);p&&v&&(o.onOpenChange(!1),(y=u.trigger)==null||y.focus(),m.preventDefault())})})})})})});Rk.displayName=Tk;function Ak(e){return e?"open":"closed"}function Vf(e){return e==="indeterminate"}function Ux(e){return Vf(e)?"indeterminate":e?"checked":"unchecked"}function y6(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function w6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function b6(e,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let c=w6(e,Math.max(o,0));a.length===1&&(c=c.filter(h=>h!==r));const d=c.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function _6(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const u=t[o],d=t[c],h=u.x,m=u.y,p=d.x,v=d.y;m>n!=v>n&&r<(p-h)*(n-m)/(v-m)+h&&(a=!a)}return a}function j6(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return _6(r,t)}function pu(e){return t=>t.pointerType==="mouse"?e(t):void 0}var N6=hk,S6=Mx,k6=pk,C6=gk,E6=Fx,P6=vk,T6=Sh,R6=yk,A6=bk,O6=jk,M6=Sk,D6=kk,I6=Ck,L6=Pk,F6=Rk,kh="DropdownMenu",[$6,rH]=ln(kh,[dk]),Ur=dk(),[U6,Ok]=$6(kh),Mk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:c,modal:u=!0}=e,d=Ur(t),h=x.useRef(null),[m,p]=Ts({prop:a,defaultProp:o??!1,onChange:c,caller:kh});return s.jsx(U6,{scope:t,triggerId:fr(),triggerRef:h,contentId:fr(),open:m,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(v=>!v),[p]),modal:u,children:s.jsx(N6,{...d,open:m,onOpenChange:p,dir:n,modal:u,children:r})})};Mk.displayName=kh;var Dk="DropdownMenuTrigger",Ik=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=Ok(Dk,r),c=Ur(r);return s.jsx(S6,{asChild:!0,...c,children:s.jsx(Re.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:na(t,o.triggerRef),onPointerDown:je(e.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:je(e.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});Ik.displayName=Dk;var z6="DropdownMenuPortal",Lk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ur(t);return s.jsx(k6,{...n,...r})};Lk.displayName=z6;var Fk="DropdownMenuContent",$k=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ok(Fk,r),o=Ur(r),c=x.useRef(!1);return s.jsx(C6,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:je(e.onCloseAutoFocus,u=>{var d;c.current||(d=a.triggerRef.current)==null||d.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:je(e.onInteractOutside,u=>{const d=u.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!a.modal||m)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$k.displayName=Fk;var B6="DropdownMenuGroup",V6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(E6,{...a,...n,ref:t})});V6.displayName=B6;var q6="DropdownMenuLabel",Uk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(P6,{...a,...n,ref:t})});Uk.displayName=q6;var W6="DropdownMenuItem",zk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(T6,{...a,...n,ref:t})});zk.displayName=W6;var H6="DropdownMenuCheckboxItem",Bk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(R6,{...a,...n,ref:t})});Bk.displayName=H6;var Y6="DropdownMenuRadioGroup",G6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(A6,{...a,...n,ref:t})});G6.displayName=Y6;var K6="DropdownMenuRadioItem",Vk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(O6,{...a,...n,ref:t})});Vk.displayName=K6;var Q6="DropdownMenuItemIndicator",qk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(M6,{...a,...n,ref:t})});qk.displayName=Q6;var Z6="DropdownMenuSeparator",Wk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(D6,{...a,...n,ref:t})});Wk.displayName=Z6;var J6="DropdownMenuArrow",X6=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(I6,{...a,...n,ref:t})});X6.displayName=J6;var eF="DropdownMenuSubTrigger",Hk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(L6,{...a,...n,ref:t})});Hk.displayName=eF;var tF="DropdownMenuSubContent",Yk=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ur(r);return s.jsx(F6,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yk.displayName=tF;var rF=Mk,nF=Ik,sF=Lk,Gk=$k,Kk=Uk,Qk=zk,Zk=Bk,Jk=Vk,Xk=qk,e2=Wk,t2=Hk,r2=Yk;const aF=rF,iF=nF,oF=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(t2,{ref:a,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 data-[state=open]:bg-gray-100",t&&"pl-8",e),...n,children:[r,s.jsx(fx,{className:"ml-auto h-4 w-4"})]}));oF.displayName=t2.displayName;const lF=x.forwardRef(({className:e,...t},r)=>s.jsx(r2,{ref:r,className:re("z-50 min-w-[8rem] overflow-hidden rounded-lg border border-gray-200 bg-white p-1 text-black shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));lF.displayName=r2.displayName;const n2=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(sF,{children:s.jsx(Gk,{ref:n,sideOffset:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-lg border border-gray-200 bg-white p-1 text-black shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));n2.displayName=Gk.displayName;const el=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Qk,{ref:n,className:re("relative flex cursor-pointer select-none items-center rounded-md px-2 py-1.5 text-sm outline-none transition-colors hover:bg-gray-100 focus:bg-gray-100 focus:text-black data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));el.displayName=Qk.displayName;const cF=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(Zk,{ref:a,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-gray-100 focus:bg-gray-100 focus:text-black data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Xk,{children:s.jsx(io,{className:"h-4 w-4"})})}),t]}));cF.displayName=Zk.displayName;const uF=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Jk,{ref:n,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-gray-100 focus:bg-gray-100 focus:text-black data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Xk,{children:s.jsx(pD,{className:"h-2 w-2 fill-current"})})}),t]}));uF.displayName=Jk.displayName;const s2=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(Kk,{ref:n,className:re("px-2 py-1.5 text-sm font-medium text-black",t&&"pl-8",e),...r}));s2.displayName=Kk.displayName;const Ev=x.forwardRef(({className:e,...t},r)=>s.jsx(e2,{ref:r,className:re("-mx-1 my-1 h-px bg-gray-200",e),...t}));Ev.displayName=e2.displayName;var pg={exports:{}},gg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function dF(){if(t_)return gg;t_=1;var e=ah();function t(p,v){return p===v&&(p!==0||1/p===1/v)||p!==p&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function u(p,v){var y=v(),N=n({inst:{value:y,getSnapshot:v}}),_=N[0].inst,b=N[1];return o(function(){_.value=y,_.getSnapshot=v,d(_)&&b({inst:_})},[p,y,v]),a(function(){return d(_)&&b({inst:_}),p(function(){d(_)&&b({inst:_})})},[p]),c(y),y}function d(p){var v=p.getSnapshot;p=p.value;try{var y=v();return!r(p,y)}catch{return!0}}function h(p,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return gg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,gg}var r_;function fF(){return r_||(r_=1,pg.exports=dF()),pg.exports}var hF=fF();function mF(){return hF.useSyncExternalStore(pF,()=>!0,()=>!1)}function pF(){return()=>{}}var zx="Avatar",[gF,nH]=ln(zx),[vF,a2]=gF(zx),i2=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,o]=x.useState("idle");return s.jsx(vF,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(Re.span,{...n,ref:t})})});i2.displayName=zx;var o2="AvatarImage",l2=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=e,c=a2(o2,r),u=xF(n,o),d=Fr(h=>{a(h),c.onImageLoadingStatusChange(h)});return Kt(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?s.jsx(Re.img,{...o,ref:t,src:n}):null});l2.displayName=o2;var c2="AvatarFallback",u2=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,o=a2(c2,r),[c,u]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(d)}},[n]),c&&o.imageLoadingStatus!=="loaded"?s.jsx(Re.span,{...a,ref:t}):null});u2.displayName=c2;function n_(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xF(e,{referrerPolicy:t,crossOrigin:r}){const n=mF(),a=x.useRef(null),o=n?(a.current||(a.current=new window.Image),a.current):null,[c,u]=x.useState(()=>n_(o,e));return Kt(()=>{u(n_(o,e))},[o,e]),Kt(()=>{const d=p=>()=>{u(p)};if(!o)return;const h=d("loaded"),m=d("error");return o.addEventListener("load",h),o.addEventListener("error",m),t&&(o.referrerPolicy=t),typeof r=="string"&&(o.crossOrigin=r),()=>{o.removeEventListener("load",h),o.removeEventListener("error",m)}},[o,r,t]),c}var d2=i2,f2=l2,h2=u2;const cs=x.forwardRef(({className:e,...t},r)=>s.jsx(d2,{ref:r,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));cs.displayName=d2.displayName;const Is=x.forwardRef(({className:e,...t},r)=>s.jsx(f2,{ref:r,className:re("aspect-square h-full w-full object-cover",e),...t}));Is.displayName=f2.displayName;const us=x.forwardRef(({className:e,...t},r)=>s.jsx(h2,{ref:r,className:re("flex h-full w-full items-center justify-center rounded-full bg-gray-200 text-black",e),...t}));us.displayName=h2.displayName;const Nr={community:"https://raw.githubusercontent.com/rbmns/images/main/lineup/default.jpg",music:"https://raw.githubusercontent.com/rbmns/images/main/lineup/music.jpg",food:"https://raw.githubusercontent.com/rbmns/images/main/lineup/food.jpg",sports:"https://raw.githubusercontent.com/rbmns/images/main/lineup/sports.jpg",art:"https://raw.githubusercontent.com/rbmns/images/main/lineup/art.jpg",culture:"https://raw.githubusercontent.com/rbmns/images/main/lineup/mills.jpg",beach:"https://raw.githubusercontent.com/rbmns/images/main/lineup/beach.jpg",surf:"https://raw.githubusercontent.com/rbmns/images/main/lineup/surf.jpg",yoga:"https://raw.githubusercontent.com/rbmns/images/main/lineup/yoga.jpg",market:"https://raw.githubusercontent.com/rbmns/images/main/lineup/shopping.jpg",festival:"https://raw.githubusercontent.com/rbmns/images/main/lineup/festival.jpg",game:"https://raw.githubusercontent.com/rbmns/images/main/lineup/game.jpg",party:"https://raw.githubusercontent.com/rbmns/images/main/lineup/beachparty.jpg",kite:"https://raw.githubusercontent.com/rbmns/images/main/lineup/kite.jpg",wellness:"https://raw.githubusercontent.com/rbmns/images/main/lineup/yoga.jpg",default:"https://raw.githubusercontent.com/rbmns/images/main/lineup/default.jpg"},m2=(e,t)=>{const r=Nr.default;if(!e)return console.log("[FallbackLogic] No category provided, using default image:",r),r;const n=e.toLowerCase().trim();let a;return Nr[n]?(a=Nr[n],console.log(`[FallbackLogic] Direct match for "${n}" -> ${a}`)):n.includes("yoga")||n.includes("wellness")?(a=Nr.yoga,console.log(`[FallbackLogic] Yoga/wellness match for "${n}" -> ${a}`)):n.includes("surf")?(a=Nr.surf,console.log(`[FallbackLogic] Surf match for "${n}" -> ${a}`)):n.includes("beach")?(a=Nr.beach,console.log(`[FallbackLogic] Beach match for "${n}" -> ${a}`)):n.includes("music")||n.includes("concert")?(a=Nr.music,console.log(`[FallbackLogic] Music match for "${n}" -> ${a}`)):n.includes("food")||n.includes("restaurant")?(a=Nr.food,console.log(`[FallbackLogic] Food match for "${n}" -> ${a}`)):n.includes("sport")?(a=Nr.sports,console.log(`[FallbackLogic] Sports match for "${n}" -> ${a}`)):n.includes("art")||n.includes("culture")?(a=Nr.culture,console.log(`[FallbackLogic] Art/culture match for "${n}" -> ${a}`)):n.includes("festival")?(a=Nr.festival,console.log(`[FallbackLogic] Festival match for "${n}" -> ${a}`)):n.includes("game")?(a=Nr.game,console.log(`[FallbackLogic] Game match for "${n}" -> ${a}`)):n.includes("party")?(a=Nr.party,console.log(`[FallbackLogic] Party match for "${n}" -> ${a}`)):n.includes("kite")?(a=Nr.kite,console.log(`[FallbackLogic] Kite match for "${n}" -> ${a}`)):n.includes("community")?(a=Nr.community,console.log(`[FallbackLogic] Community match for "${n}" -> ${a}`)):n.includes("market")?(a=Nr.market,console.log(`[FallbackLogic] Market match for "${n}" -> ${a}`)):(a=r,console.log(`[FallbackLogic] No match for "${n}", using default -> ${a}`)),console.log(`[FallbackLogic] Input category: "${e}" (Normalized: "${n}") -> Resolved Image: "${a}"`),a},yF=e=>{if(e.image_urls){let t=null;if(Array.isArray(e.image_urls)){for(const r of e.image_urls)if(typeof r=="string"&&r.trim().length>0){t=r;break}}else if(typeof e.image_urls=="string"){const n=e.image_urls.trim();if(n.startsWith("[")&&n.endsWith("]"))try{const a=JSON.parse(n);if(Array.isArray(a)){for(const o of a)if(typeof o=="string"&&o.trim().length>0){t=o;break}}}catch{console.warn(`Failed to parse image_urls JSON: ${n}`)}else n.length>0&&(t=n)}if(t&&t.startsWith("http"))return t}return m2(e.event_category)},p2=e=>{if(!e)return"?";const t=e.split(/[\s@]+/);return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()},g2=e=>e?Array.isArray(e)?e.filter(t=>typeof t=="string"&&t.trim().length>0):typeof e=="string"&&e.trim().length>0?[e.trim()]:[]:[],Pv=({profile:e,size:t="md",className:r=""})=>{const[n,a]=x.useState(!1),o={sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16",xl:"h-24 w-24"},c=g2(e==null?void 0:e.avatar_url),u=!n&&c.length>0?c[0]:"";return console.log("ProfileAvatar - profile avatar_url:",e==null?void 0:e.avatar_url),console.log("ProfileAvatar - processed URLs:",c),console.log("ProfileAvatar - using URL:",u),s.jsxs(cs,{className:`${o[t]} border border-gray-200 shadow-sm overflow-hidden aspect-square ${r}`,children:[s.jsx(Is,{src:u,alt:(e==null?void 0:e.username)||"",className:"object-cover w-full h-full",onError:()=>{console.log("ProfileAvatar - Image load error for URL:",u),a(!0)},onLoad:()=>{console.log("ProfileAvatar - Image loaded successfully:",u)}}),s.jsx(us,{className:"bg-gray-100 text-gray-800 text-xs",children:p2((e==null?void 0:e.username)||(e==null?void 0:e.email)||"?")})]})},wF=({user:e,profile:t,handleSignOut:r,canCreateEvents:n})=>{var u;const a=ot(),o=Dt(),c=async d=>{d.preventDefault();try{console.log("UserMenu: initiating sign out"),await r(),console.log("UserMenu: navigating to goodbye page"),a("/goodbye")}catch(h){console.error("UserMenu: error during sign out:",h)}};return s.jsxs(aF,{children:[s.jsx(iF,{asChild:!0,children:s.jsx(ee,{variant:"ghost",size:"icon",className:`relative rounded-full flex-shrink-0 ${o?"w-9 h-9 p-0":"w-10 h-10 p-0"}`,children:s.jsx(Pv,{profile:t,size:"sm",className:"w-full h-full"})})}),s.jsxs(n2,{className:"w-56 bg-white shadow-lg border border-gray-200",align:"end",forceMount:!0,children:[s.jsx(s2,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:(t==null?void 0:t.username)||((u=e.email)==null?void 0:u.split("@")[0])}),s.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e.email})]})}),s.jsx(Ev,{}),s.jsx(el,{asChild:!0,children:s.jsxs(pt,{to:"/profile",className:"w-full cursor-pointer",children:[s.jsx(UD,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(el,{asChild:!0,children:s.jsxs(pt,{to:"/organise",className:"w-full cursor-pointer",children:[s.jsx(SD,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dashboard"})]})}),n&&s.jsx(el,{asChild:!0,children:s.jsxs(pt,{to:"/profile?tab=created",className:"w-full cursor-pointer",children:[s.jsx(bt,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"My Events"})]})}),s.jsx(el,{asChild:!0,children:s.jsxs(pt,{to:"/profile/edit",className:"w-full cursor-pointer",children:[s.jsx(ev,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Settings"})]})}),s.jsx(Ev,{}),s.jsxs(el,{className:"cursor-pointer text-red-600 focus:text-red-600",onClick:c,children:[s.jsx(ED,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Log out"})]})]})]})},bF={getUserProfile:async e=>{try{const{data:t,error:r}=await ae.from("profiles").select("*").eq("id",e).single();if(r)throw r;return{data:{id:t.id,username:t.username,avatar_url:t.avatar_url?[t.avatar_url]:null,email:null,location:null,location_category:null,status:null,tagline:null,created_at:t.created_at,updated_at:t.updated_at,onboarded:t.onboarded,onboarding_data:t.onboarding_data,role:t.role},error:null}}catch(t){return console.error("Error fetching user profile:",t),{data:null,error:t}}},updateUserProfile:async(e,t)=>{try{const r={...t,avatar_url:t.avatar_url&&t.avatar_url.length>0?t.avatar_url[0]:null},{data:n,error:a}=await ae.from("profiles").update(r).eq("id",e).select().single();if(a)throw a;return{data:{id:n.id,username:n.username,avatar_url:n.avatar_url?[n.avatar_url]:null,email:null,location:null,location_category:null,status:null,tagline:null,created_at:n.created_at,updated_at:n.updated_at,onboarded:n.onboarded,onboarding_data:n.onboarding_data,role:n.role},error:null}}catch(r){return console.error("Error updating user profile:",r),{data:null,error:r}}},getUserRoles:async e=>{try{const{data:t,error:r}=await ae.from("user_roles").select("role").eq("user_id",e);if(r)throw r;return{data:t?t.map(a=>a.role):[],error:null}}catch(t){return console.error("Error fetching user roles:",t),{data:[],error:t}}},hasRole:async(e,t)=>{try{const{data:r,error:n}=await ae.rpc("has_role",{user_id:e,role_name:t});if(n)throw console.error("Error checking user role via rpc:",n),n;return r||!1}catch(r){return console.error("Error in hasRole:",r),!1}}},Ql=()=>{const{user:e}=Xe(),t=e==null?void 0:e.id,{data:r,isLoading:n}=sr({queryKey:["userRoles",t],queryFn:async()=>{if(!t)return[];const{data:p}=await bF.getUserRoles(t);return p||[]},enabled:!!t,staleTime:1e3*60*5}),{data:a,isLoading:o}=sr({queryKey:["creatorRequestStatus",t],queryFn:async()=>{if(!t)return null;const{data:p}=await du.getCreatorRequestStatus(t);return p},enabled:!!t,staleTime:1e3*60*5}),c=n||o,u=(r==null?void 0:r.includes("admin"))||!1,h=(r==null?void 0:r.includes("event_creator"))||!1||u,m=(a==null?void 0:a.status)||"not_requested";return{isLoading:c,isAdmin:u,canCreateEvents:h,creatorRequestStatus:m}},_F=({onAuthRequired:e})=>{const{isAuthenticated:t}=Xe(),{canCreateEvents:r,creatorRequestStatus:n,isLoading:a}=Ql(),o=Dt(),c=ot(),u=t&&r,d=()=>{if(!t){e();return}if(a)return;c(r||n==="approved"?"/events/create":"/events")};return u?s.jsxs(ee,{onClick:d,disabled:a,radius:"sm",className:re("bg-gray-900 hover:bg-gray-800 text-white flex items-center gap-2 flex-shrink-0",o?"text-sm px-3 py-2":"text-sm px-4 py-2"),children:[s.jsx(aa,{className:"h-4 w-4"}),!o&&"Create Event"]}):null},jF=({onAuthRequired:e})=>{const{isAuthenticated:t,user:r,profile:n,signOut:a}=Xe(),{isAdmin:o}=bx(),c=Dt(),u=ot(),d=()=>{u("/login")};return s.jsxs("div",{className:re("flex items-center flex-shrink-0",c?"gap-2":"gap-3 lg:gap-4"),children:[s.jsx(_F,{onAuthRequired:e}),t&&r?s.jsxs(s.Fragment,{children:[o&&!c&&s.jsx(ee,{asChild:!0,variant:"ghost",size:"sm",className:"text-primary hover:text-primary hover:bg-primary/10 transition-colors duration-200",children:s.jsx(pt,{to:"/admin",children:"Admin"})}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx(wF,{user:r,profile:n,handleSignOut:a,canCreateEvents:!1})})]}):s.jsx(ee,{variant:"ghost",size:"sm",onClick:d,className:re("flex-shrink-0 text-primary hover:text-primary hover:bg-primary/10 transition-all duration-200 font-medium",c?"text-sm px-3 py-2":"text-sm px-4"),children:"Sign in"})]})},NF=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),a=Dt();x.useEffect(()=>{const d=()=>{t(window.scrollY>10)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const o=()=>{n(!1)},c=()=>{n(!0)};return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:re("fixed top-0 left-0 right-0 z-50 w-full transition-all duration-300 border-b border-white/10",e?"bg-white/95 backdrop-blur-md shadow-ocean border-primary/10":"bg-white/90 backdrop-blur-sm border-white/20","h-16"),children:s.jsx("div",{className:"w-full flex flex-col",children:s.jsxs("div",{className:re("w-full flex items-center justify-between",a?"h-16 px-4 gap-3":"h-16 px-6 lg:px-8 gap-4"),children:[s.jsxs("div",{className:re("flex items-center h-full flex-shrink-0",a?"min-w-0 max-w-[140px]":"min-w-0"),children:[!a&&s.jsx(pt,{to:"/",className:"flex items-center justify-center mr-3 flex-shrink-0",children:s.jsx("img",{src:"/lovable-uploads/dc8b26e5-f005-4563-937d-21b702cc0295.png",alt:"thelineup Symbol",className:"w-8 h-8 transition-transform hover:scale-105",style:{display:"block"}})}),s.jsx(mh,{showText:!0,className:re("ml-0 min-w-0 transition-opacity hover:opacity-80",a&&"max-w-[100px] overflow-hidden")})]}),s.jsx(jF,{onAuthRequired:c})]})})}),r&&s.jsx(L5,{title:"Join to Create Events",description:"Sign up or log in to create and organize your own events!",browseEventsButton:!0,onClose:o,onBrowseEvents:o,children:s.jsx(s.Fragment,{})})]})},s_=()=>{const e=on(),t=Dt(),r=[{path:"/",icon:VN,label:"Home"},{path:"/events",icon:bt,label:"Events"},{path:"/casual-plans",icon:dh,label:"Plans"},{path:"/friends",icon:xr,label:"Friends"}];return t?s.jsx("div",{className:"flex items-center justify-around h-full px-4 bg-white/95 backdrop-blur-md border-t border-primary/10",children:r.map(n=>{const a=n.icon,o=e.pathname===n.path;return s.jsxs(pt,{to:n.path,className:re("flex flex-col items-center justify-center py-3 px-4 min-w-0 transition-all duration-200 rounded-lg",o?"text-primary bg-primary/5 scale-105":"text-neutral hover:text-primary hover:bg-primary/5 hover:scale-105"),children:[s.jsx(a,{className:re("h-5 w-5 mb-1 transition-colors",o?"text-primary":"text-neutral")}),s.jsx("span",{className:re("text-xs font-medium transition-colors",o?"text-primary":"text-neutral"),children:n.label})]},n.path)})}):s.jsx("div",{className:"h-full flex flex-col items-center w-20 bg-white/95 backdrop-blur-md border-r border-primary/10",children:s.jsx("div",{className:"flex flex-col flex-1 items-center justify-start py-6 space-y-2 w-full",children:r.map(n=>{const a=n.icon,o=e.pathname===n.path;return s.jsxs(pt,{to:n.path,className:re("flex flex-col items-center justify-center w-full py-4 rounded-xl transition-all duration-200 group mx-2",o?"bg-primary/10 text-primary scale-105 shadow-sm":"text-neutral hover:text-primary hover:bg-primary/5 hover:scale-105"),children:[s.jsx(a,{className:re("h-6 w-6 mb-2 transition-colors",o?"text-primary":"text-neutral group-hover:text-primary")}),s.jsx("span",{className:re("text-[10px] font-medium text-center leading-tight transition-colors",o?"text-primary":"text-neutral group-hover:text-primary"),children:n.label})]},n.path)})})})},SF=()=>{const e=new Date().getFullYear();return s.jsx("footer",{className:"w-full bg-gradient-to-t from-secondary-25 to-white border-t border-primary/10 py-8",children:s.jsx("div",{className:"container mx-auto px-4 max-w-6xl",children:s.jsxs("div",{className:"flex flex-col space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center text-sm",children:[s.jsx("div",{className:"mb-4 md:mb-0",children:s.jsxs("p",{className:"text-primary font-medium",children:[" ",e," the lineup. All rights reserved."]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-6",children:[s.jsx(pt,{to:"/privacy",className:"text-neutral hover:text-primary transition-colors duration-200 font-medium",children:"Privacy Policy"}),s.jsx(pt,{to:"/terms",className:"text-neutral hover:text-primary transition-colors duration-200 font-medium",children:"Terms of Service"}),s.jsx(pt,{to:"/cookies",className:"text-neutral hover:text-primary transition-colors duration-200 font-medium",children:"Cookie Policy"})]})]}),s.jsx("div",{className:"flex justify-center pt-4 border-t border-primary/10",children:s.jsx("a",{href:"https://humblestudio.ai/?utm_source=thelineup&utm_medium=footer&utm_campaign=madebylabel",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-80 transition-opacity duration-200 hover:scale-105 transform",children:s.jsx("img",{src:"https://raw.githubusercontent.com/rbmns/images/refs/heads/main/hs/promo/byHumbleStudioi.ai.png",alt:"Made by HumbleStudio.ai",className:"h-12"})})})]})})})},kF=()=>{const[e,t]=x.useState(!1),r=Dt();x.useEffect(()=>{const c=localStorage.getItem("cookie-consent");if(c)n(c==="true");else{const u=setTimeout(()=>{t(!0)},1e3);return()=>clearTimeout(u)}},[]);const n=c=>{typeof window<"u"&&window.gtag&&window.gtag("consent","update",{analytics_storage:c?"granted":"denied",ad_storage:c?"granted":"denied",ad_user_data:c?"granted":"denied",ad_personalization:c?"granted":"denied",functionality_storage:"granted",security_storage:"granted"})},a=()=>{localStorage.setItem("cookie-consent","true"),n(!0),t(!1)},o=()=>{localStorage.setItem("cookie-consent","false"),n(!1),t(!1)};return e?s.jsx("div",{className:"fixed bottom-0 inset-x-0 z-50 bg-gray-100 border-t border-gray-200 shadow-lg",style:{padding:r?"0.75rem":"1.5rem",pointerEvents:"auto"},"aria-live":"polite",role:"dialog","aria-modal":"false",children:s.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row items-start md:items-center justify-between gap-2 md:gap-4",children:[s.jsxs("div",{className:"flex-1 pr-2 md:pr-4",children:[s.jsx("h3",{className:"font-semibold mb-0.5 md:mb-1 text-sm md:text-base",children:"Cookie & Privacy Notice"}),s.jsxs("p",{className:"text-xs md:text-sm text-gray-600 mb-1 md:mb-2 leading-tight",children:['We use essential cookies for functionality and optional analytics cookies (Google Analytics & Tag Manager) to improve our service. We also collect data for casual plans features and user interactions. By clicking "Accept All", you consent to all cookies and data processing. Read our ',s.jsx(pt,{to:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),", ",s.jsx(pt,{to:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"}),", and ",s.jsx(pt,{to:"/cookies",className:"text-blue-600 hover:underline",children:"Cookie Policy"})," for details on how we handle your data."]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 sm:gap-2 sm:items-center",children:[s.jsx(ee,{variant:"outline",size:"sm",onClick:o,className:"whitespace-nowrap text-xs h-7 md:h-8",children:"Essential Only"}),s.jsx(ee,{variant:"default",size:"sm",onClick:a,className:"whitespace-nowrap text-xs h-7 md:h-8",children:"Accept All"}),s.jsxs(ee,{variant:"ghost",size:"icon",onClick:o,className:"absolute top-1 right-1 h-6 w-6 sm:hidden",children:[s.jsx(ua,{className:"h-3 w-3"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}):null},v2=()=>{const e=on();x.useEffect(()=>{const t=e.state;if(t!=null&&t.preserveScroll){console.log("Preserving scroll position due to navigation state");return}window.scrollTo({top:0,behavior:"smooth"}),console.log("Scrolled to top on page navigation")},[e.pathname,e.state])},CF=64,EF=64,a_=80,vf=88,PF=()=>{const{user:e,loading:t}=Xe();ot();const r=on(),n=Dt(),a=r.pathname==="/";v2(),x.useEffect(()=>{const c=document.querySelector('meta[name="viewport"]');c&&c.setAttribute("content","width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=0")},[]);const o=n?CF:EF;return s.jsxs("div",{className:"min-h-screen w-full overflow-x-hidden bg-white",children:[s.jsx(NF,{}),s.jsxs("div",{className:"flex w-full min-h-screen",children:[!n&&s.jsx("div",{className:"fixed left-0 bg-gray-50",style:{top:o,bottom:0,width:a_,zIndex:30,height:`calc(100vh - ${o}px)`},children:s.jsx(s_,{})}),s.jsxs("div",{className:"flex-1 w-full min-h-screen bg-white flex flex-col",style:n?{paddingTop:o,paddingBottom:vf,minHeight:`calc(100vh - ${o+vf}px)`}:{paddingTop:o,paddingLeft:a_,minHeight:`calc(100vh - ${o}px)`,boxSizing:"border-box"},children:[s.jsx("main",{className:"w-full flex-1 flex flex-col",children:s.jsx("div",{className:`flex-1 flex flex-col justify-start ${a?"":n?"pt-2 px-3":"pt-4 px-4 sm:pt-6 sm:px-6"}`,children:s.jsx(X4,{})})}),!n&&s.jsx(SF,{})]})]}),n&&s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white z-50 border-t border-gray-100",style:{height:vf,paddingBottom:"env(safe-area-inset-bottom, 0px)",minHeight:vf},children:s.jsx(s_,{})}),s.jsx(dS,{}),s.jsx(kF,{})]})},El=(e,t)=>!e||!Array.isArray(e)?[]:e.map(r=>{var d,h;const n=r.creator&&r.creator.length>0?r.creator[0]:null;let a=null;if(r.venues)if(Array.isArray(r.venues)&&r.venues.length>0){const m=r.venues[0];a={id:m.id||"",name:m.name||"",street:m.street||"",postal_code:m.postal_code||"",city:m.city||"",website:m.website||null,google_maps:m.google_maps||null,region:m.region||null,tags:m.tags||null}}else typeof r.venues=="object"&&r.venues!==null&&!Array.isArray(r.venues)&&(a={id:r.venues.id||"",name:r.venues.name||"",street:r.venues.street||"",postal_code:r.venues.postal_code||"",city:r.venues.city||"",website:r.venues.website||null,google_maps:r.venues.google_maps||null,region:r.venues.region||null,tags:r.venues.tags||null});let o;if(t&&r.event_rsvps&&Array.isArray(r.event_rsvps)){const m=r.event_rsvps.find(p=>p.user_id===t);m&&(o=m.status)}const c=((d=r.event_rsvps)==null?void 0:d.filter(m=>m.status==="Going").length)||0,u=((h=r.event_rsvps)==null?void 0:h.filter(m=>m.status==="Interested").length)||0;return{id:r.id,title:r.title,description:r.description||"",start_date:r.start_date,start_time:r.start_time,end_date:r.end_date,end_time:r.end_time,venue_id:r.venue_id,venues:a,creator:n,event_category:r.event_category,tags:r.tags?typeof r.tags=="string"?[r.tags]:r.tags:[],image_urls:r.image_urls||[],booking_link:r.booking_link||null,organizer_link:r.organizer_link||null,fee:r.fee,vibe:r.vibe||null,destination:r.destination,organiser_name:r.organiser_name||null,status:r.status,rsvp_status:o,going_count:c,interested_count:u,attendees:{going:c,interested:u},created_at:r.created_at,updated_at:r.updated_at,fixed_start_time:r.fixed_start_time||!1,area:r.area||null,google_maps:(a==null?void 0:a.google_maps)||r.google_maps||null,extra_info:r.extra_info||null,slug:r.slug,coordinates:r.coordinates,created_by:r.created_by||r.creator}});function We(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function an(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Dr(e,t){const r=We(e);return isNaN(t)?an(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function os(e,t){const r=We(e);if(isNaN(t))return an(e,NaN);if(!t)return r;const n=r.getDate(),a=an(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return n>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const Bx=6048e5,TF=864e5,xf=43200,i_=1440;let RF={};function co(){return RF}function As(e,t){var u,d,h,m;const r=co(),n=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,a=We(e),o=a.getDay(),c=(o<n?7:0)+o-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Qi(e){return As(e,{weekStartsOn:1})}function x2(e){const t=We(e),r=t.getFullYear(),n=an(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Qi(n),o=an(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=Qi(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function la(e){const t=We(e);return t.setHours(0,0,0,0),t}function Pl(e){const t=We(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ks(e,t){const r=la(e),n=la(t),a=+r-Pl(r),o=+n-Pl(n);return Math.round((a-o)/TF)}function AF(e){const t=x2(e),r=an(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Qi(r)}function Tv(e,t){const r=t*7;return Dr(e,r)}function OF(e,t){return os(e,t*12)}function MF(e){let t;return e.forEach(function(r){const n=We(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function DF(e){let t;return e.forEach(r=>{const n=We(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function su(e,t){const r=We(e),n=We(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function IF(e){return an(e,Date.now())}function rn(e,t){const r=la(e),n=la(t);return+r==+n}function Vx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function LF(e){if(!Vx(e)&&typeof e!="number")return!1;const t=We(e);return!isNaN(Number(t))}function Tl(e,t){const r=We(e),n=We(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return a*12+o}function FF(e,t,r){const n=As(e,r),a=As(t,r),o=+n-Pl(n),c=+a-Pl(a);return Math.round((o-c)/Bx)}function $F(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function UF(e,t){return+We(e)-+We(t)}function y2(e){const t=We(e);return t.setHours(23,59,59,999),t}function Ch(e){const t=We(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function zF(e){const t=We(e);return+y2(t)==+Ch(t)}function BF(e,t){const r=We(e),n=We(t),a=su(r,n),o=Math.abs(Tl(r,n));let c;if(o<1)c=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);let u=su(r,n)===-a;zF(We(e))&&o===1&&su(e,n)===1&&(u=!1),c=a*(o-Number(u))}return c===0?0:c}function VF(e,t,r){const n=UF(e,t)/1e3;return $F(r==null?void 0:r.roundingMethod)(n)}function nn(e){const t=We(e);return t.setDate(1),t.setHours(0,0,0,0),t}function w2(e){const t=We(e),r=an(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function qx(e,t){var u,d,h,m;const r=co(),n=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,a=We(e),o=a.getDay(),c=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}function b2(e){return qx(e,{weekStartsOn:1})}const qF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WF=(e,t,r)=>{let n;const a=qF[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vg(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const HF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},YF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KF={date:vg({formats:HF,defaultWidth:"full"}),time:vg({formats:YF,defaultWidth:"full"}),dateTime:vg({formats:GF,defaultWidth:"full"})},QF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZF=(e,t,r,n)=>QF[e];function Bc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):c;a=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const JF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},XF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},r$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},n$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},s$=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},a$={ordinalNumber:s$,era:Bc({values:JF,defaultWidth:"wide"}),quarter:Bc({values:XF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Bc({values:e$,defaultWidth:"wide"}),day:Bc({values:t$,defaultWidth:"wide"}),dayPeriod:Bc({values:r$,defaultWidth:"wide",formattingValues:n$,defaultFormattingWidth:"wide"})};function Vc(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const c=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?o$(u,p=>p.test(c)):i$(u,p=>p.test(c));let h;h=e.valueCallback?e.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const m=t.slice(c.length);return{value:h,rest:m}}}function i$(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function o$(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function l$(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}const c$=/^(\d+)(th|st|nd|rd)?/i,u$=/\d+/i,d$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},f$={any:[/^b/i,/^(a|c)/i]},h$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m$={any:[/1/i,/2/i,/3/i,/4/i]},p$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},v$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},b$={ordinalNumber:l$({matchPattern:c$,parsePattern:u$,valueCallback:e=>parseInt(e,10)}),era:Vc({matchPatterns:d$,defaultMatchWidth:"wide",parsePatterns:f$,defaultParseWidth:"any"}),quarter:Vc({matchPatterns:h$,defaultMatchWidth:"wide",parsePatterns:m$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Vc({matchPatterns:p$,defaultMatchWidth:"wide",parsePatterns:g$,defaultParseWidth:"any"}),day:Vc({matchPatterns:v$,defaultMatchWidth:"wide",parsePatterns:x$,defaultParseWidth:"any"}),dayPeriod:Vc({matchPatterns:y$,defaultMatchWidth:"any",parsePatterns:w$,defaultParseWidth:"any"})},Wx={code:"en-US",formatDistance:WF,formatLong:KF,formatRelative:ZF,localize:a$,match:b$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _$(e){const t=We(e);return ks(t,w2(t))+1}function _2(e){const t=We(e),r=+Qi(t)-+AF(t);return Math.round(r/Bx)+1}function j2(e,t){var m,p,v,y;const r=We(e),n=r.getFullYear(),a=co(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(v=a.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,c=an(e,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const u=As(c,t),d=an(e,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const h=As(d,t);return r.getTime()>=u.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function j$(e,t){var u,d,h,m;const r=co(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,a=j2(e,t),o=an(e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),As(o,t)}function N2(e,t){const r=We(e),n=+As(r,t)-+j$(r,t);return Math.round(n/Bx)+1}function wt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Da={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return wt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):wt(r+1,2)},d(e,t){return wt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return wt(e.getHours()%12||12,t.length)},H(e,t){return wt(e.getHours(),t.length)},m(e,t){return wt(e.getMinutes(),t.length)},s(e,t){return wt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return wt(a,t.length)}},Zo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o_={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Da.y(e,t)},Y:function(e,t,r,n){const a=j2(e,n),o=a>0?a:1-a;if(t==="YY"){const c=o%100;return wt(c,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):wt(o,t.length)},R:function(e,t){const r=x2(e);return wt(r,t.length)},u:function(e,t){const r=e.getFullYear();return wt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return wt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return wt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Da.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return wt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=N2(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):wt(a,t.length)},I:function(e,t,r){const n=_2(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):wt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Da.d(e,t)},D:function(e,t,r){const n=_$(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):wt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return wt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return wt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return wt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Zo.noon:n===0?a=Zo.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Zo.evening:n>=12?a=Zo.afternoon:n>=4?a=Zo.morning:a=Zo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Da.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Da.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):wt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):wt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Da.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Da.s(e,t)},S:function(e,t){return Da.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return c_(n);case"XXXX":case"XX":return Ai(n);case"XXXXX":case"XXX":default:return Ai(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return c_(n);case"xxxx":case"xx":return Ai(n);case"xxxxx":case"xxx":default:return Ai(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+l_(n,":");case"OOOO":default:return"GMT"+Ai(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+l_(n,":");case"zzzz":default:return"GMT"+Ai(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return wt(n,t.length)},T:function(e,t,r){const n=e.getTime();return wt(n,t.length)}};function l_(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+wt(o,2)}function c_(e,t){return e%60===0?(e>0?"-":"+")+wt(Math.abs(e)/60,2):Ai(e,t)}function Ai(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=wt(Math.trunc(n/60),2),o=wt(n%60,2);return r+a+t+o}const u_=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},S2=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},N$=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return u_(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",u_(n,t)).replace("{{time}}",S2(a,t))},S$={p:S2,P:N$},k$=/^D+$/,C$=/^Y+$/,E$=["D","DD","YY","YYYY"];function P$(e){return k$.test(e)}function T$(e){return C$.test(e)}function R$(e,t,r){const n=A$(e,t,r);if(console.warn(n),E$.includes(e))throw new RangeError(n)}function A$(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const O$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,M$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,D$=/^'([^]*?)'?$/,I$=/''/g,L$=/[a-zA-Z]/;function sn(e,t,r){var m,p,v,y,N,_,b,S;const n=co(),a=(r==null?void 0:r.locale)??n.locale??Wx,o=(r==null?void 0:r.firstWeekContainsDate)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,c=(r==null?void 0:r.weekStartsOn)??((_=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:_.weekStartsOn)??n.weekStartsOn??((S=(b=n.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??0,u=We(e);if(!LF(u))throw new RangeError("Invalid time value");let d=t.match(M$).map(k=>{const C=k[0];if(C==="p"||C==="P"){const P=S$[C];return P(k,a.formatLong)}return k}).join("").match(O$).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const C=k[0];if(C==="'")return{isToken:!1,value:F$(k)};if(o_[C])return{isToken:!0,value:k};if(C.match(L$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:k}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const h={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return d.map(k=>{if(!k.isToken)return k.value;const C=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&T$(C)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&P$(C))&&R$(C,t,String(e));const P=o_[C[0]];return P(u,C,a.localize,h)}).join("")}function F$(e){const t=e.match(D$);return t?t[1].replace(I$,"'"):e}function $$(e,t,r){const n=co(),a=(r==null?void 0:r.locale)??n.locale??Wx,o=2520,c=su(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:c});let d,h;c>0?(d=We(t),h=We(e)):(d=We(e),h=We(t));const m=VF(h,d),p=(Pl(h)-Pl(d))/1e3,v=Math.round((m-p)/60);let y;if(v<2)return r!=null&&r.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,u):m<10?a.formatDistance("lessThanXSeconds",10,u):m<20?a.formatDistance("lessThanXSeconds",20,u):m<40?a.formatDistance("halfAMinute",0,u):m<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):v===0?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",v,u);if(v<45)return a.formatDistance("xMinutes",v,u);if(v<90)return a.formatDistance("aboutXHours",1,u);if(v<i_){const N=Math.round(v/60);return a.formatDistance("aboutXHours",N,u)}else{if(v<o)return a.formatDistance("xDays",1,u);if(v<xf){const N=Math.round(v/i_);return a.formatDistance("xDays",N,u)}else if(v<xf*2)return y=Math.round(v/xf),a.formatDistance("aboutXMonths",y,u)}if(y=BF(h,d),y<12){const N=Math.round(v/xf);return a.formatDistance("xMonths",N,u)}else{const N=y%12,_=Math.trunc(y/12);return N<3?a.formatDistance("aboutXYears",_,u):N<9?a.formatDistance("overXYears",_,u):a.formatDistance("almostXYears",_+1,u)}}function U$(e,t){return $$(e,IF(e),t)}function z$(e){const t=We(e),r=t.getFullYear(),n=t.getMonth(),a=an(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function B$(){return Object.assign({},co())}function V$(e){return Math.trunc(+We(e)/1e3)}function q$(e){const t=We(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function W$(e,t){return FF(q$(e),nn(e),t)+1}function Rv(e,t){const r=We(e),n=We(t);return r.getTime()>n.getTime()}function k2(e,t){const r=We(e),n=We(t);return+r<+n}function Hx(e,t){const r=We(e),n=We(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function H$(e,t){const r=We(e),n=We(t);return r.getFullYear()===n.getFullYear()}function xg(e,t){return Dr(e,-t)}function yg(e,t){const r=We(e),n=r.getFullYear(),a=r.getDate(),o=an(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const c=z$(o);return r.setMonth(t,Math.min(a,c)),r}function d_(e,t){const r=We(e);return isNaN(+r)?an(e,NaN):(r.setFullYear(t),r)}const C2=e=>{const r=la(new Date);if(!e.start_date)return!0;const n=la(new Date(e.start_date));return e.end_date?y2(new Date(e.end_date))>=r:n>=r},Yx=e=>e.filter(C2),Y$=e=>{const r=la(new Date);return e.filter(n=>n.start_date?n.end_date?new Date(n.end_date)<r:(typeof n.start_date=="string"?new Date(n.start_date):n.start_date)<r:!1)},f_=e=>[...e].sort((t,r)=>{if(!t.start_date)return 1;if(!r.start_date)return-1;const n=new Date(t.start_date),a=new Date(r.start_date);return su(n,a)}),E2=(e=void 0,t={})=>{const{data:r,isLoading:n,error:a,refetch:o}=sr({queryKey:["events",e,t],queryFn:async()=>{try{console.log(" Fetching events for user:",e,"with options:",t);let c=ae.from("events").select(`
            *,
            venues!events_venue_id_fkey(*),
            event_rsvps(id, user_id, status)
          `).order("start_date",{ascending:!0}).order("start_time",{ascending:!0});t.includeAllStatuses?console.log(" Including all event statuses"):(console.log(" Filtering to published events only"),c=c.eq("status","published"));const{data:u,error:d}=await c;if(d)throw console.error(" Error fetching events:",d),d;if(console.log(" Raw events data from database:",(u==null?void 0:u.length)||0,"events"),console.log(" Sample event statuses:",u==null?void 0:u.slice(0,3).map(_=>({id:_.id,title:_.title,status:_.status}))),!u)return console.log(" No data returned from query"),[];if(u.length>0){const _=u.reduce((b,S)=>(b[S.status||"null"]=(b[S.status||"null"]||0)+1,b),{});console.log(" Event status distribution:",_)}const h=u.map(_=>_.id),m=u.map(_=>_.creator).filter(Boolean);let p=[];if(m.length>0){const{data:_,error:b}=await ae.from("profiles").select("id, username, avatar_url, email, location, status, tagline").in("id",m);!b&&_&&(p=_)}const v=u.map(_=>({..._,creator:p.find(b=>b.id===_.creator)||null})),y=El(v,e);if(console.log(" Processed events:",(y==null?void 0:y.length)||0),t.includePastEvents)return console.log(` Returning all events (including past): ${y.length}`),y;const N=Yx(y);return console.log(` Events after time filtering: ${N.length} (from ${y.length} total)`),N}catch(c){return console.error(" Error in useEvents:",c),[]}},refetchOnWindowFocus:!0,staleTime:1e4});return console.log(" useEvents hook result:",{dataLength:(r==null?void 0:r.length)||0,isLoading:n,hasError:!!a,errorMessage:a==null?void 0:a.message}),{data:r||[],isLoading:n,error:a,refetch:o}},G$=()=>{const e=ot(),{isAuthenticated:t}=Xe(),r=()=>{e("/events")},n=()=>{e(t?"/profile":"/signup")},a=()=>{window.scrollTo({top:window.innerHeight*.9,behavior:"smooth"})};return s.jsxs("section",{className:"relative min-h-[100svh] flex flex-col justify-between overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 z-0",children:s.jsx("img",{src:"/lovable-uploads/51db736f-9219-471a-806c-7db86c226fd1.png",alt:"Beach sunset background",className:"w-full h-full object-cover"})}),s.jsx("div",{className:"absolute inset-0 z-10 bg-vibrant-coral/20"}),s.jsxs("div",{className:"relative z-20 max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center flex-1 flex flex-col justify-center pt-4 pb-8",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-4 sm:mb-6 leading-tight drop-shadow-lg",children:"Find events and plans that fit your vibe"}),s.jsx("p",{className:"text-lg sm:text-xl text-white/90 max-w-3xl mx-auto leading-relaxed mb-6 sm:mb-8 drop-shadow-md",children:"Discover what's happening nearby  join events, see who's going, and stay connected after."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center",children:[s.jsx(ee,{onClick:r,size:"lg",className:"w-full sm:w-auto bg-primary text-white hover:bg-primary/90 px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-medium transition-all duration-300 shadow-lg hover:shadow-xl border-0",children:"Explore Events"}),s.jsx(ee,{onClick:n,variant:"outline",size:"lg",className:"w-full sm:w-auto border-2 border-white/30 text-white bg-white/10 backdrop-blur-sm hover:bg-white/20 px-6 sm:px-8 py-3 sm:py-4 text-base sm:text-lg font-medium transition-all duration-300",children:t?"View Profile":"Create Profile"})]})]}),s.jsx("div",{className:"relative z-20 hidden sm:flex justify-center pb-6 sm:pb-8",children:s.jsxs("button",{onClick:a,className:"flex flex-col items-center text-white/80 hover:text-white transition-colors duration-300 group","aria-label":"Scroll down",children:[s.jsx(Eu,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-bounce group-hover:animate-none transition-all duration-300"}),s.jsx("span",{className:"text-xs sm:text-sm mt-1 opacity-80",children:"Scroll down"})]})})]})},K$=()=>{const e=ot(),t=[{title:"Explorer",description:"New in town or visiting? Find something real and spontaneous to join.",icon:Yt,color:"bg-vibrant-seafoam/10 border-vibrant-seafoam/20",iconColor:"text-vibrant-seafoam",buttonText:"Explore Events",hasButton:!0,route:"/events"},{title:"Locals",description:"Stay in the loop with events and casual plans around you.",icon:xr,color:"bg-primary/10 border-primary/20",iconColor:"text-primary",buttonText:"See Local Events",hasButton:!0,route:"/events"},{title:"Event Organizer",description:"Hosting something? Post it and connect with the right crowd.",icon:bt,color:"bg-vibrant-sunset/10 border-vibrant-sunset/20",iconColor:"text-vibrant-sunset",buttonText:"Create an Event",hasButton:!0,route:"/events/create"}];return s.jsx("section",{className:"py-16 bg-white",children:s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((r,n)=>{const a=r.icon;return s.jsxs("div",{className:`p-8 rounded-2xl border-2 ${r.color} transition-all duration-300 hover:shadow-lg hover:scale-105`,children:[s.jsx("div",{className:"mb-6",children:s.jsx(a,{className:`h-8 w-8 ${r.iconColor}`})}),s.jsx("h3",{className:"text-xl font-semibold text-primary mb-4",children:r.title}),s.jsx("p",{className:"text-neutral leading-relaxed mb-6",children:r.description}),r.hasButton&&s.jsx(ee,{onClick:()=>e(r.route),variant:"outline",className:`w-full ${r.title==="Event Organizer"?"border-vibrant-sunset/30 text-vibrant-sunset hover:bg-vibrant-sunset/5":r.title==="Explorer"?"border-vibrant-seafoam/30 text-vibrant-seafoam hover:bg-vibrant-seafoam/5":"border-primary/30 text-primary hover:bg-primary/5"}`,children:r.buttonText})]},r.title)})})})})},Eh=e=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[o,c]=x.useState([]),[u,d]=x.useState(!0),[h,m]=x.useState(null),p=v=>{if(console.log(`[EventImage] Getting image for: "${v.title}" (ID: ${v.id})`),v.image_urls){let N=null;if(Array.isArray(v.image_urls)){for(const _ of v.image_urls)if(typeof _=="string"&&_.trim().length>0){N=_;break}}else if(typeof v.image_urls=="string"){const b=v.image_urls.trim();if(b.startsWith("[")&&b.endsWith("]"))try{const S=JSON.parse(b);if(Array.isArray(S)){for(const k of S)if(typeof k=="string"&&k.trim().length>0){N=k;break}}}catch{console.warn(`[EventImage] Failed to parse image_urls JSON: ${b}`)}else b.length>0&&(N=b)}if(N&&N.startsWith("http"))return console.log(`[EventImage] Found valid uploaded image: ${N}`),N;N&&console.warn(`[EventImage] Invalid uploaded image URL: ${N}`)}console.log(`[EventImage] No valid uploaded image. Using fallback for category: "${v.event_category}"`);const y=m2(v.event_category);return console.log(`[EventImage] Fallback image is: ${y}`),y};return x.useEffect(()=>{(async()=>{{d(!1);return}})()},[e]),{coverImage:t,shareImage:n,galleryImages:o,isLoading:u,error:h,getEventImageUrl:p}},Q$={video:"aspect-video",square:"aspect-square",wide:"aspect-[21/9]",hero:"aspect-[21/9] md:aspect-[16/9]","4/3":"aspect-[4/3]"},Z$={"subtle-overlay":"","warm-filter":"brightness-105 saturate-110 sepia-[0.15]",none:""},J$={ocean:"bg-nature-ocean/20 mix-blend-overlay",sunset:"bg-vibrant-sunset/20 mix-blend-overlay",default:"bg-primary/20 mix-blend-overlay",none:""},Gx=({src:e,alt:t,className:r,overlayVariant:n="default",overlayText:a,overlayPosition:o="bottom-left",overlayTextVariant:c="default",aspectRatio:u="video",loading:d="lazy",treatment:h="subtle-overlay",onError:m})=>s.jsxs("div",{className:re("relative overflow-hidden rounded-t-sm",Q$[u],r),children:[s.jsx("img",{src:e,alt:t,loading:d,onError:m,className:re("w-full h-full object-cover",Z$[h])}),h==="subtle-overlay"&&n!=="none"&&s.jsx("div",{className:re("absolute inset-0 rounded-t-sm",J$[n])}),a&&s.jsx("div",{className:re("absolute z-10",{"bottom-4 left-4":o==="bottom-left","bottom-4 right-4":o==="bottom-right","top-4 left-4":o==="top-left","top-4 right-4":o==="top-right"}),children:s.jsx("span",{className:re("px-3 py-1 rounded-md text-sm font-medium",c==="white-text"?"bg-black/50 text-white":"bg-white/90 text-primary"),children:a})})]}),h_={party:{bg:"bg-pink-500",text:"text-white",hover:"hover:bg-pink-600",border:"border-pink-500",inactive:"bg-pink-50 text-pink-700 border-pink-200 hover:bg-pink-100"},relaxed:{bg:"bg-blue-500",text:"text-white",hover:"hover:bg-blue-600",border:"border-blue-500",inactive:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"},mindful:{bg:"bg-green-500",text:"text-white",hover:"hover:bg-green-600",border:"border-green-500",inactive:"bg-green-50 text-green-700 border-green-200 hover:bg-green-100"},spiritual:{bg:"bg-purple-500",text:"text-white",hover:"hover:bg-purple-600",border:"border-purple-500",inactive:"bg-purple-50 text-purple-700 border-purple-200 hover:bg-purple-100"},active:{bg:"bg-orange-500",text:"text-white",hover:"hover:bg-orange-600",border:"border-orange-500",inactive:"bg-orange-50 text-orange-700 border-orange-200 hover:bg-orange-100"},social:{bg:"bg-yellow-500",text:"text-white",hover:"hover:bg-yellow-600",border:"border-yellow-500",inactive:"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100"},creative:{bg:"bg-indigo-500",text:"text-white",hover:"hover:bg-indigo-600",border:"border-indigo-500",inactive:"bg-indigo-50 text-indigo-700 border-indigo-200 hover:bg-indigo-100"},adventure:{bg:"bg-emerald-500",text:"text-white",hover:"hover:bg-emerald-600",border:"border-emerald-500",inactive:"bg-emerald-50 text-emerald-700 border-emerald-200 hover:bg-emerald-100"},family:{bg:"bg-rose-500",text:"text-white",hover:"hover:bg-rose-600",border:"border-rose-500",inactive:"bg-rose-50 text-rose-700 border-rose-200 hover:bg-rose-100"},chill:{bg:"bg-cyan-500",text:"text-white",hover:"hover:bg-cyan-600",border:"border-cyan-500",inactive:"bg-cyan-50 text-cyan-700 border-cyan-200 hover:bg-cyan-100"},wellness:{bg:"bg-teal-500",text:"text-white",hover:"hover:bg-teal-600",border:"border-teal-500",inactive:"bg-teal-50 text-teal-700 border-teal-200 hover:bg-teal-100"},general:{bg:"bg-gray-500",text:"text-white",hover:"hover:bg-gray-600",border:"border-gray-500",inactive:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100"}},X$=e=>{const t=e.toLowerCase().replace(/\s+/g,"");return h_[t]||h_.general},P2=(e,t=!1,r="md")=>{const n=X$(e),a={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"};return t?`${n.bg} ${n.text} ${n.hover} ${a[r]} rounded-full font-medium transition-colors`:`${n.inactive} ${a[r]} rounded-full font-medium transition-colors border`},T2=({vibe:e,size:t="md",className:r})=>e?s.jsx("span",{className:re(P2(e,!0,t),"capitalize font-medium",r),children:e}):null;function m_(e,t,r){const n=B$(),a=r8(e,r.timeZone,r.locale??n.locale);return"formatToParts"in a?e8(a,t):t8(a,t)}function e8(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function t8(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function r8(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function n8(e,t){const r=l8(t);return"formatToParts"in r?a8(r,e):i8(r,e)}const s8={year:0,month:1,day:2,hour:3,minute:4,second:5};function a8(e,t){try{const r=e.formatToParts(t),n=[];for(let a=0;a<r.length;a++){const o=s8[r[a].type];o!==void 0&&(n[o]=parseInt(r[a].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function i8(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const wg={},p_=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),o8=p_==="06/25/2014, 00:00:00"||p_==="06/25/2014 00:00:00";function l8(e){return wg[e]||(wg[e]=o8?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),wg[e]}function R2(e,t,r,n,a,o,c){const u=new Date(0);return u.setUTCFullYear(e,t,r),u.setUTCHours(n,a,o,c),u}const g_=36e5,c8=6e4,bg={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Kx(e,t,r){if(!e)return 0;let n=bg.timezoneZ.exec(e);if(n)return 0;let a,o;if(n=bg.timezoneHH.exec(e),n)return a=parseInt(n[1],10),v_(a)?-(a*g_):NaN;if(n=bg.timezoneHHMM.exec(e),n){a=parseInt(n[2],10);const c=parseInt(n[3],10);return v_(a,c)?(o=Math.abs(a)*g_+c*c8,n[1]==="+"?-o:o):NaN}if(f8(e)){t=new Date(t||Date.now());const c=r?t:u8(t),u=Av(c,e);return-(r?u:d8(t,u,e))}return NaN}function u8(e){return R2(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Av(e,t){const r=n8(e,t),n=R2(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=e.getTime();const o=a%1e3;return a-=o>=0?o:1e3+o,n-a}function d8(e,t,r){let a=e.getTime()-t;const o=Av(new Date(a),r);if(t===o)return t;a-=o-t;const c=Av(new Date(a),r);return o===c?o:Math.max(o,c)}function v_(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const x_={};function f8(e){if(x_[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),x_[e]=!0,!0}catch{return!1}}const h8=60*1e3,m8={X:function(e,t,r){const n=_g(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return y_(n);case"XXXX":case"XX":return tl(n);case"XXXXX":case"XXX":default:return tl(n,":")}},x:function(e,t,r){const n=_g(r.timeZone,e);switch(t){case"x":return y_(n);case"xxxx":case"xx":return tl(n);case"xxxxx":case"xxx":default:return tl(n,":")}},O:function(e,t,r){const n=_g(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+p8(n,":");case"OOOO":default:return"GMT"+tl(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return m_("short",e,r);case"zzzz":default:return m_("long",e,r)}}};function _g(e,t){const r=e?Kx(e,t,!0)/h8:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function qf(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function tl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=qf(Math.floor(n/60),2),o=qf(Math.floor(n%60),2);return r+a+t+o}function y_(e,t){return e%60===0?(e>0?"-":"+")+qf(Math.abs(e)/60,2):tl(e,t)}function p8(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+qf(o,2)}function w_(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const g8=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,jg=36e5,b_=6e4,v8=2,Lr={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:g8};function A2(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?v8:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=x8(e),{year:a,restDateString:o}=y8(n.date,r),c=w8(o,a);if(c===null||isNaN(c.getTime()))return new Date(NaN);if(c){const u=c.getTime();let d=0,h;if(n.time&&(d=b8(n.time),d===null||isNaN(d)))return new Date(NaN);if(n.timeZone||t.timeZone){if(h=Kx(n.timeZone||t.timeZone,new Date(u+d)),isNaN(h))return new Date(NaN)}else h=w_(new Date(u+d)),h=w_(new Date(u+d+h));return new Date(u+d+h)}else return new Date(NaN)}function x8(e){const t={};let r=Lr.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Lr.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const a=Lr.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function y8(e,t){if(e){const r=Lr.YYY[t],n=Lr.YYYYY[t];let a=Lr.YYYY.exec(e)||n.exec(e);if(a){const o=a[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(a=Lr.YY.exec(e)||r.exec(e),a){const o=a[1];return{year:parseInt(o,10)*100,restDateString:e.slice(o.length)}}}return{year:null}}function w8(e,t){if(t===null)return null;let r,n,a;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let o=Lr.MM.exec(e);if(o)return r=new Date(0),n=parseInt(o[1],10)-1,j_(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(o=Lr.DDD.exec(e),o){r=new Date(0);const c=parseInt(o[1],10);return N8(t,c)?(r.setUTCFullYear(t,0,c),r):new Date(NaN)}if(o=Lr.MMDD.exec(e),o){r=new Date(0),n=parseInt(o[1],10)-1;const c=parseInt(o[2],10);return j_(t,n,c)?(r.setUTCFullYear(t,n,c),r):new Date(NaN)}if(o=Lr.Www.exec(e),o)return a=parseInt(o[1],10)-1,N_(a)?__(t,a):new Date(NaN);if(o=Lr.WwwD.exec(e),o){a=parseInt(o[1],10)-1;const c=parseInt(o[2],10)-1;return N_(a,c)?__(t,a,c):new Date(NaN)}return null}function b8(e){let t,r,n=Lr.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),Ng(t)?t%24*jg:NaN;if(n=Lr.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),Ng(t,r)?t%24*jg+r*b_:NaN;if(n=Lr.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return Ng(t,r,a)?t%24*jg+r*b_+a*1e3:NaN}return null}function __(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,o=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const _8=[31,28,31,30,31,30,31,31,30,31,30,31],j8=[31,29,31,30,31,30,31,31,30,31,30,31];function O2(e){return e%400===0||e%4===0&&e%100!==0}function j_(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=O2(e);if(n&&r>j8[t]||!n&&r>_8[t])return!1}return!0}function N8(e,t){if(t<1)return!1;const r=O2(e);return!(r&&t>366||!r&&t>365)}function N_(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function Ng(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const S8=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function k8(e,t,r={}){t=String(t);const n=t.match(S8);if(n){const a=A2(r.originalDate||e,r);t=n.reduce(function(o,c){if(c[0]==="'")return o;const u=o.indexOf(c),d=o[u-1]==="'",h=o.replace(c,"'"+m8[c[0]](a,c,r)+"'");return d?h.substring(0,u-1)+h.substring(u+1):h},t)}return sn(e,t,r)}function C8(e,t,r){e=A2(e,r);const n=Kx(t,e,!0),a=new Date(e.getTime()-n),o=new Date(0);return o.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),o.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),o}function Zi(e,t,r,n){return n={...n,timeZone:t,originalDate:e},k8(C8(e,t,{timeZone:n.timeZone}),r,n)}const Ji="Europe/Amsterdam",E8=e=>{try{const t=new Date(e);return Zi(t,Ji,"EEE, d MMM yyyy")}catch(t){return console.error("Error formatting date:",t),e}},M2=e=>{try{const t=new Date(e);return Zi(t,Ji,"EEE, d MMM")}catch(t){return console.error("Error formatting featured date:",t),e}},Wf=e=>{try{if(e.includes("T")){const t=new Date(e);return Zi(t,Ji,"HH:mm")}if(e.includes(":")){const t=e.split(":");return`${t[0]}:${t[1]}`}return e}catch(t){return console.error("Error formatting time:",t),e}},P8=(e,t)=>{if(!e)return"";const r=Wf(e);if(!t)return r;const n=Wf(t);return`${r}-${n}`},T8=(e,t)=>{if(!e||!t)return!1;try{const r=new Date(e),n=new Date(t),a=new Date(r.getFullYear(),r.getMonth(),r.getDate());return new Date(n.getFullYear(),n.getMonth(),n.getDate())>a}catch(r){return console.error("Error checking multi-day event:",r),!1}},R8=(e,t)=>{try{const r=new Date(e),n=new Date(t),a=Zi(r,Ji,"MMM d"),o=Zi(n,Ji,"MMM d");return`${a} - ${o}`}catch(r){return console.error("Error formatting multi-day range:",r),""}},Ph=(e,t,r)=>{if(!e)return"";if(T8(e,r))return R8(e,r);try{const n=new Date(e),a=Zi(n,Ji,"EEE, d MMM");if(!t)return a;const o=new Date(t.includes("T")?t:`${e.split("T")[0]}T${t}`),c=Zi(o,Ji,"HH:mm");return`${a}, ${c}`}catch(n){console.error("Error formatting event card date-time:",n);const a=M2(e);if(!t)return a;const o=Wf(t).substring(0,5);return`${a}, ${o}`}},A8=({events:e,isLoading:t})=>{const r=ot(),{isAuthenticated:n}=Xe(),a=(e==null?void 0:e.slice(0,6))||[];return t?s.jsx("section",{className:"py-16 bg-secondary-25",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsx("h2",{className:"text-3xl font-bold text-primary mb-4",children:"Upcoming Events"})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((o,c)=>s.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden animate-pulse",children:[s.jsx("div",{className:"h-48 bg-gray-200"}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-3"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded mb-3"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded"})]})]},c))})]})}):s.jsx("section",{className:"py-16 bg-secondary-25",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary mb-4",children:"Upcoming Events"}),s.jsx("p",{className:"text-lg text-neutral max-w-2xl mx-auto",children:"Join others in experiences that match your interests"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:a.map(o=>{const c=()=>{const{getEventImageUrl:u}=Eh(),d=u(o),h=()=>{var m;return(m=o.venues)!=null&&m.name?o.venues.name:o.location?o.location:"Location TBD"};return s.jsxs(Be,{className:"flex flex-col h-full overflow-hidden cursor-pointer transition-all duration-300 ease-in-out hover:shadow-xl bg-white border border-gray-200 rounded-xl group",onClick:()=>r(`/events/${o.id}`),children:[s.jsxs("div",{className:"relative w-full h-48 overflow-hidden bg-gray-100 flex-shrink-0",children:[s.jsx(Gx,{src:d,alt:o.title,aspectRatio:"video",treatment:"subtle-overlay",overlayVariant:"ocean",className:"w-full h-full group-hover:scale-105 transition-transform duration-300",onError:m=>{const p=m.target;p.src.includes("/img/default.jpg")||(p.src="/img/default.jpg")}}),s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsx(T2,{vibe:o.vibe||"general",size:"sm"})})]}),s.jsxs("div",{className:"flex flex-col flex-1 p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold text-primary text-lg leading-tight line-clamp-2",children:o.title}),o.organiser_name&&s.jsxs("p",{className:"text-sm text-primary/70",children:["By ",o.organiser_name]}),s.jsxs("div",{className:"flex items-center gap-2 text-neutral",children:[s.jsx(bt,{className:"h-4 w-4 text-primary/60"}),s.jsx("span",{className:"text-sm font-medium",children:Ph(o.start_date,o.start_time,o.end_date)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-neutral",children:[s.jsx(Yt,{className:"h-4 w-4 text-primary/60"}),s.jsx("span",{className:"text-sm truncate",children:h()})]}),s.jsxs("div",{className:"flex items-center justify-between mt-auto pt-2",children:[o.going_count||o.interested_count?s.jsxs("div",{className:"flex items-center gap-2 text-neutral",children:[s.jsx(xr,{className:"h-4 w-4 text-primary/60"}),s.jsxs("span",{className:"text-sm",children:[(o.going_count||0)+(o.interested_count||0)," going"]})]}):s.jsx("div",{}),n&&s.jsx(ee,{size:"sm",variant:"outline",className:"border-primary/20 text-primary hover:bg-primary/5",onClick:m=>{m.stopPropagation(),r(`/events/${o.id}`)},children:"Join"})]})]})]})};return s.jsx(c,{},o.id)})}),s.jsx("div",{className:"text-center",children:s.jsx(ee,{onClick:()=>r("/events"),size:"lg",variant:"outline",className:"border-2 border-primary/20 text-primary hover:bg-primary/5 px-8",children:"View All Events"})})]})})},O8=()=>{const e=ot(),t=[{id:"1",title:"Beach Walk & Coffee",time:"Today 6pm",location:"Zandvoort Beach",attendees:3,icon:gD,vibe:""},{id:"2",title:"Sunset Surf Session",time:"Tomorrow 7pm",location:"South Beach",attendees:5,icon:rv,vibe:""},{id:"3",title:"Morning Yoga",time:"Sat 8am",location:"Beach Pavilion",attendees:2,icon:MD,vibe:""}];return s.jsx("section",{className:"py-16 bg-white",children:s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-primary mb-4",children:"Spontaneous plans? We've got those too."}),s.jsx("p",{className:"text-lg text-neutral max-w-2xl mx-auto",children:"See or post casual meetups from others nearby."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:t.map(r=>{const n=r.icon;return s.jsxs("div",{className:"bg-secondary-25 rounded-2xl p-6 border border-secondary-50 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx(n,{className:"h-6 w-6 text-vibrant-seafoam"}),s.jsx("span",{className:"text-xl",children:r.vibe})]}),s.jsx("h3",{className:"font-semibold text-primary text-lg mb-2",children:r.title}),s.jsx("p",{className:"text-neutral text-sm mb-2",children:r.time}),s.jsxs("p",{className:"text-neutral text-sm mb-4",children:[" ",r.location]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xr,{className:"h-4 w-4 text-neutral"}),s.jsxs("span",{className:"text-sm text-neutral",children:[r.attendees," going"]})]}),s.jsx(ee,{size:"sm",variant:"ghost",className:"text-primary hover:bg-primary/5",onClick:()=>e("/casual-plans"),children:"Join"})]})]},r.id)})}),s.jsx("div",{className:"text-center",children:s.jsx(ee,{onClick:()=>e("/casual-plans"),size:"lg",className:"bg-vibrant-seafoam text-white hover:bg-vibrant-seafoam/90 px-8 shadow-lg hover:shadow-xl transition-all duration-300",children:"Post a Casual Plan"})})]})})},M8=()=>{const{data:e,isLoading:t}=E2(void 0,{includeAllStatuses:!0});return s.jsxs("div",{className:"w-full bg-gradient-to-b from-secondary-25 to-white min-h-screen",children:[s.jsx(G$,{}),s.jsx(K$,{}),s.jsx(A8,{events:e,isLoading:t}),s.jsx(O8,{})]})},D8=e=>{const[t,r]=x.useState(!1),[n,a]=x.useState(null),o=Ms();on(),x.useEffect(()=>{const d=()=>{if(window._rsvpStateBackup&&Date.now()-window._rsvpStateBackup.timestamp<5e3&&(console.log("Detected navigation during RSVP, restoring state from backup"),window.location.pathname.includes("/events"))){const m=window._rsvpStateBackup.urlParams;m&&window.location.search!==m&&(console.log("Restoring URL from backup:",m),window.history.replaceState({},"",`${window.location.pathname}${m}`))}};window.addEventListener("popstate",d);const h=()=>{};return document.addEventListener("rsvpStarted",h),()=>{window.removeEventListener("popstate",d),document.removeEventListener("rsvpStarted",h)}},[]);const c=x.useCallback((d,h)=>{console.log(`Updating cache for event ${d}, new status: ${h}`),o.setQueryData(["event",d],p=>p&&{...p,rsvp_status:h});const m=p=>!p||!Array.isArray(p)?p:p.map(v=>v.id===d?{...v,rsvp_status:h}:v);o.setQueriesData({queryKey:["events"]},p=>p&&(Array.isArray(p)?m(p):p.pages?{...p,pages:p.pages.map(v=>Array.isArray(v)?m(v):v.data&&Array.isArray(v.data)?{...v,data:m(v.data)}:v)}:p)),o.setQueriesData({queryKey:["filtered-events"]},p=>p&&(Array.isArray(p)?m(p):p))},[o]);return{handleRsvp:x.useCallback(async(d,h)=>{if(!e)return console.log("No user ID provided, cannot RSVP"),!1;if(t)return console.log("RSVP already in progress, ignoring"),!1;try{r(!0),a(d);const{data:m,error:p}=await ae.from("event_rsvps").select("*").eq("event_id",d).eq("user_id",e).maybeSingle();if(p)throw p;let v=!1,y=h;if(m)if(m.status===h){const{error:N}=await ae.from("event_rsvps").delete().eq("id",m.id);if(N)throw N;y=null,v=!0}else{const{error:N}=await ae.from("event_rsvps").update({status:h}).eq("id",m.id);if(N)throw N;v=!0}else{const{error:N}=await ae.from("event_rsvps").insert([{event_id:d,user_id:e,status:h}]);if(N)throw N;v=!0}return c(d,y),v}catch(m){return console.error("Error in RSVP operation:",m),!1}finally{setTimeout(()=>{r(!1),a(null),typeof window<"u"&&(window.rsvpInProgress=!1,document.body.removeAttribute("data-rsvp-in-progress"))},300)}},[e,t,c]),isProcessing:t,loadingEventId:n}},D2=[{id:"zandvoort-area",name:"Zandvoort Area",displayName:"Zandvoort Area",cities:["Zandvoort","Bloemendaal","Overveen","Bentveld"]},{id:"amsterdam",name:"Amsterdam",displayName:"Amsterdam",cities:["Amsterdam","Amsterdam-Noord","Amsterdam-West","Amsterdam-Zuid","Amsterdam-Oost"]},{id:"haarlem-area",name:"Haarlem Area",displayName:"Haarlem Area",cities:["Haarlem","Heemstede","Aerdenhout"]},{id:"leiden-area",name:"Leiden Area",displayName:"Leiden Area",cities:["Leiden","Leiderdorp","Voorschoten"]},{id:"den-haag-area",name:"Den Haag Area",displayName:"Den Haag Area",cities:["Den Haag","The Hague","Scheveningen","Wassenaar"]},{id:"ericeira-area",name:"Ericeira Area",displayName:"Ericeira Area",cities:["Ericeira","Mafra","Torres Vedras"]}],I8=e=>D2.find(t=>t.cities.some(r=>r.toLowerCase()===e.toLowerCase()))||null,I2=e=>{const t=D2.find(r=>r.id===e);return t?t.cities:[]},S_=e=>{const t=new Set,r=[];return e.forEach(n=>{const a=I8(n);if(a&&!t.has(a.id))t.add(a.id),r.push(a);else if(!a){const o={id:n.toLowerCase().replace(/\s+/g,"-"),name:n,displayName:n,cities:[n]};t.has(o.id)||(t.add(o.id),r.push(o))}}),r.sort((n,a)=>n.displayName.localeCompare(a.displayName))},L8=()=>{const{user:e}=Xe(),[t,r]=x.useState([]),[n,a]=x.useState([]),[o,c]=x.useState([]),[u,d]=x.useState(null),[h,m]=x.useState(),[p,v]=x.useState("anytime"),{data:y,isLoading:N}=sr({queryKey:["events"],queryFn:async()=>{const{data:R,error:M}=await ae.from("events").select(`
          *,
          venues!events_venue_id_fkey (
            id,
            name,
            city,
            street,
            postal_code
          )
        `).eq("status","published").order("start_date",{ascending:!0});if(M)throw console.error("Error fetching events:",M),M;return R}}),{data:_=[]}=sr({queryKey:["venues"],queryFn:async()=>{const{data:R,error:M}=await ae.from("venues").select("id, name, city").order("name",{ascending:!0});if(M)throw console.error("Error fetching venues:",M),M;return R||[]}}),b=[...new Set(y==null?void 0:y.map(R=>R.event_category).filter(Boolean))],S=(y==null?void 0:y.filter(R=>{if(!R.start_date)return!0;const M=new Date(R.start_date),D=new Date;return D.setHours(0,0,0,0),M>=D}))||[],k=(S==null?void 0:S.filter(R=>{var M,D;if(t.length>0&&!t.includes(R.vibe||"general")||n.length>0&&!n.includes(R.event_category||"")||o.length>0&&!o.includes(R.venue_id||""))return!1;if(u){if(!((M=R.venues)!=null&&M.city)&&!R.location||R.location&&(R.location.toLowerCase().includes("tbd")||R.location.toLowerCase().includes("to be determined")||R.location.toLowerCase().includes("location tbd")))return!1;const W=I2(u),B=((D=R.venues)==null?void 0:D.city)||R.location;if(B&&!W.some(Z=>Z.toLowerCase()===B.toLowerCase()))return!1}if(h!=null&&h.from&&R.start_date){const W=new Date(R.start_date);if(W<h.from||h.to&&W>h.to)return!1}return!0}))||[],C=D8(e==null?void 0:e.id),P=t.length>0||n.length>0||o.length>0||u!==null||!!h||p!=="anytime";return{events:k,allEvents:S,isLoading:N,selectedVibes:t,selectedEventTypes:n,selectedVenues:o,selectedLocation:u,dateRange:h,selectedDateFilter:p,setSelectedVibes:r,setSelectedEventTypes:a,setSelectedVenues:c,setSelectedLocation:d,setDateRange:m,setSelectedDateFilter:v,allEventTypes:b,availableVenues:_,hasActiveFilters:P,resetAllFilters:()=>{r([]),a([]),c([]),d(null),m(void 0),v("anytime")},updateEventRsvp:C.handleRsvp}},F8=({children:e})=>{const t=Dt();return s.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-secondary-25 to-white",children:[s.jsx("section",{className:"py-24 lg:py-48 bg-gradient-to-b from-secondary-25 to-white md:py-[100px]",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs("h1",{className:`${t?"text-4xl":"text-5xl md:text-6xl lg:text-7xl"} font-bold text-primary mb-8 leading-tight`,children:["Find events that fit your ",s.jsx("span",{className:"text-accent",children:"vibe"})]}),s.jsx("p",{className:`${t?"text-lg":"text-xl md:text-2xl"} text-neutral max-w-3xl mx-auto leading-relaxed mb-12`,children:"Discover what's happening nearby  from beach parties to chill yoga sessions. Join when you want, connect if you want."}),s.jsxs("div",{className:"flex justify-center items-center gap-8 text-3xl md:text-4xl opacity-60",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]})]})}),s.jsx("div",{className:"bg-white",children:s.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6",children:e})})]})},$8=({message:e,searchQuery:t,resetFilters:r})=>{const a=e||"No exact results found for your filters.";return s.jsx("div",{className:"text-center py-10 max-w-xl mx-auto animate-fade-in",style:{animationDelay:"300ms"},children:s.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[s.jsx("h3",{className:"text-xl font-semibold tracking-tight text-gray-900 mb-3",children:"No matches found"}),s.jsx("p",{className:"text-base leading-7 text-gray-600 mb-4",children:a}),s.jsx(ee,{variant:"default",onClick:r,className:"bg-[#9b87f5] hover:bg-[#7E69AB]",children:"Show all events instead"})]})})},L2=()=>{const e=ot();return{navigateToEvent:(n,a=!1)=>{if(!n.id){console.error("Cannot navigate: Missing event ID");return}console.log("Navigating to event:",n.id);const o=`/events/${n.id}`;e(o,{state:a?{preserveScroll:!0}:{scrollToTop:!0}}),a||setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)},navigateToDestinationEvents:n=>{e(`/events?destination=${encodeURIComponent(n)}`),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},100)}}},k_=({currentStatus:e,onRsvp:t,isLoading:r=!1,className:n,activeButton:a,size:o="default"})=>{const c=e==="Going",u=e==="Interested",d=r&&a==="Going",h=r&&a==="Interested",m=async(v,y)=>{y.stopPropagation(),y.preventDefault(),await t(v)},p=o==="sm"?"px-3 py-1.5 text-sm":o==="lg"?"px-6 py-3 text-base":"px-4 py-2 text-sm";return s.jsxs("div",{className:re("flex gap-2",n),"data-no-navigation":"true",children:[s.jsxs(ee,{variant:c?"default":"outline",className:re(p,"flex items-center gap-2 transition-all duration-200",c?"bg-green-600 hover:bg-green-700 text-white border-green-600":"border-green-200 text-green-700 hover:bg-green-50 hover:border-green-300"),onClick:v=>m("Going",v),disabled:r,"data-no-navigation":"true",children:[d?s.jsx(sa,{className:"h-4 w-4 animate-spin"}):s.jsx(io,{className:"h-4 w-4"}),"Going"]}),s.jsxs(ee,{variant:u?"default":"outline",className:re(p,"flex items-center gap-2 transition-all duration-200",u?"bg-blue-600 hover:bg-blue-700 text-white border-blue-600":"border-blue-200 text-blue-700 hover:bg-blue-50 hover:border-blue-300"),onClick:v=>m("Interested",v),disabled:r,"data-no-navigation":"true",children:[h?s.jsx(sa,{className:"h-4 w-4 animate-spin"}):s.jsx(dh,{className:"h-4 w-4"}),"Interested"]})]})},Qx=({currentStatus:e,onRsvp:t,isLoading:r=!1,showStatusOnly:n=!1,size:a="default",className:o})=>{const[c,u]=x.useState(null),[d,h]=x.useState(!1);x.useEffect(()=>{r||u(null)},[r,e]);const m=e==="Going",p=e==="Interested",v=async(y,N)=>{if(N){N.stopPropagation(),N.preventDefault(),N.nativeEvent.stopImmediatePropagation();const _=N.currentTarget;_&&(_.setAttribute("data-event-handled","true"),_.setAttribute("data-rsvp-action",y))}if(r||d)return!1;try{return u(y),h(!0),await t(y)}catch(_){return console.error("Error in RSVP handler:",_),!1}finally{setTimeout(()=>{h(!1)},300)}};return a==="sm"?s.jsx(k_,{currentStatus:e,onRsvp:v,isLoading:r||d,className:o,activeButton:c,size:"sm"}):n?e?s.jsxs("div",{className:"text-sm font-medium",children:[m&&s.jsxs("span",{className:"flex items-center text-green-600",children:[s.jsx(io,{className:"h-3 w-3 mr-1"}),"Going"]}),p&&s.jsxs("span",{className:"flex items-center text-blue-600",children:[s.jsx(dh,{className:"h-3 w-3 mr-1"}),"Interested"]})]}):null:s.jsx("div",{className:re("",o),"data-rsvp-container":"true","data-no-navigation":"true",onClick:y=>{y.stopPropagation(),y.preventDefault(),y.nativeEvent.stopImmediatePropagation()},children:s.jsx(k_,{currentStatus:e,onRsvp:v,isLoading:r||d,className:o,activeButton:c,size:a==="lg"?"lg":"default"})})},U8=e=>{const t=e.toLowerCase();return{festival:o1,wellness:ta,kite:BD,beach:rv,game:_D,other:yD,sports:$D,surf:rv,party:o1,yoga:ta,community:zD,water:xD,music:PD,food:RD,market:OD,art:d1,culture:d1}[t]||ta},z8=e=>{const t=e.toLowerCase();return{festival:{active:"bg-orange-500 text-white hover:bg-orange-600",inactive:"bg-orange-100 text-orange-700 hover:bg-orange-200"},wellness:{active:"bg-lime-500 text-white hover:bg-lime-600",inactive:"bg-lime-100 text-lime-700 hover:bg-lime-200"},kite:{active:"bg-teal-500 text-white hover:bg-teal-600",inactive:"bg-teal-100 text-teal-700 hover:bg-teal-200"},beach:{active:"bg-yellow-500 text-white hover:bg-yellow-600",inactive:"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"},game:{active:"bg-purple-500 text-white hover:bg-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200"},other:{active:"bg-gray-500 text-white hover:bg-gray-600",inactive:"bg-gray-100 text-gray-700 hover:bg-gray-200"},sports:{active:"bg-green-500 text-white hover:bg-green-600",inactive:"bg-green-100 text-green-700 hover:bg-green-200"},surf:{active:"bg-cyan-500 text-white hover:bg-cyan-600",inactive:"bg-cyan-100 text-cyan-700 hover:bg-cyan-200"},party:{active:"bg-rose-500 text-white hover:bg-rose-600",inactive:"bg-rose-100 text-rose-700 hover:bg-rose-200"},yoga:{active:"bg-lime-500 text-white hover:bg-lime-600",inactive:"bg-lime-100 text-lime-700 hover:bg-lime-200"},community:{active:"bg-purple-500 text-white hover:bg-purple-600",inactive:"bg-purple-100 text-purple-700 hover:bg-purple-200"},water:{active:"bg-sky-500 text-white hover:bg-sky-600",inactive:"bg-sky-100 text-sky-700 hover:bg-sky-200"},music:{active:"bg-fuchsia-500 text-white hover:bg-fuchsia-600",inactive:"bg-fuchsia-100 text-fuchsia-700 hover:bg-fuchsia-200"},food:{active:"bg-red-500 text-white hover:bg-red-600",inactive:"bg-red-100 text-red-700 hover:bg-red-200"},market:{active:"bg-orange-500 text-white hover:bg-orange-600",inactive:"bg-orange-100 text-orange-700 hover:bg-orange-200"},"art & culture":{active:"bg-pink-500 text-white hover:bg-pink-600",inactive:"bg-pink-100 text-pink-700 hover:bg-pink-200"}}[t]||{active:"bg-gray-500 text-white hover:bg-gray-600",inactive:"bg-gray-100 text-gray-700 hover:bg-gray-200"}},B8=({active:e=!1,onClick:t,size:r="default",className:n,label:a,isSelectAll:o=!0})=>{const c="rounded-full font-medium transition-colors cursor-pointer flex items-center justify-center",u=e?"bg-gray-800 text-white hover:bg-gray-700":"bg-gray-200 text-gray-700 hover:bg-gray-300",d={xs:"text-xs py-0.5 px-2",sm:"text-xs py-1 px-2.5",default:"text-sm py-1.5 px-3",lg:"text-sm py-2 px-4 font-medium"};return s.jsx("div",{className:re(c,u,d[r],n),onClick:t||(()=>{}),role:"button",tabIndex:0,"aria-pressed":e,children:s.jsx("span",{children:"All"})})},Dn=({category:e,onClick:t,active:r=!1,showIcon:n=!1,className:a,size:o="default",children:c,noBorder:u=!1,visuallyInactive:d=!1})=>{const h=U8(e),m=z8(e),p=n||!d&&r?m.active:m.inactive,v="rounded-full font-medium transition-colors flex items-center",y=u?"":r?"border border-transparent shadow-sm":"border border-gray-300",N={xs:"text-xs py-0.5 px-1.5",sm:"text-xs py-1 px-2",default:"text-sm py-1.5 px-3",lg:"text-sm py-2 px-4 font-medium"},_=t?"cursor-pointer hover:shadow-sm":"cursor-default";return s.jsxs("div",{className:re(v,p,y,N[o],_,a),onClick:t,children:[n&&h&&s.jsx(h,{className:"mr-1.5 h-4 w-4"}),s.jsx("span",{children:e}),c]})},Zx=({event:e,compact:t=!1,showRsvpButtons:r=!0,showRsvpStatus:n=!1,onRsvp:a,className:o,onClick:c,loadingEventId:u})=>{const{isAuthenticated:d}=Xe(),{navigateToEvent:h}=L2(),{getEventImageUrl:m}=Eh(),p=m(e),v=d&&r,y=b=>{const S=b.target;if(S.closest('[data-rsvp-container="true"]')||S.closest('[data-rsvp-button="true"]')||S.hasAttribute("data-rsvp-button")||S.closest("button[data-status]")){b.stopPropagation(),b.preventDefault();return}if(c){c(e);return}try{h(e)}catch(C){console.error("Error navigating to event:",C),st({title:"Navigation Error",description:"Could not navigate to event page",variant:"destructive"})}},N=async b=>{if(!a||!v)return!1;try{const S=await a(e.id,b);return S===void 0?!0:!!S}catch(S){return console.error("Error in EventCard RSVP handler:",S),!1}},_=()=>{var b;return(b=e.venues)!=null&&b.name?e.venues.name:e.location?e.location:"Location TBD"};return s.jsxs(Be,{className:re("flex flex-col h-full overflow-hidden cursor-pointer transition-all duration-300 ease-in-out hover:shadow-xl bg-white border border-gray-200 rounded-xl",o),onClick:y,"data-event-id":e.id,children:[s.jsxs("div",{className:"relative w-full h-48 overflow-hidden bg-gray-100 flex-shrink-0",children:[s.jsx(Gx,{src:p,alt:e.title,aspectRatio:"video",treatment:"subtle-overlay",overlayVariant:"ocean",className:"w-full h-full",onError:b=>{const S=b.target;S.src.includes("/img/default.jpg")||(console.log("Image failed to load, using default"),S.src="/img/default.jpg")}}),e.event_category&&s.jsx("div",{className:"absolute top-3 left-3 z-10",children:s.jsx(Dn,{category:e.event_category,size:"sm"})}),s.jsx("div",{className:"absolute top-3 right-3 z-10",children:s.jsx(T2,{vibe:e.vibe||"general",size:"sm"})})]}),s.jsxs("div",{className:"flex flex-col flex-1 p-4 space-y-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-lg leading-tight line-clamp-2",children:e.title}),e.organiser_name&&s.jsxs("p",{className:"text-sm text-gray-600",children:["By ",e.organiser_name]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(bt,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:Ph(e.start_date,e.start_time,e.end_date)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Yt,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:_()})]}),v&&a&&s.jsx("div",{className:"mt-auto pt-3","data-rsvp-container":"true",onClick:b=>b.stopPropagation(),children:s.jsx(Qx,{currentStatus:e.rsvp_status||null,onRsvp:N,size:"sm",isLoading:u===e.id,showStatusOnly:!v&&n})})]})]})},F2=({children:e,className:t})=>s.jsx("div",{className:re("grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",t),children:e}),$2=({message:e="Loading events..."})=>s.jsxs("div",{className:"flex justify-center items-center py-16",children:[s.jsx(sa,{className:"h-8 w-8 animate-spin text-purple"}),s.jsx("span",{className:"ml-2 text-gray-500",children:e})]}),V8=({events:e,isLoading:t,onRsvp:r,showRsvpButtons:n=!1,loadingEventId:a,hideCount:o=!1,compact:c=!1})=>{if(t)return s.jsx($2,{});if(e.length===0)return null;const u=r?async(d,h)=>(await r(d,h),!0):void 0;return s.jsxs("div",{className:"space-y-6",children:[!o&&s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[e.length," ",e.length===1?"event":"events"]}),s.jsx(F2,{children:e.map(d=>s.jsx(Zx,{event:d,compact:c,showRsvpButtons:n,onRsvp:u,loadingEventId:a},d.id))})]})},q8=({events:e,isLoading:t,onRsvp:r,showRsvpButtons:n=!1,loadingEventId:a,compact:o=!1})=>{if(t)return s.jsx($2,{});if(e.length===0)return null;const c=r?async(u,d)=>(await r(u,d),!0):void 0;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Similar Events You Might Like"}),s.jsx(F2,{children:e.map(u=>s.jsx(Zx,{event:u,compact:o,showRsvpButtons:n,onRsvp:c,loadingEventId:a},u.id))})]})};var W8="Separator",C_="horizontal",H8=["horizontal","vertical"],U2=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=C_,...a}=e,o=Y8(n)?n:C_,u=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(Re.div,{"data-orientation":o,...u,...a,ref:t})});U2.displayName=W8;function Y8(e){return H8.includes(e)}var z2=U2;const Jx=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(z2,{ref:a,decorative:r,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Jx.displayName=z2.displayName;const G8=()=>s.jsxs("div",{className:"mt-12 mb-8",children:[s.jsx(Jx,{className:"my-4"}),s.jsx("div",{className:"text-center text-gray-600 text-sm",children:"End of your search results. Showing similar happenings below."})]}),K8=()=>{const e=ot(),t=()=>{e("/signup",{state:{initialMode:"register"}})};return s.jsx("div",{className:"w-full py-8 my-8 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg border border-purple-100",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-center sm:text-left",children:[s.jsx("div",{className:"hidden sm:flex h-10 w-10 rounded-full bg-purple-100 items-center justify-center flex-shrink-0",children:s.jsx(xr,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 text-lg",children:"Connect with attendees"}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"See who's going and make new friends at events near you"})]})]}),s.jsx("div",{className:"flex mt-2 sm:mt-0",children:s.jsx(ee,{variant:"default",className:"bg-black hover:bg-gray-800 px-5",onClick:t,children:"Sign up"})})]})})},Q8=({mainEvents:e,relatedEvents:t,isLoading:r,onRsvp:n,showRsvpButtons:a=!1,hasActiveFilters:o=!1,loadingEventId:c,compact:u=!1,hideCount:d=!1})=>{const{isAuthenticated:h}=Xe(),m=h&&a,p=m&&n?async(v,y)=>{await n(v,y)}:void 0;return s.jsxs("div",{className:"space-y-8",children:[s.jsx(V8,{events:e,isLoading:r,onRsvp:p,showRsvpButtons:m,loadingEventId:c,hideCount:d,compact:u}),!h&&e.length>0&&s.jsx(K8,{}),t&&t.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(G8,{}),s.jsx(q8,{events:t,isLoading:r,onRsvp:p,showRsvpButtons:m,loadingEventId:c,compact:u})]})]})},Z8=({showNoExactMatchesMessage:e,resetFilters:t,exactMatches:r,similarEvents:n,isLoading:a,isFilterLoading:o,hasActiveFilters:c,onRsvp:u,loadingEventId:d})=>s.jsxs("div",{className:"space-y-16",children:[e&&s.jsx($8,{resetFilters:t}),s.jsx(Q8,{mainEvents:r,relatedEvents:n,isLoading:a||o,onRsvp:u,showRsvpButtons:!!u,hasActiveFilters:c,loadingEventId:d})]}),J8=({filteredEvents:e,hasActiveFilters:t,resetFilters:r,eventsLoading:n,isFilterLoading:a,user:o,enhancedHandleRsvp:c,loadingEventId:u})=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"All Events"})}),s.jsx(Z8,{showNoExactMatchesMessage:e.length===0&&t,resetFilters:r,exactMatches:e,similarEvents:[],isLoading:n||a,isFilterLoading:a,hasActiveFilters:t,onRsvp:o?c:void 0,loadingEventId:u})]}),X8=({selectedVibes:e,onVibeChange:t,vibes:r,isLoading:n=!1,className:a=""})=>{const o=d=>{e.includes(d)?t(e.filter(h=>h!==d)):t([...e,d])},c=()=>{t([])},u=e.length===0;return n?s.jsx("div",{className:re("flex gap-2 overflow-x-auto pb-2",a),children:[1,2,3,4,5].map(d=>s.jsx("div",{className:"h-10 bg-gray-200 rounded-full w-20 flex-shrink-0 animate-pulse"},d))}):s.jsxs("div",{className:re("flex gap-2 overflow-x-auto pb-2 scrollbar-hide",a),children:[s.jsx("button",{className:re("flex-shrink-0 transition-all duration-200 font-medium rounded-full px-3 py-1 text-sm",u?"bg-gray-800 text-white hover:bg-gray-700":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"),onClick:c,children:"All Vibes"}),r.map(d=>{const h=e.includes(d);return s.jsx("button",{className:re("flex-shrink-0 transition-all duration-200 capitalize",P2(d,h,"md")),onClick:()=>o(d),children:d},d)})]})},eU=({selectedVibes:e,onVibeChange:t,events:r=[],vibesLoading:n=!1})=>{const a=Dt(),o=te.useMemo(()=>{const u=new Set;return r.forEach(d=>{d.vibe&&u.add(d.vibe)}),Array.from(u).sort()},[r]);if(n)return s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h2",{className:`${a?"text-xl":"text-2xl md:text-3xl"} font-semibold tracking-tight text-primary`,children:"Find your vibe"})}),s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"flex gap-2 overflow-hidden",children:[1,2,3,4,5].map(u=>s.jsx("div",{className:`${a?"h-10 w-20":"h-12 w-24"} bg-gray-200 rounded-full flex-shrink-0`},u))})})]});const c=()=>e.length===0?`Showing all events (${o.length} vibes available)`:`${e.length} of ${o.length} vibes selected`;return s.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:`${a?"text-xl":"text-2xl md:text-3xl"} font-semibold tracking-tight text-primary`,children:"Find your vibe"}),s.jsx("div",{className:`${a?"text-xs":"text-sm"} text-neutral-50`,children:c()})]}),s.jsx("div",{className:"w-full",children:s.jsx(X8,{selectedVibes:e,onVibeChange:t,vibes:o,isLoading:n,className:"w-full"})})]})},tU=({availableLocations:e,selectedLocation:t,onLocationChange:r,isLoading:n=!1,events:a=[]})=>{const o=Dt(),c=te.useMemo(()=>!a||a.length===0?[]:e.filter(u=>{const d=I2(u.id);return a.some(h=>{var p,v;if(!((p=h.venues)!=null&&p.city)&&!h.location||h.location&&(h.location.toLowerCase().includes("tbd")||h.location.toLowerCase().includes("to be determined")||h.location.toLowerCase().includes("location tbd")))return!1;const m=((v=h.venues)==null?void 0:v.city)||h.location;return m&&d.some(y=>y.toLowerCase()===m.toLowerCase())})}),[e,a]);return n?s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("h2",{className:`${o?"text-xl":"text-2xl md:text-3xl"} font-semibold tracking-tight text-primary`,children:"Location"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[...Array(3)].map((u,d)=>s.jsx("div",{className:`${o?"h-9 w-24":"h-8 w-20"} bg-gray-200 rounded-full animate-pulse`},d))})]}):c.length===0?null:s.jsxs("div",{className:"space-y-3 sm:space-y-4 md:space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:`${o?"text-xl":"text-2xl md:text-3xl"} font-semibold tracking-tight text-primary`,children:"Location"}),t&&s.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>r(null),className:"h-6 w-6 p-0 hover:bg-primary/10",children:s.jsx(ua,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(ee,{variant:t===null?"default":"outline",size:"sm",onClick:()=>r(null),className:re(o?"text-xs px-3 py-2 h-9":"text-xs px-3 py-1.5 h-auto","rounded-full transition-coastal",t===null?"bg-primary text-white hover:bg-primary/90":"border-gray-200 text-neutral hover:bg-primary/5"),children:"All Areas"}),c.map(u=>s.jsx(ee,{variant:t===u.id?"default":"outline",size:"sm",onClick:()=>r(u.id),className:re(o?"text-xs px-3 py-2 h-9":"text-xs px-3 py-1.5 h-auto","rounded-full transition-coastal",t===u.id?"bg-primary text-white hover:bg-primary/90":"border-gray-200 text-neutral hover:bg-primary/5"),children:u.displayName},u.id))]})]})},rU=()=>sr({queryKey:["venue-location-categories"],queryFn:async()=>{console.log("Fetching venue location categories...");const{data:e,error:t}=await ae.from("venues").select("city").not("city","is",null).order("city",{ascending:!0});if(t)throw console.error("Error fetching venue locations:",t.message),new Error(`Failed to fetch venue locations: ${t.message}`);console.log("Successfully fetched venue locations data:",e);const r=[...new Set(e==null?void 0:e.map(a=>a.city).filter(Boolean))];if(r.length===0)return console.warn("No venue locations found in the venues table."),S_(["Zandvoort","Amsterdam","Haarlem","Ericeira"]);const n=S_(r);return console.log("Location categories:",n),n},retry:1,staleTime:5*60*1e3});var ze=function(){return ze=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ze.apply(this,arguments)};function nU(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function B2(e,t,r){for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Du(e){return e.mode==="multiple"}function Iu(e){return e.mode==="range"}function Th(e){return e.mode==="single"}var sU={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function aU(e,t){return sn(e,"LLLL y",t)}function iU(e,t){return sn(e,"d",t)}function oU(e,t){return sn(e,"LLLL",t)}function lU(e){return"".concat(e)}function cU(e,t){return sn(e,"cccccc",t)}function uU(e,t){return sn(e,"yyyy",t)}var dU=Object.freeze({__proto__:null,formatCaption:aU,formatDay:iU,formatMonthCaption:oU,formatWeekNumber:lU,formatWeekdayName:cU,formatYearCaption:uU}),fU=function(e,t,r){return sn(e,"do MMMM (EEEE)",r)},hU=function(){return"Month: "},mU=function(){return"Go to next month"},pU=function(){return"Go to previous month"},gU=function(e,t){return sn(e,"cccc",t)},vU=function(e){return"Week n. ".concat(e)},xU=function(){return"Year: "},yU=Object.freeze({__proto__:null,labelDay:fU,labelMonthDropdown:hU,labelNext:mU,labelPrevious:pU,labelWeekNumber:vU,labelWeekday:gU,labelYearDropdown:xU});function wU(){var e="buttons",t=sU,r=Wx,n={},a={},o=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:dU,labels:yU,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:o,styles:c,today:u,mode:"default"}}function bU(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,o=e.fromDate,c=e.toDate;return n?o=nn(n):t&&(o=new Date(t,0,1)),a?c=Ch(a):r&&(c=new Date(r,11,31)),{fromDate:o?la(o):void 0,toDate:c?la(c):void 0}}var V2=x.createContext(void 0);function _U(e){var t,r=e.initialProps,n=wU(),a=bU(r),o=a.fromDate,c=a.toDate,u=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;u!=="buttons"&&(!o||!c)&&(u="buttons");var d;(Th(r)||Du(r)||Iu(r))&&(d=r.onSelect);var h=ze(ze(ze({},n),r),{captionLayout:u,classNames:ze(ze({},n.classNames),r.classNames),components:ze({},r.components),formatters:ze(ze({},n.formatters),r.formatters),fromDate:o,labels:ze(ze({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ze(ze({},n.modifiers),r.modifiers),modifiersClassNames:ze(ze({},n.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:ze(ze({},n.styles),r.styles),toDate:c});return s.jsx(V2.Provider,{value:h,children:e.children})}function Ct(){var e=x.useContext(V2);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function q2(e){var t=Ct(),r=t.locale,n=t.classNames,a=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function jU(e){return s.jsx("svg",ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function W2(e){var t,r,n=e.onChange,a=e.value,o=e.children,c=e.caption,u=e.className,d=e.style,h=Ct(),m=(r=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:jU;return s.jsxs("div",{className:u,style:d,children:[s.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:a,onChange:n,children:o}),s.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[c,s.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function NU(e){var t,r=Ct(),n=r.fromDate,a=r.toDate,o=r.styles,c=r.locale,u=r.formatters.formatMonthCaption,d=r.classNames,h=r.components,m=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var p=[];if(H$(n,a))for(var v=nn(n),y=n.getMonth();y<=a.getMonth();y++)p.push(yg(v,y));else for(var v=nn(new Date),y=0;y<=11;y++)p.push(yg(v,y));var N=function(b){var S=Number(b.target.value),k=yg(nn(e.displayMonth),S);e.onChange(k)},_=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:W2;return s.jsx(_,{name:"months","aria-label":m(),className:d.dropdown_month,style:o.dropdown_month,onChange:N,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:p.map(function(b){return s.jsx("option",{value:b.getMonth(),children:u(b,{locale:c})},b.getMonth())})})}function SU(e){var t,r=e.displayMonth,n=Ct(),a=n.fromDate,o=n.toDate,c=n.locale,u=n.styles,d=n.classNames,h=n.components,m=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,v=[];if(!a)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var y=a.getFullYear(),N=o.getFullYear(),_=y;_<=N;_++)v.push(d_(w2(new Date),_));var b=function(k){var C=d_(nn(r),Number(k.target.value));e.onChange(C)},S=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:W2;return s.jsx(S,{name:"years","aria-label":p(),className:d.dropdown_year,style:u.dropdown_year,onChange:b,value:r.getFullYear(),caption:m(r,{locale:c}),children:v.map(function(k){return s.jsx("option",{value:k.getFullYear(),children:m(k,{locale:c})},k.getFullYear())})})}function kU(e,t){var r=x.useState(e),n=r[0],a=r[1],o=t===void 0?n:t;return[o,a]}function CU(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,o=e.toDate,c=e.fromDate,u=e.numberOfMonths,d=u===void 0?1:u;if(o&&Tl(o,a)<0){var h=-1*(d-1);a=os(o,h)}return c&&Tl(a,c)<0&&(a=c),nn(a)}function EU(){var e=Ct(),t=CU(e),r=kU(t,e.month),n=r[0],a=r[1],o=function(c){var u;if(!e.disableNavigation){var d=nn(c);a(d),(u=e.onMonthChange)===null||u===void 0||u.call(e,d)}};return[n,o]}function PU(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=nn(e),o=nn(os(a,n)),c=Tl(o,a),u=[],d=0;d<c;d++){var h=os(a,d);u.push(h)}return r&&(u=u.reverse()),u}function TU(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,c=n?o:1,u=nn(e);if(!r)return os(u,c);var d=Tl(r,e);if(!(d<o))return os(u,c)}}function RU(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,c=n?o:1,u=nn(e);if(!r)return os(u,-c);var d=Tl(u,r);if(!(d<=0))return os(u,-c)}}var H2=x.createContext(void 0);function AU(e){var t=Ct(),r=EU(),n=r[0],a=r[1],o=PU(n,t),c=TU(n,t),u=RU(n,t),d=function(p){return o.some(function(v){return Hx(p,v)})},h=function(p,v){d(p)||(v&&k2(p,v)?a(os(p,1+t.numberOfMonths*-1)):a(p))},m={currentMonth:n,displayMonths:o,goToMonth:a,goToDate:h,previousMonth:u,nextMonth:c,isDateDisplayed:d};return s.jsx(H2.Provider,{value:m,children:e.children})}function Lu(){var e=x.useContext(H2);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function E_(e){var t,r=Ct(),n=r.classNames,a=r.styles,o=r.components,c=Lu().goToMonth,u=function(m){c(os(m,e.displayIndex?-e.displayIndex:0))},d=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:q2,h=s.jsx(d,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:h}),s.jsx(NU,{onChange:u,displayMonth:e.displayMonth}),s.jsx(SU,{onChange:u,displayMonth:e.displayMonth})]})}function OU(e){return s.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function MU(e){return s.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Hf=x.forwardRef(function(e,t){var r=Ct(),n=r.classNames,a=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var c=o.join(" "),u=ze(ze({},a.button_reset),a.button);return e.style&&Object.assign(u,e.style),s.jsx("button",ze({},e,{ref:t,type:"button",className:c,style:u}))});function DU(e){var t,r,n=Ct(),a=n.dir,o=n.locale,c=n.classNames,u=n.styles,d=n.labels,h=d.labelPrevious,m=d.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var v=h(e.previousMonth,{locale:o}),y=[c.nav_button,c.nav_button_previous].join(" "),N=m(e.nextMonth,{locale:o}),_=[c.nav_button,c.nav_button_next].join(" "),b=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:MU,S=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:OU;return s.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&s.jsx(Hf,{name:"previous-month","aria-label":v,className:y,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(b,{className:c.nav_icon,style:u.nav_icon}):s.jsx(S,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&s.jsx(Hf,{name:"next-month","aria-label":N,className:_,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(S,{className:c.nav_icon,style:u.nav_icon}):s.jsx(b,{className:c.nav_icon,style:u.nav_icon})})]})}function P_(e){var t=Ct().numberOfMonths,r=Lu(),n=r.previousMonth,a=r.nextMonth,o=r.goToMonth,c=r.displayMonths,u=c.findIndex(function(N){return Hx(e.displayMonth,N)}),d=u===0,h=u===c.length-1,m=t>1&&(d||!h),p=t>1&&(h||!d),v=function(){n&&o(n)},y=function(){a&&o(a)};return s.jsx(DU,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:a,previousMonth:n,onPreviousClick:v,onNextClick:y})}function IU(e){var t,r=Ct(),n=r.classNames,a=r.disableNavigation,o=r.styles,c=r.captionLayout,u=r.components,d=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:q2,h;return a?h=s.jsx(d,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?h=s.jsx(E_,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?h=s.jsxs(s.Fragment,{children:[s.jsx(E_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(P_,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=s.jsxs(s.Fragment,{children:[s.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(P_,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:o.caption,children:h})}function LU(e){var t=Ct(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function FU(e,t,r){for(var n=r?Qi(new Date):As(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var c=Dr(n,o);a.push(c)}return a}function $U(){var e=Ct(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,h=FU(a,o,c);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),h.map(function(m,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(m,{locale:a}),children:u(m,{locale:a})},p)})]})}function UU(){var e,t=Ct(),r=t.classNames,n=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:$U;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(o,{})})}function zU(e){var t=Ct(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var Xx=x.createContext(void 0);function BU(e){if(!Du(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(Xx.Provider,{value:t,children:e.children})}return s.jsx(VU,{initialProps:e.initialProps,children:e.children})}function VU(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,o=t.max,c=function(h,m,p){var v,y;(v=t.onDayClick)===null||v===void 0||v.call(t,h,m,p);var N=!!(m.selected&&a&&(n==null?void 0:n.length)===a);if(!N){var _=!!(!m.selected&&o&&(n==null?void 0:n.length)===o);if(!_){var b=n?B2([],n):[];if(m.selected){var S=b.findIndex(function(k){return rn(h,k)});b.splice(S,1)}else b.push(h);(y=t.onSelect)===null||y===void 0||y.call(t,b,h,m,p)}}},u={disabled:[]};n&&u.disabled.push(function(h){var m=o&&n.length>o-1,p=n.some(function(v){return rn(v,h)});return!!(m&&!p)});var d={selected:n,onDayClick:c,modifiers:u};return s.jsx(Xx.Provider,{value:d,children:r})}function ey(){var e=x.useContext(Xx);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function qU(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?rn(a,e)&&rn(n,e)?void 0:rn(a,e)?{from:a,to:void 0}:rn(n,e)?void 0:Rv(n,e)?{from:e,to:a}:{from:n,to:e}:a?Rv(e,a)?{from:a,to:e}:{from:e,to:a}:n?k2(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var ty=x.createContext(void 0);function WU(e){if(!Iu(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(ty.Provider,{value:t,children:e.children})}return s.jsx(HU,{initialProps:e.initialProps,children:e.children})}function HU(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},o=a.from,c=a.to,u=t.min,d=t.max,h=function(y,N,_){var b,S;(b=t.onDayClick)===null||b===void 0||b.call(t,y,N,_);var k=qU(y,n);(S=t.onSelect)===null||S===void 0||S.call(t,k,y,N,_)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],c?(m.range_end=[c],rn(o,c)||(m.range_middle=[{after:o,before:c}])):m.range_end=[o]):c&&(m.range_start=[c],m.range_end=[c]),u&&(o&&!c&&m.disabled.push({after:xg(o,u-1),before:Dr(o,u-1)}),o&&c&&m.disabled.push({after:o,before:Dr(o,u-1)}),!o&&c&&m.disabled.push({after:xg(c,u-1),before:Dr(c,u-1)})),d){if(o&&!c&&(m.disabled.push({before:Dr(o,-d+1)}),m.disabled.push({after:Dr(o,d-1)})),o&&c){var p=ks(c,o)+1,v=d-p;m.disabled.push({before:xg(o,v)}),m.disabled.push({after:Dr(c,v)})}!o&&c&&(m.disabled.push({before:Dr(c,-d+1)}),m.disabled.push({after:Dr(c,d-1)}))}return s.jsx(ty.Provider,{value:{selected:n,onDayClick:h,modifiers:m},children:r})}function ry(){var e=x.useContext(ty);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Pf(e){return Array.isArray(e)?B2([],e):e!==void 0?[e]:[]}function YU(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Pf(a)}),t}var ls;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ls||(ls={}));var GU=ls.Selected,Ys=ls.Disabled,KU=ls.Hidden,QU=ls.Today,Sg=ls.RangeEnd,kg=ls.RangeMiddle,Cg=ls.RangeStart,ZU=ls.Outside;function JU(e,t,r){var n,a=(n={},n[GU]=Pf(e.selected),n[Ys]=Pf(e.disabled),n[KU]=Pf(e.hidden),n[QU]=[e.today],n[Sg]=[],n[kg]=[],n[Cg]=[],n[ZU]=[],n);return e.fromDate&&a[Ys].push({before:e.fromDate}),e.toDate&&a[Ys].push({after:e.toDate}),Du(e)?a[Ys]=a[Ys].concat(t.modifiers[Ys]):Iu(e)&&(a[Ys]=a[Ys].concat(r.modifiers[Ys]),a[Cg]=r.modifiers[Cg],a[kg]=r.modifiers[kg],a[Sg]=r.modifiers[Sg]),a}var Y2=x.createContext(void 0);function XU(e){var t=Ct(),r=ey(),n=ry(),a=JU(t,r,n),o=YU(t.modifiers),c=ze(ze({},a),o);return s.jsx(Y2.Provider,{value:c,children:e.children})}function G2(){var e=x.useContext(Y2);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function e9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function t9(e){return!!(e&&typeof e=="object"&&"from"in e)}function r9(e){return!!(e&&typeof e=="object"&&"after"in e)}function n9(e){return!!(e&&typeof e=="object"&&"before"in e)}function s9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function a9(e,t){var r,n=t.from,a=t.to;if(n&&a){var o=ks(a,n)<0;o&&(r=[a,n],n=r[0],a=r[1]);var c=ks(e,n)>=0&&ks(a,e)>=0;return c}return a?rn(a,e):n?rn(n,e):!1}function i9(e){return Vx(e)}function o9(e){return Array.isArray(e)&&e.every(Vx)}function l9(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(i9(r))return rn(e,r);if(o9(r))return r.includes(e);if(t9(r))return a9(e,r);if(s9(r))return r.dayOfWeek.includes(e.getDay());if(e9(r)){var n=ks(r.before,e),a=ks(r.after,e),o=n>0,c=a<0,u=Rv(r.before,r.after);return u?c&&o:o||c}return r9(r)?ks(e,r.after)>0:n9(r)?ks(r.before,e)>0:typeof r=="function"?r(e):!1})}function ny(e,t,r){var n=Object.keys(t).reduce(function(o,c){var u=t[c];return l9(e,u)&&o.push(c),o},[]),a={};return n.forEach(function(o){return a[o]=!0}),r&&!Hx(e,r)&&(a.outside=!0),a}function c9(e,t){for(var r=nn(e[0]),n=Ch(e[e.length-1]),a,o,c=r;c<=n;){var u=ny(c,t),d=!u.disabled&&!u.hidden;if(!d){c=Dr(c,1);continue}if(u.selected)return c;u.today&&!o&&(o=c),a||(a=c),c=Dr(c,1)}return o||a}var u9=365;function K2(e,t){var r=t.moveBy,n=t.direction,a=t.context,o=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,d=a.weekStartsOn,h=a.fromDate,m=a.toDate,p=a.locale,v={day:Dr,week:Tv,month:os,year:OF,startOfWeek:function(b){return a.ISOWeek?Qi(b):As(b,{locale:p,weekStartsOn:d})},endOfWeek:function(b){return a.ISOWeek?b2(b):qx(b,{locale:p,weekStartsOn:d})}},y=v[r](e,n==="after"?1:-1);n==="before"&&h?y=MF([h,y]):n==="after"&&m&&(y=DF([m,y]));var N=!0;if(o){var _=ny(y,o);N=!_.disabled&&!_.hidden}return N?y:u.count>u9?u.lastFocused:K2(y,{moveBy:r,direction:n,context:a,modifiers:o,retry:ze(ze({},u),{count:u.count+1})})}var Q2=x.createContext(void 0);function d9(e){var t=Lu(),r=G2(),n=x.useState(),a=n[0],o=n[1],c=x.useState(),u=c[0],d=c[1],h=c9(t.displayMonths,r),m=a??(u&&t.isDateDisplayed(u))?u:h,p=function(){d(a),o(void 0)},v=function(b){o(b)},y=Ct(),N=function(b,S){if(a){var k=K2(a,{moveBy:b,direction:S,context:y,modifiers:r});rn(a,k)||(t.goToDate(k,a),v(k))}},_={focusedDay:a,focusTarget:m,blur:p,focus:v,focusDayAfter:function(){return N("day","after")},focusDayBefore:function(){return N("day","before")},focusWeekAfter:function(){return N("week","after")},focusWeekBefore:function(){return N("week","before")},focusMonthBefore:function(){return N("month","before")},focusMonthAfter:function(){return N("month","after")},focusYearBefore:function(){return N("year","before")},focusYearAfter:function(){return N("year","after")},focusStartOfWeek:function(){return N("startOfWeek","before")},focusEndOfWeek:function(){return N("endOfWeek","after")}};return s.jsx(Q2.Provider,{value:_,children:e.children})}function sy(){var e=x.useContext(Q2);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function f9(e,t){var r=G2(),n=ny(e,r,t);return n}var ay=x.createContext(void 0);function h9(e){if(!Th(e.initialProps)){var t={selected:void 0};return s.jsx(ay.Provider,{value:t,children:e.children})}return s.jsx(m9,{initialProps:e.initialProps,children:e.children})}function m9(e){var t=e.initialProps,r=e.children,n=function(o,c,u){var d,h,m;if((d=t.onDayClick)===null||d===void 0||d.call(t,o,c,u),c.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,o,c,u);return}(m=t.onSelect)===null||m===void 0||m.call(t,o,o,c,u)},a={selected:t.selected,onDayClick:n};return s.jsx(ay.Provider,{value:a,children:r})}function Z2(){var e=x.useContext(ay);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function p9(e,t){var r=Ct(),n=Z2(),a=ey(),o=ry(),c=sy(),u=c.focusDayAfter,d=c.focusDayBefore,h=c.focusWeekAfter,m=c.focusWeekBefore,p=c.blur,v=c.focus,y=c.focusMonthBefore,N=c.focusMonthAfter,_=c.focusYearBefore,b=c.focusYearAfter,S=c.focusStartOfWeek,k=c.focusEndOfWeek,C=function(X){var U,q,se,L;Th(r)?(U=n.onDayClick)===null||U===void 0||U.call(n,e,t,X):Du(r)?(q=a.onDayClick)===null||q===void 0||q.call(a,e,t,X):Iu(r)?(se=o.onDayClick)===null||se===void 0||se.call(o,e,t,X):(L=r.onDayClick)===null||L===void 0||L.call(r,e,t,X)},P=function(X){var U;v(e),(U=r.onDayFocus)===null||U===void 0||U.call(r,e,t,X)},T=function(X){var U;p(),(U=r.onDayBlur)===null||U===void 0||U.call(r,e,t,X)},R=function(X){var U;(U=r.onDayMouseEnter)===null||U===void 0||U.call(r,e,t,X)},M=function(X){var U;(U=r.onDayMouseLeave)===null||U===void 0||U.call(r,e,t,X)},D=function(X){var U;(U=r.onDayPointerEnter)===null||U===void 0||U.call(r,e,t,X)},W=function(X){var U;(U=r.onDayPointerLeave)===null||U===void 0||U.call(r,e,t,X)},B=function(X){var U;(U=r.onDayTouchCancel)===null||U===void 0||U.call(r,e,t,X)},Z=function(X){var U;(U=r.onDayTouchEnd)===null||U===void 0||U.call(r,e,t,X)},V=function(X){var U;(U=r.onDayTouchMove)===null||U===void 0||U.call(r,e,t,X)},K=function(X){var U;(U=r.onDayTouchStart)===null||U===void 0||U.call(r,e,t,X)},H=function(X){var U;(U=r.onDayKeyUp)===null||U===void 0||U.call(r,e,t,X)},me=function(X){var U;switch(X.key){case"ArrowLeft":X.preventDefault(),X.stopPropagation(),r.dir==="rtl"?u():d();break;case"ArrowRight":X.preventDefault(),X.stopPropagation(),r.dir==="rtl"?d():u();break;case"ArrowDown":X.preventDefault(),X.stopPropagation(),h();break;case"ArrowUp":X.preventDefault(),X.stopPropagation(),m();break;case"PageUp":X.preventDefault(),X.stopPropagation(),X.shiftKey?_():y();break;case"PageDown":X.preventDefault(),X.stopPropagation(),X.shiftKey?b():N();break;case"Home":X.preventDefault(),X.stopPropagation(),S();break;case"End":X.preventDefault(),X.stopPropagation(),k();break}(U=r.onDayKeyDown)===null||U===void 0||U.call(r,e,t,X)},le={onClick:C,onFocus:P,onBlur:T,onKeyDown:me,onKeyUp:H,onMouseEnter:R,onMouseLeave:M,onPointerEnter:D,onPointerLeave:W,onTouchCancel:B,onTouchEnd:Z,onTouchMove:V,onTouchStart:K};return le}function g9(){var e=Ct(),t=Z2(),r=ey(),n=ry(),a=Th(e)?t.selected:Du(e)?r.selected:Iu(e)?n.selected:void 0;return a}function v9(e){return Object.values(ls).includes(e)}function x9(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(v9(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function y9(e,t){var r=ze({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=ze(ze({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function w9(e,t,r){var n,a,o,c=Ct(),u=sy(),d=f9(e,t),h=p9(e,d),m=g9(),p=!!(c.onDayClick||c.mode!=="default");x.useEffect(function(){var R;d.outside||u.focusedDay&&p&&rn(u.focusedDay,e)&&((R=r.current)===null||R===void 0||R.focus())},[u.focusedDay,e,r,p,d.outside]);var v=x9(c,d).join(" "),y=y9(c,d),N=!!(d.outside&&!c.showOutsideDays||d.hidden),_=(o=(a=c.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:zU,b=s.jsx(_,{date:e,displayMonth:t,activeModifiers:d}),S={style:y,className:v,children:b,role:"gridcell"},k=u.focusTarget&&rn(u.focusTarget,e)&&!d.outside,C=u.focusedDay&&rn(u.focusedDay,e),P=ze(ze(ze({},S),(n={disabled:d.disabled,role:"gridcell"},n["aria-selected"]=d.selected,n.tabIndex=C||k?0:-1,n)),h),T={isButton:p,isHidden:N,activeModifiers:d,selectedDays:m,buttonProps:P,divProps:S};return T}function b9(e){var t=x.useRef(null),r=w9(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Hf,ze({name:"day",ref:t},r.buttonProps)):s.jsx("div",ze({},r.divProps))}function _9(e){var t=e.number,r=e.dates,n=Ct(),a=n.onWeekNumberClick,o=n.styles,c=n.classNames,u=n.locale,d=n.labels.labelWeekNumber,h=n.formatters.formatWeekNumber,m=h(Number(t),{locale:u});if(!a)return s.jsx("span",{className:c.weeknumber,style:o.weeknumber,children:m});var p=d(Number(t),{locale:u}),v=function(y){a(t,r,y)};return s.jsx(Hf,{name:"week-number","aria-label":p,className:c.weeknumber,style:o.weeknumber,onClick:v,children:m})}function j9(e){var t,r,n=Ct(),a=n.styles,o=n.classNames,c=n.showWeekNumber,u=n.components,d=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:b9,h=(r=u==null?void 0:u.WeekNumber)!==null&&r!==void 0?r:_9,m;return c&&(m=s.jsx("td",{className:o.cell,style:a.cell,children:s.jsx(h,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:a.row,children:[m,e.dates.map(function(p){return s.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:s.jsx(d,{displayMonth:e.displayMonth,date:p})},V$(p))})]})}function T_(e,t,r){for(var n=r!=null&&r.ISOWeek?b2(t):qx(t,r),a=r!=null&&r.ISOWeek?Qi(e):As(e,r),o=ks(n,a),c=[],u=0;u<=o;u++)c.push(Dr(a,u));var d=c.reduce(function(h,m){var p=r!=null&&r.ISOWeek?_2(m):N2(m,r),v=h.find(function(y){return y.weekNumber===p});return v?(v.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return d}function N9(e,t){var r=T_(nn(e),Ch(e),t);if(t!=null&&t.useFixedWeeks){var n=W$(e,t);if(n<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],c=Tv(o,6-n),u=T_(Tv(o,1),c,t);r.push.apply(r,u)}}return r}function S9(e){var t,r,n,a=Ct(),o=a.locale,c=a.classNames,u=a.styles,d=a.hideHead,h=a.fixedWeeks,m=a.components,p=a.weekStartsOn,v=a.firstWeekContainsDate,y=a.ISOWeek,N=N9(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:y,locale:o,weekStartsOn:p,firstWeekContainsDate:v}),_=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:UU,b=(r=m==null?void 0:m.Row)!==null&&r!==void 0?r:j9,S=(n=m==null?void 0:m.Footer)!==null&&n!==void 0?n:LU;return s.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&s.jsx(_,{}),s.jsx("tbody",{className:c.tbody,style:u.tbody,children:N.map(function(k){return s.jsx(b,{displayMonth:e.displayMonth,dates:k.dates,weekNumber:k.weekNumber},k.weekNumber)})}),s.jsx(S,{displayMonth:e.displayMonth})]})}function k9(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var C9=k9()?x.useLayoutEffect:x.useEffect,Eg=!1,E9=0;function R_(){return"react-day-picker-".concat(++E9)}function P9(e){var t,r=e??(Eg?R_():null),n=x.useState(r),a=n[0],o=n[1];return C9(function(){a===null&&o(R_())},[]),x.useEffect(function(){Eg===!1&&(Eg=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function T9(e){var t,r,n=Ct(),a=n.dir,o=n.classNames,c=n.styles,u=n.components,d=Lu().displayMonths,h=P9(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),m=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[o.month],v=c.month,y=e.displayIndex===0,N=e.displayIndex===d.length-1,_=!y&&!N;a==="rtl"&&(t=[y,N],N=t[0],y=t[1]),y&&(p.push(o.caption_start),v=ze(ze({},v),c.caption_start)),N&&(p.push(o.caption_end),v=ze(ze({},v),c.caption_end)),_&&(p.push(o.caption_between),v=ze(ze({},v),c.caption_between));var b=(r=u==null?void 0:u.Caption)!==null&&r!==void 0?r:IU;return s.jsxs("div",{className:p.join(" "),style:v,children:[s.jsx(b,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(S9,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function R9(e){var t=Ct(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function A9(e){var t,r,n=e.initialProps,a=Ct(),o=sy(),c=Lu(),u=x.useState(!1),d=u[0],h=u[1];x.useEffect(function(){a.initialFocus&&o.focusTarget&&(d||(o.focus(o.focusTarget),h(!0)))},[a.initialFocus,d,o.focus,o.focusTarget,o]);var m=[a.classNames.root,a.className];a.numberOfMonths>1&&m.push(a.classNames.multiple_months),a.showWeekNumber&&m.push(a.classNames.with_weeknumber);var p=ze(ze({},a.styles.root),a.style),v=Object.keys(n).filter(function(N){return N.startsWith("data-")}).reduce(function(N,_){var b;return ze(ze({},N),(b={},b[_]=n[_],b))},{}),y=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:R9;return s.jsx("div",ze({className:m.join(" "),style:p,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},v,{children:s.jsx(y,{children:c.displayMonths.map(function(N,_){return s.jsx(T9,{displayIndex:_,displayMonth:N},_)})})}))}function O9(e){var t=e.children,r=nU(e,["children"]);return s.jsx(_U,{initialProps:r,children:s.jsx(AU,{children:s.jsx(h9,{initialProps:r,children:s.jsx(BU,{initialProps:r,children:s.jsx(WU,{initialProps:r,children:s.jsx(XU,{children:s.jsx(d9,{children:t})})})})})})})}function M9(e){return s.jsx(O9,ze({},e,{children:s.jsx(A9,{initialProps:e})}))}function Yf({className:e,classNames:t,showOutsideDays:r=!0,components:n,...a}){return s.jsx(M9,{showOutsideDays:r,className:re("p-3 pointer-events-auto",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:re(kl({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:re(kl({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...o})=>s.jsx(fD,{className:"h-4 w-4"}),IconRight:({...o})=>s.jsx(fx,{className:"h-4 w-4"}),...n},...a})}Yf.displayName="Calendar";var Rh="Popover",[J2,sH]=ln(Rh,[Kl]),Fu=Kl(),[D9,hi]=J2(Rh),X2=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:c=!1}=e,u=Fu(t),d=x.useRef(null),[h,m]=x.useState(!1),[p,v]=Ts({prop:n,defaultProp:a??!1,onChange:o,caller:Rh});return s.jsx(Rx,{...u,children:s.jsx(D9,{scope:t,contentId:fr(),triggerRef:d,open:p,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:h,onCustomAnchorAdd:x.useCallback(()=>m(!0),[]),onCustomAnchorRemove:x.useCallback(()=>m(!1),[]),modal:c,children:r})})};X2.displayName=Rh;var eC="PopoverAnchor",I9=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=hi(eC,r),o=Fu(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=a;return x.useEffect(()=>(c(),()=>u()),[c,u]),s.jsx(wh,{...o,...n,ref:t})});I9.displayName=eC;var tC="PopoverTrigger",rC=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=hi(tC,r),o=Fu(r),c=at(t,a.triggerRef),u=s.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":oC(a.open),...n,ref:c,onClick:je(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?u:s.jsx(wh,{asChild:!0,...o,children:u})});rC.displayName=tC;var iy="PopoverPortal",[L9,F9]=J2(iy,{forceMount:void 0}),nC=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=hi(iy,t);return s.jsx(L9,{scope:t,forceMount:r,children:s.jsx(kn,{present:r||o.open,children:s.jsx(ql,{asChild:!0,container:a,children:n})})})};nC.displayName=iy;var Rl="PopoverContent",sC=x.forwardRef((e,t)=>{const r=F9(Rl,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=hi(Rl,e.__scopePopover);return s.jsx(kn,{present:n||o.open,children:o.modal?s.jsx(U9,{...a,ref:t}):s.jsx(z9,{...a,ref:t})})});sC.displayName=Rl;var $9=ai("PopoverContent.RemoveScroll"),U9=x.forwardRef((e,t)=>{const r=hi(Rl,e.__scopePopover),n=x.useRef(null),a=at(t,n),o=x.useRef(!1);return x.useEffect(()=>{const c=n.current;if(c)return _h(c)},[]),s.jsx(Au,{as:$9,allowPinchZoom:!0,children:s.jsx(aC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),o.current||(u=r.triggerRef.current)==null||u.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,h=u.button===2||d;o.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:je(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),z9=x.forwardRef((e,t)=>{const r=hi(Rl,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(aC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),aC=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,...p}=e,v=hi(Rl,r),y=Fu(r);return gh(),s.jsx(Pu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(Vl,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>v.onOpenChange(!1),children:s.jsx(Ax,{"data-state":oC(v.open),role:"dialog",id:v.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),iC="PopoverClose",B9=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=hi(iC,r);return s.jsx(Re.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});B9.displayName=iC;var V9="PopoverArrow",q9=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Fu(r);return s.jsx(Ox,{...a,...n,ref:t})});q9.displayName=V9;function oC(e){return e?"open":"closed"}var W9=X2,H9=rC,Y9=nC,lC=sC;const Ov=W9,Mv=H9,Gf=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(Y9,{children:s.jsx(lC,{ref:a,align:t,sideOffset:r,className:re("z-50 w-72 rounded-lg border border-gray-200 bg-white p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Gf.displayName=lC.displayName;function G9({value:e,onChange:t,className:r,placeholder:n="Select date range",disabled:a=!1}){const[o,c]=x.useState(e),[u,d]=x.useState(!1),h=Dt();x.useEffect(()=>{c(e)},[e]);const m=y=>y!=null&&y.from?y.to?`${sn(y.from,"LLL dd, y")} - ${sn(y.to,"LLL dd, y")}`:sn(y.from,"LLL dd, y"):n,p=y=>{c(y),y!=null&&y.from&&!y.to&&t(y)},v=()=>{o&&(t(o),d(!1))};return s.jsx("div",{className:re("grid gap-2",r),children:s.jsxs(Ov,{open:u,onOpenChange:y=>{!y&&u&&(o!=null&&o.from)&&v(),d(y)},children:[s.jsx(Mv,{asChild:!0,children:s.jsxs(ee,{id:"date",variant:"outline",className:re("w-full justify-start text-left font-normal rounded-md border border-gray-300 text-sm h-9",!o&&"text-muted-foreground",a&&"opacity-50 cursor-not-allowed"),disabled:a,children:[s.jsx(bt,{className:"mr-2 h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-gray-700",children:m(o)})]})}),s.jsx(Gf,{className:"w-auto p-0",align:"start",children:s.jsxs("div",{className:"p-3 space-y-3",children:[s.jsx(Yf,{initialFocus:!0,mode:"range",defaultMonth:o==null?void 0:o.from,selected:o,onSelect:p,numberOfMonths:h?1:2,className:"pointer-events-auto",disabled:a}),s.jsx("div",{className:"flex justify-end border-t pt-3",children:s.jsx(ee,{variant:"default",size:"sm",onClick:v,disabled:!(o!=null&&o.from),className:"bg-[#9b87f5] hover:bg-[#7E69AB]",children:o!=null&&o.to?"Apply Range":"Confirm Date"})})]})})]})})}const yf={TODAY:"today",THIS_WEEK:"this week",THIS_WEEKEND:"this weekend",LATER:"later"},K9=({dateRange:e,onDateRangeChange:t,onReset:r,selectedDateFilter:n,onDateFilterChange:a})=>{const o=[yf.TODAY,yf.THIS_WEEK,yf.THIS_WEEKEND,yf.LATER],c=d=>{n===d?(a(""),t(void 0)):(a(d),t(void 0))},u=d=>{d&&n&&a(""),t(d)};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map(d=>s.jsx(ee,{variant:n===d?"default":"outline",size:"sm",onClick:()=>c(d),className:re("capitalize text-xs px-2.5 py-1 h-7 rounded-full border",n===d?"bg-[#444] hover:bg-[#555] border-[#444]":"bg-transparent hover:bg-gray-100",n===d?"text-white":"text-gray-700","border-gray-300"),children:d},d))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G9,{value:e,onChange:u,className:"w-full",placeholder:"Select dates"}),(e||n)&&s.jsx(ee,{variant:"ghost",onClick:()=>{r(),a("")},className:"h-9 px-2",children:s.jsx(ua,{className:"h-4 w-4"})})]})]})};var A_=1,Q9=.9,Z9=.8,J9=.17,Pg=.1,Tg=.999,X9=.9999,e7=.99,t7=/[\\\/_+.#"@\[\(\{&]/,r7=/[\\\/_+.#"@\[\(\{&]/g,n7=/[\s-]/,cC=/[\s-]/g;function Dv(e,t,r,n,a,o,c){if(o===t.length)return a===e.length?A_:e7;var u=`${a},${o}`;if(c[u]!==void 0)return c[u];for(var d=n.charAt(o),h=r.indexOf(d,a),m=0,p,v,y,N;h>=0;)p=Dv(e,t,r,n,h+1,o+1,c),p>m&&(h===a?p*=A_:t7.test(e.charAt(h-1))?(p*=Z9,y=e.slice(a,h-1).match(r7),y&&a>0&&(p*=Math.pow(Tg,y.length))):n7.test(e.charAt(h-1))?(p*=Q9,N=e.slice(a,h-1).match(cC),N&&a>0&&(p*=Math.pow(Tg,N.length))):(p*=J9,a>0&&(p*=Math.pow(Tg,h-a))),e.charAt(h)!==t.charAt(o)&&(p*=X9)),(p<Pg&&r.charAt(h-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(h-1)!==n.charAt(o))&&(v=Dv(e,t,r,n,h+1,o+2,c),v*Pg>p&&(p=v*Pg)),p>m&&(m=p),h=r.indexOf(d,h+1);return c[u]=m,m}function O_(e){return e.toLowerCase().replace(cC," ")}function s7(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,Dv(e,t,O_(e),O_(t),0,0,{})}var Ah="Dialog",[uC,dC]=ln(Ah),[a7,ds]=uC(Ah),fC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,u=x.useRef(null),d=x.useRef(null),[h,m]=Ts({prop:n,defaultProp:a??!1,onChange:o,caller:Ah});return s.jsx(a7,{scope:t,triggerRef:u,contentRef:d,contentId:fr(),titleId:fr(),descriptionId:fr(),open:h,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(p=>!p),[m]),modal:c,children:r})};fC.displayName=Ah;var hC="DialogTrigger",mC=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ds(hC,r),o=at(t,a.triggerRef);return s.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":cy(a.open),...n,ref:o,onClick:je(e.onClick,a.onOpenToggle)})});mC.displayName=hC;var oy="DialogPortal",[i7,pC]=uC(oy,{forceMount:void 0}),gC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=ds(oy,t);return s.jsx(i7,{scope:t,forceMount:r,children:x.Children.map(n,c=>s.jsx(kn,{present:r||o.open,children:s.jsx(ql,{asChild:!0,container:a,children:c})}))})};gC.displayName=oy;var Kf="DialogOverlay",vC=x.forwardRef((e,t)=>{const r=pC(Kf,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=ds(Kf,e.__scopeDialog);return o.modal?s.jsx(kn,{present:n||o.open,children:s.jsx(l7,{...a,ref:t})}):null});vC.displayName=Kf;var o7=ai("DialogOverlay.RemoveScroll"),l7=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ds(Kf,r);return s.jsx(Au,{as:o7,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Re.div,{"data-state":cy(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Xi="DialogContent",xC=x.forwardRef((e,t)=>{const r=pC(Xi,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=ds(Xi,e.__scopeDialog);return s.jsx(kn,{present:n||o.open,children:o.modal?s.jsx(c7,{...a,ref:t}):s.jsx(u7,{...a,ref:t})})});xC.displayName=Xi;var c7=x.forwardRef((e,t)=>{const r=ds(Xi,e.__scopeDialog),n=x.useRef(null),a=at(t,r.contentRef,n);return x.useEffect(()=>{const o=n.current;if(o)return _h(o)},[]),s.jsx(yC,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:je(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:je(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:je(e.onFocusOutside,o=>o.preventDefault())})}),u7=x.forwardRef((e,t)=>{const r=ds(Xi,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(yC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((h=r.triggerRef.current)==null?void 0:h.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),yC=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...c}=e,u=ds(Xi,r),d=x.useRef(null),h=at(t,d);return gh(),s.jsxs(s.Fragment,{children:[s.jsx(Pu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(Vl,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":cy(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(f7,{titleId:u.titleId}),s.jsx(m7,{contentRef:d,descriptionId:u.descriptionId})]})]})}),ly="DialogTitle",wC=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ds(ly,r);return s.jsx(Re.h2,{id:a.titleId,...n,ref:t})});wC.displayName=ly;var bC="DialogDescription",_C=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ds(bC,r);return s.jsx(Re.p,{id:a.descriptionId,...n,ref:t})});_C.displayName=bC;var jC="DialogClose",NC=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=ds(jC,r);return s.jsx(Re.button,{type:"button",...n,ref:t,onClick:je(e.onClick,()=>a.onOpenChange(!1))})});NC.displayName=jC;function cy(e){return e?"open":"closed"}var SC="DialogTitleWarning",[d7,kC]=xM(SC,{contentName:Xi,titleName:ly,docsSlug:"dialog"}),f7=({titleId:e})=>{const t=kC(SC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},h7="DialogDescriptionWarning",m7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kC(h7).contentName}}.`;return x.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},uy=fC,CC=mC,dy=gC,Oh=vC,Mh=xC,fy=wC,hy=_C,my=NC,qc='[cmdk-group=""]',Rg='[cmdk-group-items=""]',p7='[cmdk-group-heading=""]',EC='[cmdk-item=""]',M_=`${EC}:not([aria-disabled="true"])`,Iv="cmdk-item-select",rl="data-value",g7=(e,t,r)=>s7(e,t,r),PC=x.createContext(void 0),$u=()=>x.useContext(PC),TC=x.createContext(void 0),py=()=>x.useContext(TC),RC=x.createContext(void 0),AC=x.forwardRef((e,t)=>{let r=nl(()=>{var O,ie;return{search:"",value:(ie=(O=e.value)!=null?O:e.defaultValue)!=null?ie:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=nl(()=>new Set),a=nl(()=>new Map),o=nl(()=>new Map),c=nl(()=>new Set),u=OC(e),{label:d,children:h,value:m,onValueChange:p,filter:v,shouldFilter:y,loop:N,disablePointerSelection:_=!1,vimBindings:b=!0,...S}=e,k=fr(),C=fr(),P=fr(),T=x.useRef(null),R=C7();eo(()=>{if(m!==void 0){let O=m.trim();r.current.value=O,M.emit()}},[m]),eo(()=>{R(6,K)},[]);let M=x.useMemo(()=>({subscribe:O=>(c.current.add(O),()=>c.current.delete(O)),snapshot:()=>r.current,setState:(O,ie,ce)=>{var ue,xe,ne,be;if(!Object.is(r.current[O],ie)){if(r.current[O]=ie,O==="search")V(),B(),R(1,Z);else if(O==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let _e=document.getElementById(P);_e?_e.focus():(ue=document.getElementById(k))==null||ue.focus()}if(R(7,()=>{var _e;r.current.selectedItemId=(_e=H())==null?void 0:_e.id,M.emit()}),ce||R(5,K),((xe=u.current)==null?void 0:xe.value)!==void 0){let _e=ie??"";(be=(ne=u.current).onValueChange)==null||be.call(ne,_e);return}}M.emit()}},emit:()=>{c.current.forEach(O=>O())}}),[]),D=x.useMemo(()=>({value:(O,ie,ce)=>{var ue;ie!==((ue=o.current.get(O))==null?void 0:ue.value)&&(o.current.set(O,{value:ie,keywords:ce}),r.current.filtered.items.set(O,W(ie,ce)),R(2,()=>{B(),M.emit()}))},item:(O,ie)=>(n.current.add(O),ie&&(a.current.has(ie)?a.current.get(ie).add(O):a.current.set(ie,new Set([O]))),R(3,()=>{V(),B(),r.current.value||Z(),M.emit()}),()=>{o.current.delete(O),n.current.delete(O),r.current.filtered.items.delete(O);let ce=H();R(4,()=>{V(),(ce==null?void 0:ce.getAttribute("id"))===O&&Z(),M.emit()})}),group:O=>(a.current.has(O)||a.current.set(O,new Set),()=>{o.current.delete(O),a.current.delete(O)}),filter:()=>u.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:k,inputId:P,labelId:C,listInnerRef:T}),[]);function W(O,ie){var ce,ue;let xe=(ue=(ce=u.current)==null?void 0:ce.filter)!=null?ue:g7;return O?xe(O,r.current.search,ie):0}function B(){if(!r.current.search||u.current.shouldFilter===!1)return;let O=r.current.filtered.items,ie=[];r.current.filtered.groups.forEach(ue=>{let xe=a.current.get(ue),ne=0;xe.forEach(be=>{let _e=O.get(be);ne=Math.max(_e,ne)}),ie.push([ue,ne])});let ce=T.current;me().sort((ue,xe)=>{var ne,be;let _e=ue.getAttribute("id"),Le=xe.getAttribute("id");return((ne=O.get(Le))!=null?ne:0)-((be=O.get(_e))!=null?be:0)}).forEach(ue=>{let xe=ue.closest(Rg);xe?xe.appendChild(ue.parentElement===xe?ue:ue.closest(`${Rg} > *`)):ce.appendChild(ue.parentElement===ce?ue:ue.closest(`${Rg} > *`))}),ie.sort((ue,xe)=>xe[1]-ue[1]).forEach(ue=>{var xe;let ne=(xe=T.current)==null?void 0:xe.querySelector(`${qc}[${rl}="${encodeURIComponent(ue[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function Z(){let O=me().find(ce=>ce.getAttribute("aria-disabled")!=="true"),ie=O==null?void 0:O.getAttribute(rl);M.setState("value",ie||void 0)}function V(){var O,ie,ce,ue;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let xe=0;for(let ne of n.current){let be=(ie=(O=o.current.get(ne))==null?void 0:O.value)!=null?ie:"",_e=(ue=(ce=o.current.get(ne))==null?void 0:ce.keywords)!=null?ue:[],Le=W(be,_e);r.current.filtered.items.set(ne,Le),Le>0&&xe++}for(let[ne,be]of a.current)for(let _e of be)if(r.current.filtered.items.get(_e)>0){r.current.filtered.groups.add(ne);break}r.current.filtered.count=xe}function K(){var O,ie,ce;let ue=H();ue&&(((O=ue.parentElement)==null?void 0:O.firstChild)===ue&&((ce=(ie=ue.closest(qc))==null?void 0:ie.querySelector(p7))==null||ce.scrollIntoView({block:"nearest"})),ue.scrollIntoView({block:"nearest"}))}function H(){var O;return(O=T.current)==null?void 0:O.querySelector(`${EC}[aria-selected="true"]`)}function me(){var O;return Array.from(((O=T.current)==null?void 0:O.querySelectorAll(M_))||[])}function le(O){let ie=me()[O];ie&&M.setState("value",ie.getAttribute(rl))}function X(O){var ie;let ce=H(),ue=me(),xe=ue.findIndex(be=>be===ce),ne=ue[xe+O];(ie=u.current)!=null&&ie.loop&&(ne=xe+O<0?ue[ue.length-1]:xe+O===ue.length?ue[0]:ue[xe+O]),ne&&M.setState("value",ne.getAttribute(rl))}function U(O){let ie=H(),ce=ie==null?void 0:ie.closest(qc),ue;for(;ce&&!ue;)ce=O>0?S7(ce,qc):k7(ce,qc),ue=ce==null?void 0:ce.querySelector(M_);ue?M.setState("value",ue.getAttribute(rl)):X(O)}let q=()=>le(me().length-1),se=O=>{O.preventDefault(),O.metaKey?q():O.altKey?U(1):X(1)},L=O=>{O.preventDefault(),O.metaKey?le(0):O.altKey?U(-1):X(-1)};return x.createElement(Re.div,{ref:t,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:O=>{var ie;(ie=S.onKeyDown)==null||ie.call(S,O);let ce=O.nativeEvent.isComposing||O.keyCode===229;if(!(O.defaultPrevented||ce))switch(O.key){case"n":case"j":{b&&O.ctrlKey&&se(O);break}case"ArrowDown":{se(O);break}case"p":case"k":{b&&O.ctrlKey&&L(O);break}case"ArrowUp":{L(O);break}case"Home":{O.preventDefault(),le(0);break}case"End":{O.preventDefault(),q();break}case"Enter":{O.preventDefault();let ue=H();if(ue){let xe=new Event(Iv);ue.dispatchEvent(xe)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:P7},d),Dh(e,O=>x.createElement(TC.Provider,{value:M},x.createElement(PC.Provider,{value:D},O))))}),v7=x.forwardRef((e,t)=>{var r,n;let a=fr(),o=x.useRef(null),c=x.useContext(RC),u=$u(),d=OC(e),h=(n=(r=d.current)==null?void 0:r.forceMount)!=null?n:c==null?void 0:c.forceMount;eo(()=>{if(!h)return u.item(a,c==null?void 0:c.id)},[h]);let m=MC(a,o,[e.value,e.children,o],e.keywords),p=py(),v=li(R=>R.value&&R.value===m.current),y=li(R=>h||u.filter()===!1?!0:R.search?R.filtered.items.get(a)>0:!0);x.useEffect(()=>{let R=o.current;if(!(!R||e.disabled))return R.addEventListener(Iv,N),()=>R.removeEventListener(Iv,N)},[y,e.onSelect,e.disabled]);function N(){var R,M;_(),(M=(R=d.current).onSelect)==null||M.call(R,m.current)}function _(){p.setState("value",m.current,!0)}if(!y)return null;let{disabled:b,value:S,onSelect:k,forceMount:C,keywords:P,...T}=e;return x.createElement(Re.div,{ref:na(o,t),...T,id:a,"cmdk-item":"",role:"option","aria-disabled":!!b,"aria-selected":!!v,"data-disabled":!!b,"data-selected":!!v,onPointerMove:b||u.getDisablePointerSelection()?void 0:_,onClick:b?void 0:N},e.children)}),x7=x.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:a,...o}=e,c=fr(),u=x.useRef(null),d=x.useRef(null),h=fr(),m=$u(),p=li(y=>a||m.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);eo(()=>m.group(c),[]),MC(c,u,[e.value,e.heading,d]);let v=x.useMemo(()=>({id:c,forceMount:a}),[a]);return x.createElement(Re.div,{ref:na(u,t),...o,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&x.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:h},r),Dh(e,y=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?h:void 0},x.createElement(RC.Provider,{value:v},y))))}),y7=x.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,a=x.useRef(null),o=li(c=>!c.search);return!r&&!o?null:x.createElement(Re.div,{ref:na(a,t),...n,"cmdk-separator":"",role:"separator"})}),w7=x.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,a=e.value!=null,o=py(),c=li(h=>h.search),u=li(h=>h.selectedItemId),d=$u();return x.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),x.createElement(Re.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:a?e.value:c,onChange:h=>{a||o.setState("search",h.target.value),r==null||r(h.target.value)}})}),b7=x.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...a}=e,o=x.useRef(null),c=x.useRef(null),u=li(h=>h.selectedItemId),d=$u();return x.useEffect(()=>{if(c.current&&o.current){let h=c.current,m=o.current,p,v=new ResizeObserver(()=>{p=requestAnimationFrame(()=>{let y=h.offsetHeight;m.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return v.observe(h),()=>{cancelAnimationFrame(p),v.unobserve(h)}}},[]),x.createElement(Re.div,{ref:na(o,t),...a,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":n,id:d.listId},Dh(e,h=>x.createElement("div",{ref:na(c,d.listInnerRef),"cmdk-list-sizer":""},h)))}),_7=x.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:a,contentClassName:o,container:c,...u}=e;return x.createElement(uy,{open:r,onOpenChange:n},x.createElement(dy,{container:c},x.createElement(Oh,{"cmdk-overlay":"",className:a}),x.createElement(Mh,{"aria-label":e.label,"cmdk-dialog":"",className:o},x.createElement(AC,{ref:t,...u}))))}),j7=x.forwardRef((e,t)=>li(r=>r.filtered.count===0)?x.createElement(Re.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),N7=x.forwardRef((e,t)=>{let{progress:r,children:n,label:a="Loading...",...o}=e;return x.createElement(Re.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Dh(e,c=>x.createElement("div",{"aria-hidden":!0},c)))}),cn=Object.assign(AC,{List:b7,Item:v7,Input:w7,Group:x7,Separator:y7,Dialog:_7,Empty:j7,Loading:N7});function S7(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function k7(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function OC(e){let t=x.useRef(e);return eo(()=>{t.current=e}),t}var eo=typeof window>"u"?x.useEffect:x.useLayoutEffect;function nl(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function li(e){let t=py(),r=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,r,r)}function MC(e,t,r,n=[]){let a=x.useRef(),o=$u();return eo(()=>{var c;let u=(()=>{var h;for(let m of r){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(h=m.current.textContent)==null?void 0:h.trim():a.current}})(),d=n.map(h=>h.trim());o.value(e,u,d),(c=t.current)==null||c.setAttribute(rl,u),a.current=u}),a}var C7=()=>{let[e,t]=x.useState(),r=nl(()=>new Map);return eo(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,a)=>{r.current.set(n,a),t({})}};function E7(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Dh({asChild:e,children:t},r){return e&&x.isValidElement(t)?x.cloneElement(E7(t),{ref:t.ref},r(t.props.children)):r(t)}var P7={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const gy=uy,T7=CC,R7=dy,DC=x.forwardRef(({className:e,...t},r)=>s.jsx(Oh,{ref:r,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));DC.displayName=Oh.displayName;const Ih=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(R7,{children:[s.jsx(DC,{}),s.jsxs(Mh,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg text-black",e),...r,children:[t,s.jsxs(my,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground text-black hover:text-gray-600",children:[s.jsx(ua,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ih.displayName=Mh.displayName;const Lh=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Lh.displayName="DialogHeader";const Fh=x.forwardRef(({className:e,...t},r)=>s.jsx(fy,{ref:r,className:re("text-lg font-semibold leading-none tracking-tight text-black",e),...t}));Fh.displayName=fy.displayName;const IC=x.forwardRef(({className:e,...t},r)=>s.jsx(hy,{ref:r,className:re("text-sm text-gray-600",e),...t}));IC.displayName=hy.displayName;const LC=x.forwardRef(({className:e,...t},r)=>s.jsx(cn,{ref:r,className:re("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));LC.displayName=cn.displayName;const A7=x.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(ri,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(cn.Input,{ref:r,className:re("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));A7.displayName=cn.Input.displayName;const FC=x.forwardRef(({className:e,...t},r)=>s.jsx(cn.List,{ref:r,className:re("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));FC.displayName=cn.List.displayName;const $C=x.forwardRef((e,t)=>s.jsx(cn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));$C.displayName=cn.Empty.displayName;const UC=x.forwardRef(({className:e,...t},r)=>s.jsx(cn.Group,{ref:r,className:re("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));UC.displayName=cn.Group.displayName;const O7=x.forwardRef(({className:e,...t},r)=>s.jsx(cn.Separator,{ref:r,className:re("-mx-1 h-px bg-border",e),...t}));O7.displayName=cn.Separator.displayName;const zC=x.forwardRef(({className:e,...t},r)=>s.jsx(cn.Item,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));zC.displayName=cn.Item.displayName;const M7=({value:e,label:t,isSelected:r,onSelect:n})=>s.jsx(zC,{value:e,onSelect:()=>n(e),className:re("flex items-center px-2 py-1.5 text-sm cursor-pointer",r&&"bg-gray-100"),children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx(io,{className:re("mr-2 h-4 w-4",r?"opacity-100":"opacity-0")}),s.jsx("span",{children:t})]})},e),D7=Cu("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $r({className:e,variant:t,...r}){return s.jsx("div",{className:re(D7({variant:t}),e),...r})}const I7=({selectedVenues:e,venueMap:t,onRemove:r})=>e.length===0?null:s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.map(n=>{const a=t.get(n)||n;return s.jsxs($r,{variant:"secondary",className:"text-xs py-0.5 flex items-center",children:[a,s.jsx(ua,{className:"ml-1 h-3 w-3 cursor-pointer",onClick:o=>{o.stopPropagation(),r(n)}})]},n)})}),L7=({venues:e=[],selectedVenues:t=[],onVenueChange:r,onReset:n})=>{const a=Array.isArray(t)?t:[],[o,c]=x.useState(new Map);x.useEffect(()=>{const h=new Map;e.forEach(m=>{h.set(m.value,m.label)}),c(h)},[e]);const u=h=>{a.includes(h)?r(a.filter(m=>m!==h)):r([...a,h])},d=[...e].sort((h,m)=>h.label.localeCompare(m.label));return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx(LC,{className:"rounded-md border shadow-none bg-white",children:s.jsxs(FC,{children:[s.jsx($C,{children:"No venue found."}),s.jsx(UC,{className:"max-h-64 overflow-y-auto",children:d.map(h=>s.jsx(M7,{value:h.value,label:h.label,isSelected:a.includes(h.value),onSelect:u},h.value))})]})}),e.length>5&&s.jsx("div",{className:"absolute right-2 bottom-2 text-xs text-gray-400 bg-white px-1 rounded-sm",children:"Scroll for more"})]}),s.jsx(I7,{selectedVenues:a,venueMap:o,onRemove:u}),a.length>0&&s.jsx("div",{className:"flex justify-end mt-2",children:s.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-800",onClick:()=>r([]),children:"Clear all"})})]})},BC=x.memo(({allEventTypes:e,selectedEventTypes:t,onToggleEventType:r,onSelectAll:n,onDeselectAll:a,onReset:o,className:c})=>{const u=t.length===e.length,d=t.length===0,h=()=>{u||t.length>0?a():n()},m=te.useCallback(p=>{r(p)},[r]);return s.jsxs("div",{className:re("space-y-2",c),children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[s.jsx(DD,{className:"h-4 w-4"}),s.jsx("span",{children:"Filter by Category"}),t.length>0&&t.length<e.length&&s.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.length,")"]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap overflow-x-auto pb-2 no-scrollbar",children:[s.jsx(B8,{active:d||u,onClick:h,size:"default",className:"text-sm !border-0 border-none"}),e.map(p=>s.jsx(Dn,{category:p,active:t.includes(p),onClick:()=>m(p),showIcon:!1,size:"default",noBorder:!0,className:"!border-0 border-none"},p))]})]})});BC.displayName="EventCategoryFilters";const F7=({onFilterChange:e,selectedEventTypes:t,selectedVenues:r,dateRange:n,selectedDateFilter:a,eventTypes:o,venues:c})=>{const u=Dt(),d=_=>{const b=t.includes(_)?t.filter(S=>S!==_):[...t,_];e({eventTypes:b})},h=()=>{e({eventTypes:o})},m=()=>{e({eventTypes:[]})},p=_=>{e({venues:_})},v=_=>{e({date:_,dateFilter:"anytime"})},y=_=>{e({dateFilter:_,date:void 0})},N=c.map(_=>({value:_.id,label:`${_.name} (${_.city})`}));return s.jsxs("div",{className:`space-y-6 ${u?"space-y-4":""}`,children:[o.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:`${u?"text-base":"text-lg"} font-semibold text-primary`,children:"Categories"}),s.jsx(BC,{allEventTypes:o,selectedEventTypes:t,onToggleEventType:d,onSelectAll:h,onDeselectAll:m,onReset:()=>e({eventTypes:[]})})]}),c.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:`${u?"text-base":"text-lg"} font-semibold text-primary`,children:"Venues"}),s.jsx(L7,{venues:N,selectedVenues:r,onVenueChange:p,onReset:()=>e({venues:[]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:`${u?"text-base":"text-lg"} font-semibold text-primary`,children:"Date"}),s.jsx(K9,{dateRange:n,onDateRangeChange:v,selectedDateFilter:a,onDateFilterChange:y,onReset:()=>e({date:void 0,dateFilter:"anytime"})})]})]})},$7=({onFilterChange:e,selectedEventTypes:t,selectedVenues:r,selectedVibes:n,dateRange:a,selectedDateFilter:o,filteredEventsCount:c,allEventTypes:u,availableVenues:d,events:h=[]})=>{const[m,p]=x.useState(!1),v=Dt(),y=te.useMemo(()=>{if(!h||h.length===0)return[];const b=new Set;return h.forEach(S=>{S.event_category&&b.add(S.event_category)}),Array.from(b).sort()},[h]),N=te.useMemo(()=>{if(!h||h.length===0)return[];const b=new Set;return h.forEach(S=>{S.venue_id&&b.add(S.venue_id)}),d.filter(S=>b.has(S.id))},[h,d]),_=t.length>0||r.length>0||!!a||o!=="anytime";return y.length===0&&N.length===0?null:s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ee,{variant:m?"default":"outline",size:v?"sm":"default",onClick:()=>p(!m),className:"flex items-center gap-2",children:[s.jsx(bD,{className:"h-4 w-4"}),s.jsx("span",{children:"More Filters"}),m?s.jsx(zN,{className:"h-4 w-4"}):s.jsx(Eu,{className:"h-4 w-4"}),_&&s.jsx("span",{className:"ml-1 bg-white text-primary rounded-full px-2 py-0.5 text-xs font-medium",children:[t.length>0?t.length:0,r.length>0?r.length:0,a||o!=="anytime"?1:0].reduce((b,S)=>b+S,0)})]})}),s.jsxs("div",{className:`${v?"text-xs":"text-sm"} text-neutral-50`,children:[c," events found"]})]}),m&&s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:s.jsx(F7,{onFilterChange:e,selectedEventTypes:t,selectedVenues:r,dateRange:a,selectedDateFilter:o,eventTypes:y,venues:N})})]})},U7=()=>{Dt();const{events:e,allEvents:t,isLoading:r,selectedVibes:n,selectedEventTypes:a,selectedVenues:o,selectedLocation:c,dateRange:u,selectedDateFilter:d,setSelectedVibes:h,setSelectedEventTypes:m,setSelectedVenues:p,setSelectedLocation:v,setDateRange:y,setSelectedDateFilter:N,allEventTypes:_,availableVenues:b,hasActiveFilters:S,resetAllFilters:k}=L8(),{data:C=[],isLoading:P}=rU(),T=M=>{M.eventTypes!==void 0&&m(M.eventTypes),M.venues!==void 0&&p(M.venues),M.vibes!==void 0&&h(M.vibes),M.location!==void 0&&v(M.location),M.date!==void 0&&y(M.date),M.dateFilter!==void 0&&N(M.dateFilter)},R=(e==null?void 0:e.length)||0;return s.jsx(F8,{children:s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[s.jsx("div",{className:"w-full order-1",children:s.jsx(tU,{availableLocations:C,selectedLocation:c,onLocationChange:v,isLoading:P,events:t||[]})}),s.jsx("div",{className:"w-full order-2",children:s.jsx(eU,{selectedVibes:n,onVibeChange:h,events:t||[],vibesLoading:r})})]}),s.jsx("div",{className:"w-full",children:s.jsx($7,{onFilterChange:T,selectedEventTypes:a,selectedVenues:o,selectedVibes:n,dateRange:u,selectedDateFilter:d,filteredEventsCount:R,allEventTypes:_,availableVenues:b,events:t||[]})}),s.jsx("div",{className:"w-full",children:s.jsx(J8,{filteredEvents:e,hasActiveFilters:S,resetFilters:k,eventsLoading:r,isFilterLoading:!1,user:null})})]})})},z7=async(e,t=void 0)=>{try{const{data:r,error:n}=await ae.from("events").select(`
        *,
        venues!events_venue_id_fkey(*),
        event_rsvps(id, user_id, status)
      `).eq("id",e).eq("status","published").single();if(n)return console.error("Error fetching event by ID:",n),null;if(!r)return console.log(`Event with ID ${e} not found.`),null;let a=null;if(r.creator){const{data:d,error:h}=await ae.from("profiles").select("id, username, avatar_url, email, location, status, tagline").eq("id",r.creator).single();!h&&d&&(a=d)}const o={...r,creator:a},u=El([o],t)[0]||null;return u&&!C2(u)?(console.log(`Event ${e} is no longer visible due to timing rules`),null):u}catch(r){return console.error("Unexpected error fetching event by ID:",r),null}},B7=async e=>{const t={...e,status:e.status||"published"},{data:r,error:n}=await ae.from("events").insert(t).select().single();return n&&console.error("Error creating event:",n),{data:r,error:n}},V7=async(e,t)=>{console.log("updateEvent called with eventId:",e,"and data:",t);const{data:r,error:n}=await ae.from("events").select("id").eq("id",e).maybeSingle();if(n)return console.error("Error checking if event exists:",n),{data:null,error:n};if(!r){const c={message:`Event with ID ${e} not found`,code:"EVENT_NOT_FOUND"};return console.error("Event not found for update:",c),{data:null,error:c}}const{data:a,error:o}=await ae.from("events").update(t).eq("id",e).select().maybeSingle();if(o)return console.error("Error updating event:",o),{data:null,error:o};if(!a){const c={message:"Event update succeeded but no data returned",code:"UPDATE_NO_DATA"};return console.error("No data returned after update:",c),{data:null,error:c}}return console.log("Event updated successfully:",a),{data:a,error:null}},q7=e=>{const t=ot(),{user:r,isAuthenticated:n}=Xe(),[a,o]=x.useState(!1);return x.useEffect(()=>()=>{document.body.classList.remove("rsvp-transition"),document.body.classList.remove("rsvp-transition-active")},[]),{handleRsvp:async u=>{var d;if(!r||!n)return t("/login"),!1;try{if(!e)return console.error("Error: Event ID is missing."),!1;o(!0),console.log(`useEventRsvpHandler: RSVP to event ${e} with status ${u}`),document.body.classList.add("rsvp-transition"),(d=document.querySelector(".rsvp-transition-indicator"))==null||d.classList.add("active");const h=document.querySelector(".event-detail-card");h&&h.classList.add("event-content-refreshing");const{data:m}=await ae.from("event_rsvps").select("*").eq("event_id",e).eq("user_id",r.id).single();let p=!1;if(m)if(m.status!==u){const{error:v}=await ae.from("event_rsvps").update({status:u}).eq("id",m.id);p=!v}else{const{error:v}=await ae.from("event_rsvps").delete().eq("id",m.id);p=!v}else{const{error:v}=await ae.from("event_rsvps").insert([{event_id:e,user_id:r.id,status:u}]);p=!v}return p}catch(h){return console.error("Error in RSVP process:",h),!1}finally{setTimeout(()=>{var m;o(!1),document.body.classList.remove("rsvp-transition"),(m=document.querySelector(".rsvp-transition-indicator"))==null||m.classList.remove("active");const h=document.querySelector(".event-detail-card");h&&h.classList.remove("event-content-refreshing")},800)}},rsvpLoading:a}},W7=({isOwner:e,onRsvp:t,isRsvpLoading:r,currentStatus:n})=>{const[a,o]=x.useState(!1),[c,u]=x.useState(!1);x.useEffect(()=>{let h;return a&&(u(!0),h=setTimeout(()=>{o(!1),u(!1)},800)),()=>{clearTimeout(h)}},[a]),x.useEffect(()=>(c?document.body.classList.add("rsvp-transition-active"):document.body.classList.remove("rsvp-transition-active"),()=>{document.body.classList.remove("rsvp-transition-active")}),[c]);const d=async h=>{var m;if(!t)return!1;o(!0);try{document.body.classList.add("rsvp-transition"),(m=document.querySelector(".rsvp-transition-indicator"))==null||m.classList.add("active");const p=await t(h);return setTimeout(()=>{o(!1)},300),p}catch(p){return console.error("RSVP error:",p),o(!1),!1}finally{setTimeout(()=>{var p;document.body.classList.remove("rsvp-transition"),(p=document.querySelector(".rsvp-transition-indicator"))==null||p.classList.remove("active")},500)}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`bg-gray-50 p-6 rounded-lg transition-all duration-300 relative ${a?"rsvp-section-animating":""}`,children:[s.jsxs("div",{className:"space-y-4",children:[t&&!e&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"font-medium",children:"Are you going?"}),s.jsx("div",{className:`rsvp-buttons-container ${a?"rsvp-buttons-animating":""}`,children:r||a?s.jsx("div",{className:"flex justify-center py-2",children:s.jsx(sa,{className:"h-5 w-5 animate-spin text-primary"})}):s.jsx(Qx,{currentStatus:n,onRsvp:d,isLoading:r||a,size:"lg",className:"w-full"})})]}),e&&s.jsx("div",{className:"bg-blue-50 p-4 rounded-md",children:s.jsx("p",{className:"text-sm text-blue-700",children:"You created this event"})})]}),a&&s.jsx("div",{className:"absolute inset-0 rsvp-shimmer rounded-lg overflow-hidden"})]}),s.jsx("div",{className:`rsvp-overlay ${c?"active":""}`}),s.jsx("div",{className:"rsvp-transition-indicator"})]})},H7=(e,t={})=>{const{enabled:r=!0}=t,[n,a]=x.useState({going:[],interested:[]}),[o,c]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!e||!r){c(!1);return}try{c(!0);const{data:d,error:h}=await ae.from("event_rsvps").select(`
            status,
            user_id,
            profiles!event_rsvps_user_id_fkey(
              id,
              username,
              avatar_url,
              email,
              location,
              location_category,
              status,
              status_details,
              tagline,
              created_at,
              updated_at
            )
          `).eq("event_id",e).eq("status","Going");h&&console.error("Error fetching going attendees:",h);const{data:m,error:p}=await ae.from("event_rsvps").select(`
            status,
            user_id,
            profiles!event_rsvps_user_id_fkey(
              id,
              username,
              avatar_url,
              email,
              location,
              location_category,
              status,
              status_details,
              tagline,
              created_at,
              updated_at
            )
          `).eq("event_id",e).eq("status","Interested");p&&console.error("Error fetching interested attendees:",p);const v=(d||[]).filter(N=>N.profiles).map(N=>{const _=Array.isArray(N.profiles)?N.profiles[0]:N.profiles;return _?{id:_.id,username:_.username,avatar_url:_.avatar_url,email:_.email,location:_.location,location_category:_.location_category,status:_.status,status_details:_.status_details,tagline:_.tagline,created_at:_.created_at,updated_at:_.updated_at,rsvp_status:"Going"}:null}).filter(Boolean),y=(m||[]).filter(N=>N.profiles).map(N=>{const _=Array.isArray(N.profiles)?N.profiles[0]:N.profiles;return _?{id:_.id,username:_.username,avatar_url:_.avatar_url,email:_.email,location:_.location,location_category:_.location_category,status:_.status,status_details:_.status_details,tagline:_.tagline,created_at:_.created_at,updated_at:_.updated_at,rsvp_status:"Interested"}:null}).filter(Boolean);a({going:v,interested:y})}catch(d){console.error("Error fetching attendees:",d),a({going:[],interested:[]})}finally{c(!1)}})()},[e,r]),{attendees:n,loading:o}},Wc={facebook:({className:e})=>s.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),whatsapp:({className:e})=>s.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.488"})}),linkedin:({className:e})=>s.jsx("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),signal:({className:e})=>s.jsxs("svg",{className:e,viewBox:"0 0 24 24",fill:"currentColor",children:[s.jsx("path",{d:"M12.6 1.6C6.7 1.6 1.8 6.5 1.8 12.4c0 2 .6 3.9 1.6 5.5L1.2 22.4l4.6-2.2c1.5.8 3.2 1.2 4.8 1.2 5.9 0 10.8-4.9 10.8-10.8C21.4 4.7 18.5 1.6 12.6 1.6zm-.1 19.5c-1.7 0-3.3-.4-4.7-1.2l-.3-.2-3.3 1.6 1.6-3.2-.2-.4c-.9-1.4-1.4-3.1-1.4-4.8 0-4.8 3.9-8.7 8.7-8.7s8.7 3.9 8.7 8.7-3.9 8.7-8.7 8.7z"}),s.jsx("path",{d:"M17.4 14.7c-.2-.1-.8-.4-1-.5-.2-.1-.4-.1-.6.1-.2.2-.7.9-.8 1.1-.1.2-.3.2-.5.1-.2-.1-.9-.3-1.8-1.1-.7-.6-1.1-1.3-1.2-1.5-.1-.2 0-.3.1-.4.1-.1.2-.3.3-.4.1-.1.2-.2.2-.4.1-.2 0-.3 0-.4-.1-.1-.6-1.4-.8-1.9-.2-.5-.4-.4-.6-.4-.2 0-.3 0-.5 0s-.4.1-.7.3c-.3.3-.9.9-.9 2.2s.9 2.5 1 2.7c.1.2 1.8 2.8 4.4 3.9.6.3 1.1.4 1.5.5.6.2 1.2.2 1.6.1.5-.1 1.5-.6 1.7-1.2.2-.6.2-1.1.1-1.2-.1-.1-.2-.2-.4-.3"})]}),link:kD},Uu=()=>{const e=navigator.userAgent||"";return e.includes("Instagram")||e.includes("FBAN")||e.includes("FBAV")||e.includes("Twitter")||e.includes("LinkedInApp")},Y7=e=>{const t=`${e.title}

${e.text||""}

${e.url}`,n=`https://wa.me/?text=${encodeURIComponent(t)}`;Uu()?window.location.href=n:window.open(n,"_blank")},G7=e=>{const t=encodeURIComponent(e.url),r=encodeURIComponent(e.title),n=`https://www.facebook.com/sharer/sharer.php?u=${t}&quote=${r}`;Uu()?window.location.href=n:window.open(n,"_blank")},K7=e=>{const t=encodeURIComponent(e.url),r=encodeURIComponent(e.title),n=e.text?encodeURIComponent(e.text):"",a=`https://www.linkedin.com/shareArticle?mini=true&url=${t}&title=${r}&summary=${n}`;Uu()?window.location.href=a:window.open(a,"_blank")},Q7=e=>{const r=`https://www.snapchat.com/scan?attachmentUrl=${encodeURIComponent(e.url)}`;Uu()?window.location.href=r:window.open(r,"_blank")},Z7=e=>{const t=`${e.title}

${e.text||""}

${e.url}`,n=`https://signal.me/#${encodeURIComponent(t)}`;Uu()?window.location.href=n:window.open(n,"_blank")};function J7({title:e,description:t,url:r,imageUrl:n,onCopyLink:a}){const o=Dt(),c=h=>{try{const m={title:e,text:t,url:r,imageUrl:n};switch(h){case"facebook":G7(m);break;case"whatsapp":Y7(m);break;case"snapchat":Q7(m);break;case"linkedin":K7(m);break;case"signal":Z7(m);break;default:console.log(`Share to ${h} not implemented`)}}catch(m){console.error(`Error sharing to ${h}:`,m),st({title:"Sharing Error",description:`Could not share to ${h}. Please try copying the link instead.`,variant:"destructive"})}},u=async()=>{try{await navigator.clipboard.writeText(r),st({title:"Link Copied",description:"Event link has been copied to your clipboard"}),a&&a()}catch{const m=document.createElement("textarea");m.value=r,document.body.appendChild(m),m.focus(),m.select();try{document.execCommand("copy"),st({title:"Link Copied",description:"Event link has been copied to your clipboard"}),a&&a()}catch{st({title:"Copy Failed",description:"Could not copy link. Please manually copy the URL.",variant:"destructive"})}document.body.removeChild(m)}},d=o?"grid-cols-2 gap-4":"grid-cols-3 gap-3";return s.jsxs("div",{className:`grid ${d}`,children:[s.jsxs(ee,{variant:"outline",size:o?"default":"sm",className:"flex flex-col items-center justify-center h-16 sm:h-20 hover:bg-blue-50",onClick:()=>c("facebook"),children:[s.jsx(Wc.facebook,{className:"h-6 w-6 mb-1"}),s.jsx("span",{className:"text-xs",children:"Facebook"})]}),s.jsxs(ee,{variant:"outline",size:o?"default":"sm",className:"flex flex-col items-center justify-center h-16 sm:h-20 hover:bg-green-50",onClick:()=>c("whatsapp"),children:[s.jsx(Wc.whatsapp,{className:"h-6 w-6 mb-1"}),s.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),s.jsxs(ee,{variant:"outline",size:o?"default":"sm",className:"flex flex-col items-center justify-center h-16 sm:h-20 hover:bg-blue-50",onClick:()=>c("signal"),children:[s.jsx(Wc.signal,{className:"h-6 w-6 mb-1"}),s.jsx("span",{className:"text-xs",children:"Signal"})]}),s.jsxs(ee,{variant:"outline",size:o?"default":"sm",className:"flex flex-col items-center justify-center h-16 sm:h-20 hover:bg-blue-50",onClick:()=>c("linkedin"),children:[s.jsx(Wc.linkedin,{className:"h-6 w-6 mb-1"}),s.jsx("span",{className:"text-xs",children:"LinkedIn"})]}),s.jsxs(ee,{variant:"outline",size:o?"default":"sm",className:"flex flex-col items-center justify-center h-16 sm:h-20 hover:bg-gray-50",onClick:u,children:[s.jsx(Wc.link,{className:"h-6 w-6 mb-1"}),s.jsx("span",{className:"text-xs",children:"Copy Link"})]})]})}const X7=async e=>{try{return await navigator.clipboard.writeText(e),!0}catch(t){return console.error("Failed to copy text: ",t),!1}};function ez({event:e,isOpen:t,onOpenChange:r}){const n=Dt(),{getEventImageUrl:a}=Eh(),o=()=>`${window.location.origin}/events/${e.id}`,c=()=>{var v;const p=((v=e.venues)==null?void 0:v.city)||e.destination||"Zandvoort";return`Check out ${e.title} in ${p}`},u=()=>{if(e.description){const p=e.description.replace(/<[^>]*>/g,"");return p.length>150?p.substring(0,150)+"...":p}return`Join us for ${e.title}`},d=()=>a(e)||"https://raw.githubusercontent.com/rbmns/images/main/lineup/default.jpg",h=async()=>{await X7(o()),r(!1)},m=n?"px-3 py-4 bg-white border border-gray-200":"sm:max-w-md bg-white border border-gray-200";return s.jsx(gy,{open:t,onOpenChange:r,children:s.jsxs(Ih,{className:m,children:[s.jsx(Lh,{children:s.jsxs(Fh,{className:"text-gray-900",children:["Share ",e.title]})}),s.jsx("div",{className:"flex flex-col gap-4",children:s.jsx(J7,{title:c(),description:u(),url:o(),imageUrl:d(),onCopyLink:h})})]})})}const tz=({event:e,variant:t="secondary",label:r="Share"})=>{const[n,a]=x.useState(!1),o=async()=>{const u=`${window.location.origin}/events/${e.id}`;if(navigator.share&&!c())try{await navigator.share({title:e.title,text:e.description||`Check out ${e.title}`,url:u});return}catch(d){d.name!=="AbortError"&&a(!0);return}a(!0)},c=()=>{const u=navigator.userAgent||"";return u.includes("Instagram")||u.includes("FBAN")||u.includes("FBAV")||u.includes("Twitter")||u.includes("LinkedInApp")};return s.jsxs(s.Fragment,{children:[s.jsxs(ee,{variant:t,onClick:o,children:[s.jsx(AD,{size:16,className:"mr-2"}),r]}),s.jsx(ez,{event:e,isOpen:n,onOpenChange:a})]})},rz=({eventId:e,showBackButton:t=!0})=>{var P,T,R,M;const{id:r}=Bj(),n=e||r,{user:a,isAuthenticated:o}=Xe(),c=Ms();Dt();const[u,d]=x.useState(!1),[h,m]=x.useState(null),{data:p,isLoading:v,error:y}=sr({queryKey:["event",n],queryFn:()=>z7(n),enabled:!!n}),{attendees:N}=H7(n,{enabled:o}),{handleRsvp:_}=q7(n),b=async D=>{if(!a)return st({title:"Sign in required",description:"Please sign in to RSVP to events",variant:"destructive"}),!1;d(!0),m(D.toLowerCase());try{return await _(D)?(c.setQueryData(["event",n],B=>{if(!B)return B;const Z=B.rsvp_status===D?null:D,V={...B,rsvp_status:Z};if(B.attendees){const K={...B.attendees};B.rsvp_status==="Going"?K.going=Math.max(0,K.going-1):B.rsvp_status==="Interested"&&(K.interested=Math.max(0,K.interested-1)),Z==="Going"?K.going+=1:Z==="Interested"&&(K.interested+=1),V.attendees=K}return V}),c.invalidateQueries({queryKey:["events"]}),c.invalidateQueries({queryKey:["events",a==null?void 0:a.id]}),c.invalidateQueries({queryKey:["event-attendees",n]}),st({title:"RSVP updated",description:`You are now ${(p==null?void 0:p.rsvp_status)===D?"not ":""}${D.toLowerCase()} to this event`}),setTimeout(()=>m(null),1e3),!0):(st({title:"Error",description:"Failed to update RSVP. Please try again.",variant:"destructive"}),!1)}catch(W){return console.error("RSVP error:",W),st({title:"Error",description:"Something went wrong. Please try again.",variant:"destructive"}),!1}finally{d(!1)}};if(v)return s.jsx("div",{className:"min-h-screen bg-white",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 py-8",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded mb-6"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3"})]})})});if(y||!p)return s.jsx("div",{className:"min-h-screen bg-white",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 md:px-6 py-8",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Event Not Found"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"The event you're looking for doesn't exist or has been removed."}),s.jsx(ee,{asChild:!0,children:s.jsx(pt,{to:"/events",children:"Browse Events"})})]})})});const S=(P=p.venues)!=null&&P.name?`${p.venues.name}${p.venues.city?`, ${p.venues.city}`:""}`:p.location||"Location TBD",k=(a==null?void 0:a.id)===((T=p.creator)==null?void 0:T.id),C=yF(p);return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsxs(hh,{children:[s.jsxs("title",{children:[p.title," | the lineup"]}),s.jsx("meta",{name:"description",content:p.description||`Join us for ${p.title}`})]}),s.jsxs("div",{className:"relative w-full h-64 sm:h-80 lg:h-96",children:[s.jsx("img",{src:C,alt:p.title,className:"w-full h-full object-cover",onError:D=>{const W=D.target;W.src.includes("default.jpg")||(W.src="https://raw.githubusercontent.com/rbmns/images/main/lineup/default.jpg")}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"}),p.event_category&&s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(Dn,{category:p.event_category,size:"sm",showIcon:!0})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(tz,{event:p,variant:"outline"})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-white mb-2 text-left",children:p.title}),s.jsxs("div",{className:"flex items-center text-white/90 text-sm",children:[s.jsx(bt,{className:"h-4 w-4 mr-2"}),s.jsxs("span",{children:[p.start_date&&E8(p.start_date),p.start_time&&`, ${P8(p.start_time,p.end_time)}`]})]})]})]}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o&&s.jsx("div",{className:`transition-all duration-300 ${h?"scale-105":""} ${h==="going"?"ring-2 ring-green-200":h==="interested"?"ring-2 ring-blue-200":""}`,children:s.jsx(W7,{isOwner:k,onRsvp:b,isRsvpLoading:u,currentStatus:p.rsvp_status})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"About this event"}),s.jsx("div",{className:"prose prose-sm max-w-none text-left",children:s.jsx("p",{className:"whitespace-pre-line text-left",children:p.description||""})})]}),p.extra_info&&s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"Additional Information"}),s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap text-left",children:p.extra_info})]}),o&&N&&(N.going.length>0||N.interested.length>0)&&s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"Friends Attending"}),s.jsxs("div",{className:"space-y-4",children:[N.going.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-600 mb-2 text-left",children:["Going: ",N.going.length]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.going.map(D=>{var W;return s.jsxs(pt,{to:`/profile/${D.id}`,className:"flex items-center gap-2 bg-gray-100 rounded-full px-3 py-1 hover:bg-gray-200 transition-colors",children:[s.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center text-xs",children:(W=D.username)==null?void 0:W.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-sm",children:D.username})]},D.id)})})]}),N.interested.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-600 mb-2 text-left",children:["Interested: ",N.interested.length]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:N.interested.map(D=>{var W;return s.jsxs(pt,{to:`/profile/${D.id}`,className:"flex items-center gap-2 bg-gray-100 rounded-full px-3 py-1 hover:bg-gray-200 transition-colors",children:[s.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center text-xs",children:(W=D.username)==null?void 0:W.charAt(0).toUpperCase()}),s.jsx("span",{className:"text-sm",children:D.username})]},D.id)})})]})]})]}),p.organiser_name&&s.jsxs("div",{className:"text-left",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 text-left",children:"Hosted by"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-lg font-medium text-gray-600",children:p.organiser_name.charAt(0).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-left",children:p.organiser_name}),s.jsx("p",{className:"text-sm text-gray-600 text-left",children:"Event Organizer"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Be,{children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Yt,{className:"h-5 w-5 text-gray-600 mt-0.5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-1 text-left",children:"Location"}),s.jsx("p",{className:"text-sm text-gray-600 text-left",children:S}),s.jsx(ee,{variant:"link",className:"p-0 h-auto text-sm text-blue-600",children:"View on map"})]})]})})}),p.fee&&s.jsx(Be,{children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(wD,{className:"h-5 w-5 text-gray-600 mt-0.5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-1 text-left",children:"Booking Info"}),s.jsx("p",{className:"text-sm text-gray-600 mb-2 text-left",children:"Entry fee"}),s.jsxs("p",{className:"font-medium text-left",children:["",p.fee]}),p.organizer_link&&s.jsx(ee,{variant:"link",className:"p-0 h-auto text-sm text-blue-600 mt-2",asChild:!0,children:s.jsx("a",{href:p.organizer_link,target:"_blank",rel:"noopener noreferrer",children:"Organizer website"})})]})]})})}),o&&s.jsx(Be,{children:s.jsx(ut,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(xr,{className:"h-5 w-5 text-gray-600 mt-0.5"}),s.jsxs("div",{className:"w-full text-left",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3 text-left",children:"Attendees"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Going"}),s.jsx("span",{className:"text-sm font-medium",children:((R=N==null?void 0:N.going)==null?void 0:R.length)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Interested"}),s.jsx("span",{className:"text-sm font-medium",children:((M=N==null?void 0:N.interested)==null?void 0:M.length)||0})]})]})]})]})})})]})]}),t&&s.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:s.jsxs(pt,{to:"/events",className:"inline-flex items-center text-blue-600 hover:text-blue-800",children:[s.jsx(uh,{className:"h-4 w-4 mr-2"}),"Back to Events"]})})]})]})};var zu=e=>e.type==="checkbox",Di=e=>e instanceof Date,Ir=e=>e==null;const VC=e=>typeof e=="object";var Gt=e=>!Ir(e)&&!Array.isArray(e)&&VC(e)&&!Di(e),qC=e=>Gt(e)&&e.target?zu(e.target)?e.target.checked:e.target.value:e,nz=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,WC=(e,t)=>e.has(nz(t)),sz=e=>{const t=e.constructor&&e.constructor.prototype;return Gt(t)&&t.hasOwnProperty("isPrototypeOf")},vy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function vr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(vy&&(e instanceof Blob||n))&&(r||Gt(e)))if(t=r?[]:{},!r&&!sz(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=vr(e[a]));else return e;return t}var $h=e=>/^\w*$/.test(e),Wt=e=>e===void 0,xy=e=>Array.isArray(e)?e.filter(Boolean):[],yy=e=>xy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ne=(e,t,r)=>{if(!t||!Gt(e))return r;const n=($h(t)?[t]:yy(t)).reduce((a,o)=>Ir(a)?a:a[o],e);return Wt(n)||n===e?Wt(e[t])?r:e[t]:n},wn=e=>typeof e=="boolean",vt=(e,t,r)=>{let n=-1;const a=$h(t)?[t]:yy(t),o=a.length,c=o-1;for(;++n<o;){const u=a[n];let d=r;if(n!==c){const h=e[u];d=Gt(h)||Array.isArray(h)?h:isNaN(+a[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const Qf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Gs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},wy=te.createContext(null);wy.displayName="HookFormContext";const Zl=()=>te.useContext(wy),az=e=>{const{children:t,...r}=e;return te.createElement(wy.Provider,{value:r},t)};var HC=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const c=o;return t._proxyFormState[c]!==rs.all&&(t._proxyFormState[c]=!n||rs.all),r&&(r[c]=!0),e[c]}});return a};const by=typeof window<"u"?x.useLayoutEffect:x.useEffect;function iz(e){const t=Zl(),{control:r=t.control,disabled:n,name:a,exact:o}=e||{},[c,u]=te.useState(r._formState),d=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return by(()=>r._subscribe({name:a,formState:d.current,exact:o,callback:h=>{!n&&u({...r._formState,...h})}}),[a,n,o]),te.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),te.useMemo(()=>HC(c,r,d.current,!1),[c,r])}var Cs=e=>typeof e=="string",YC=(e,t,r,n,a)=>Cs(e)?(n&&t.watch.add(e),Ne(r,e,a)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),Ne(r,o))):(n&&(t.watchAll=!0),r);function oz(e){const t=Zl(),{control:r=t.control,name:n,defaultValue:a,disabled:o,exact:c}=e||{},u=te.useRef(a),[d,h]=te.useState(r._getWatch(n,u.current));return by(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:m=>!o&&h(YC(n,r._names,m.values||r._formValues,!1,u.current))}),[n,r,o,c]),te.useEffect(()=>r._removeUnmounted()),d}function lz(e){const t=Zl(),{name:r,disabled:n,control:a=t.control,shouldUnregister:o}=e,c=WC(a._names.array,r),u=oz({control:a,name:r,defaultValue:Ne(a._formValues,r,Ne(a._defaultValues,r,e.defaultValue)),exact:!0}),d=iz({control:a,name:r,exact:!0}),h=te.useRef(e),m=te.useRef(a.register(r,{...e.rules,value:u,...wn(e.disabled)?{disabled:e.disabled}:{}})),p=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ne(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!Ne(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Ne(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Ne(d.validatingFields,r)},error:{enumerable:!0,get:()=>Ne(d.errors,r)}}),[d,r]),v=te.useCallback(b=>m.current.onChange({target:{value:qC(b),name:r},type:Qf.CHANGE}),[r]),y=te.useCallback(()=>m.current.onBlur({target:{value:Ne(a._formValues,r),name:r},type:Qf.BLUR}),[r,a._formValues]),N=te.useCallback(b=>{const S=Ne(a._fields,r);S&&b&&(S._f.ref={focus:()=>b.focus&&b.focus(),select:()=>b.select&&b.select(),setCustomValidity:k=>b.setCustomValidity(k),reportValidity:()=>b.reportValidity()})},[a._fields,r]),_=te.useMemo(()=>({name:r,value:u,...wn(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:v,onBlur:y,ref:N}),[r,n,d.disabled,v,y,N,u]);return te.useEffect(()=>{const b=a._options.shouldUnregister||o;a.register(r,{...h.current.rules,...wn(h.current.disabled)?{disabled:h.current.disabled}:{}});const S=(k,C)=>{const P=Ne(a._fields,k);P&&P._f&&(P._f.mount=C)};if(S(r,!0),b){const k=vr(Ne(a._options.defaultValues,r));vt(a._defaultValues,r,k),Wt(Ne(a._formValues,r))&&vt(a._formValues,r,k)}return!c&&a.register(r),()=>{(c?b&&!a._state.action:b)?a.unregister(r):S(r,!1)}},[r,a,c,o]),te.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),te.useMemo(()=>({field:_,formState:d,fieldState:p}),[_,d,p])}const cz=e=>e.render(lz(e));var GC=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},au=e=>Array.isArray(e)?e:[e],D_=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},Lv=e=>Ir(e)||!VC(e);function Ba(e,t){if(Lv(e)||Lv(t))return e===t;if(Di(e)&&Di(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const o=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const c=t[a];if(Di(o)&&Di(c)||Gt(o)&&Gt(c)||Array.isArray(o)&&Array.isArray(c)?!Ba(o,c):o!==c)return!1}}return!0}var Jr=e=>Gt(e)&&!Object.keys(e).length,_y=e=>e.type==="file",ns=e=>typeof e=="function",Zf=e=>{if(!vy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},KC=e=>e.type==="select-multiple",jy=e=>e.type==="radio",uz=e=>jy(e)||zu(e),Ag=e=>Zf(e)&&e.isConnected;function dz(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Wt(e)?n++:e[t[n++]];return e}function fz(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wt(e[t]))return!1;return!0}function tr(e,t){const r=Array.isArray(t)?t:$h(t)?[t]:yy(t),n=r.length===1?e:dz(e,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(Gt(n)&&Jr(n)||Array.isArray(n)&&fz(n))&&tr(e,r.slice(0,-1)),e}var QC=e=>{for(const t in e)if(ns(e[t]))return!0;return!1};function Jf(e,t={}){const r=Array.isArray(e);if(Gt(e)||r)for(const n in e)Array.isArray(e[n])||Gt(e[n])&&!QC(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Jf(e[n],t[n])):Ir(e[n])||(t[n]=!0);return t}function ZC(e,t,r){const n=Array.isArray(e);if(Gt(e)||n)for(const a in e)Array.isArray(e[a])||Gt(e[a])&&!QC(e[a])?Wt(t)||Lv(r[a])?r[a]=Array.isArray(e[a])?Jf(e[a],[]):{...Jf(e[a])}:ZC(e[a],Ir(t)?{}:t[a],r[a]):r[a]=!Ba(e[a],t[a]);return r}var Hc=(e,t)=>ZC(e,t,Jf(t));const I_={value:!1,isValid:!1},L_={value:!0,isValid:!0};var JC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wt(e[0].attributes.value)?Wt(e[0].value)||e[0].value===""?L_:{value:e[0].value,isValid:!0}:L_:I_}return I_},XC=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Wt(e)?e:t?e===""?NaN:e&&+e:r&&Cs(e)?new Date(e):n?n(e):e;const F_={isValid:!1,value:null};var eE=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,F_):F_;function $_(e){const t=e.ref;return _y(t)?t.files:jy(t)?eE(e.refs).value:KC(t)?[...t.selectedOptions].map(({value:r})=>r):zu(t)?JC(e.refs).value:XC(Wt(t.value)?e.ref.value:t.value,e)}var hz=(e,t,r,n)=>{const a={};for(const o of e){const c=Ne(t,o);c&&vt(a,o,c._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Xf=e=>e instanceof RegExp,Yc=e=>Wt(e)?e:Xf(e)?e.source:Gt(e)?Xf(e.value)?e.value.source:e.value:e,U_=e=>({isOnSubmit:!e||e===rs.onSubmit,isOnBlur:e===rs.onBlur,isOnChange:e===rs.onChange,isOnAll:e===rs.all,isOnTouch:e===rs.onTouched});const z_="AsyncFunction";var mz=e=>!!e&&!!e.validate&&!!(ns(e.validate)&&e.validate.constructor.name===z_||Gt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===z_)),pz=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),B_=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const iu=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const o=Ne(e,a);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],a)&&!n)return!0;if(c.ref&&t(c.ref,c.name)&&!n)return!0;if(iu(u,t))break}else if(Gt(u)&&iu(u,t))break}}};function V_(e,t,r){const n=Ne(e,r);if(n||$h(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),c=Ne(t,o),u=Ne(e,o);if(c&&!Array.isArray(c)&&r!==o)return{name:r};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};a.pop()}return{name:r}}var gz=(e,t,r,n)=>{r(e);const{name:a,...o}=e;return Jr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(c=>t[c]===(!n||rs.all))},vz=(e,t,r)=>!e||!t||e===t||au(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),xz=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,yz=(e,t)=>!xy(Ne(e,t)).length&&tr(e,t),wz=(e,t,r)=>{const n=au(Ne(e,r));return vt(n,"root",t[r]),vt(e,r,n),e},Tf=e=>Cs(e);function q_(e,t,r="validate"){if(Tf(e)||Array.isArray(e)&&e.every(Tf)||wn(e)&&!e)return{type:r,message:Tf(e)?e:"",ref:t}}var Jo=e=>Gt(e)&&!Xf(e)?e:{value:e,message:""},W_=async(e,t,r,n,a,o)=>{const{ref:c,refs:u,required:d,maxLength:h,minLength:m,min:p,max:v,pattern:y,validate:N,name:_,valueAsNumber:b,mount:S}=e._f,k=Ne(r,_);if(!S||t.has(_))return{};const C=u?u[0]:c,P=V=>{a&&C.reportValidity&&(C.setCustomValidity(wn(V)?"":V||""),C.reportValidity())},T={},R=jy(c),M=zu(c),D=R||M,W=(b||_y(c))&&Wt(c.value)&&Wt(k)||Zf(c)&&c.value===""||k===""||Array.isArray(k)&&!k.length,B=GC.bind(null,_,n,T),Z=(V,K,H,me=Gs.maxLength,le=Gs.minLength)=>{const X=V?K:H;T[_]={type:V?me:le,message:X,ref:c,...B(V?me:le,X)}};if(o?!Array.isArray(k)||!k.length:d&&(!D&&(W||Ir(k))||wn(k)&&!k||M&&!JC(u).isValid||R&&!eE(u).isValid)){const{value:V,message:K}=Tf(d)?{value:!!d,message:d}:Jo(d);if(V&&(T[_]={type:Gs.required,message:K,ref:C,...B(Gs.required,K)},!n))return P(K),T}if(!W&&(!Ir(p)||!Ir(v))){let V,K;const H=Jo(v),me=Jo(p);if(!Ir(k)&&!isNaN(k)){const le=c.valueAsNumber||k&&+k;Ir(H.value)||(V=le>H.value),Ir(me.value)||(K=le<me.value)}else{const le=c.valueAsDate||new Date(k),X=se=>new Date(new Date().toDateString()+" "+se),U=c.type=="time",q=c.type=="week";Cs(H.value)&&k&&(V=U?X(k)>X(H.value):q?k>H.value:le>new Date(H.value)),Cs(me.value)&&k&&(K=U?X(k)<X(me.value):q?k<me.value:le<new Date(me.value))}if((V||K)&&(Z(!!V,H.message,me.message,Gs.max,Gs.min),!n))return P(T[_].message),T}if((h||m)&&!W&&(Cs(k)||o&&Array.isArray(k))){const V=Jo(h),K=Jo(m),H=!Ir(V.value)&&k.length>+V.value,me=!Ir(K.value)&&k.length<+K.value;if((H||me)&&(Z(H,V.message,K.message),!n))return P(T[_].message),T}if(y&&!W&&Cs(k)){const{value:V,message:K}=Jo(y);if(Xf(V)&&!k.match(V)&&(T[_]={type:Gs.pattern,message:K,ref:c,...B(Gs.pattern,K)},!n))return P(K),T}if(N){if(ns(N)){const V=await N(k,r),K=q_(V,C);if(K&&(T[_]={...K,...B(Gs.validate,K.message)},!n))return P(K.message),T}else if(Gt(N)){let V={};for(const K in N){if(!Jr(V)&&!n)break;const H=q_(await N[K](k,r),C,K);H&&(V={...H,...B(K,H.message)},P(H.message),n&&(T[_]=V))}if(!Jr(V)&&(T[_]={ref:C,...V},!n))return T}}return P(!0),T};const bz={mode:rs.onSubmit,reValidateMode:rs.onChange,shouldFocusError:!0};function _z(e={}){let t={...bz,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ns(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Gt(t.defaultValues)||Gt(t.values)?vr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:vr(a),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const v={array:D_(),state:D_()},y=t.criteriaMode===rs.all,N=I=>G=>{clearTimeout(h),h=setTimeout(I,G)},_=async I=>{if(!t.disabled&&(m.isValid||p.isValid||I)){const G=t.resolver?Jr((await M()).errors):await W(n,!0);G!==r.isValid&&v.state.next({isValid:G})}},b=(I,G)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((I||Array.from(u.mount)).forEach(oe=>{oe&&(G?vt(r.validatingFields,oe,G):tr(r.validatingFields,oe))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Jr(r.validatingFields)}))},S=(I,G=[],oe,we,ye=!0,ge=!0)=>{if(we&&oe&&!t.disabled){if(c.action=!0,ge&&Array.isArray(Ne(n,I))){const Se=oe(Ne(n,I),we.argA,we.argB);ye&&vt(n,I,Se)}if(ge&&Array.isArray(Ne(r.errors,I))){const Se=oe(Ne(r.errors,I),we.argA,we.argB);ye&&vt(r.errors,I,Se),yz(r.errors,I)}if((m.touchedFields||p.touchedFields)&&ge&&Array.isArray(Ne(r.touchedFields,I))){const Se=oe(Ne(r.touchedFields,I),we.argA,we.argB);ye&&vt(r.touchedFields,I,Se)}(m.dirtyFields||p.dirtyFields)&&(r.dirtyFields=Hc(a,o)),v.state.next({name:I,isDirty:Z(I,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(o,I,G)},k=(I,G)=>{vt(r.errors,I,G),v.state.next({errors:r.errors})},C=I=>{r.errors=I,v.state.next({errors:r.errors,isValid:!1})},P=(I,G,oe,we)=>{const ye=Ne(n,I);if(ye){const ge=Ne(o,I,Wt(oe)?Ne(a,I):oe);Wt(ge)||we&&we.defaultChecked||G?vt(o,I,G?ge:$_(ye._f)):H(I,ge),c.mount&&_()}},T=(I,G,oe,we,ye)=>{let ge=!1,Se=!1;const Ze={name:I};if(!t.disabled){if(!oe||we){(m.isDirty||p.isDirty)&&(Se=r.isDirty,r.isDirty=Ze.isDirty=Z(),ge=Se!==Ze.isDirty);const lt=Ba(Ne(a,I),G);Se=!!Ne(r.dirtyFields,I),lt?tr(r.dirtyFields,I):vt(r.dirtyFields,I,!0),Ze.dirtyFields=r.dirtyFields,ge=ge||(m.dirtyFields||p.dirtyFields)&&Se!==!lt}if(oe){const lt=Ne(r.touchedFields,I);lt||(vt(r.touchedFields,I,oe),Ze.touchedFields=r.touchedFields,ge=ge||(m.touchedFields||p.touchedFields)&&lt!==oe)}ge&&ye&&v.state.next(Ze)}return ge?Ze:{}},R=(I,G,oe,we)=>{const ye=Ne(r.errors,I),ge=(m.isValid||p.isValid)&&wn(G)&&r.isValid!==G;if(t.delayError&&oe?(d=N(()=>k(I,oe)),d(t.delayError)):(clearTimeout(h),d=null,oe?vt(r.errors,I,oe):tr(r.errors,I)),(oe?!Ba(ye,oe):ye)||!Jr(we)||ge){const Se={...we,...ge&&wn(G)?{isValid:G}:{},errors:r.errors,name:I};r={...r,...Se},v.state.next(Se)}},M=async I=>{b(I,!0);const G=await t.resolver(o,t.context,hz(I||u.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(I),G},D=async I=>{const{errors:G}=await M(I);if(I)for(const oe of I){const we=Ne(G,oe);we?vt(r.errors,oe,we):tr(r.errors,oe)}else r.errors=G;return G},W=async(I,G,oe={valid:!0})=>{for(const we in I){const ye=I[we];if(ye){const{_f:ge,...Se}=ye;if(ge){const Ze=u.array.has(ge.name),lt=ye._f&&mz(ye._f);lt&&m.validatingFields&&b([we],!0);const hr=await W_(ye,u.disabled,o,y,t.shouldUseNativeValidation&&!G,Ze);if(lt&&m.validatingFields&&b([we]),hr[ge.name]&&(oe.valid=!1,G))break;!G&&(Ne(hr,ge.name)?Ze?wz(r.errors,hr,ge.name):vt(r.errors,ge.name,hr[ge.name]):tr(r.errors,ge.name))}!Jr(Se)&&await W(Se,G,oe)}}return oe.valid},B=()=>{for(const I of u.unMount){const G=Ne(n,I);G&&(G._f.refs?G._f.refs.every(oe=>!Ag(oe)):!Ag(G._f.ref))&&ne(I)}u.unMount=new Set},Z=(I,G)=>!t.disabled&&(I&&G&&vt(o,I,G),!Ba(se(),a)),V=(I,G,oe)=>YC(I,u,{...c.mount?o:Wt(G)?a:Cs(I)?{[I]:G}:G},oe,G),K=I=>xy(Ne(c.mount?o:a,I,t.shouldUnregister?Ne(a,I,[]):[])),H=(I,G,oe={})=>{const we=Ne(n,I);let ye=G;if(we){const ge=we._f;ge&&(!ge.disabled&&vt(o,I,XC(G,ge)),ye=Zf(ge.ref)&&Ir(G)?"":G,KC(ge.ref)?[...ge.ref.options].forEach(Se=>Se.selected=ye.includes(Se.value)):ge.refs?zu(ge.ref)?ge.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(ye)?Se.checked=!!ye.find(Ze=>Ze===Se.value):Se.checked=ye===Se.value||!!ye)}):ge.refs.forEach(Se=>Se.checked=Se.value===ye):_y(ge.ref)?ge.ref.value="":(ge.ref.value=ye,ge.ref.type||v.state.next({name:I,values:vr(o)})))}(oe.shouldDirty||oe.shouldTouch)&&T(I,ye,oe.shouldTouch,oe.shouldDirty,!0),oe.shouldValidate&&q(I)},me=(I,G,oe)=>{for(const we in G){if(!G.hasOwnProperty(we))return;const ye=G[we],ge=I+"."+we,Se=Ne(n,ge);(u.array.has(I)||Gt(ye)||Se&&!Se._f)&&!Di(ye)?me(ge,ye,oe):H(ge,ye,oe)}},le=(I,G,oe={})=>{const we=Ne(n,I),ye=u.array.has(I),ge=vr(G);vt(o,I,ge),ye?(v.array.next({name:I,values:vr(o)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&oe.shouldDirty&&v.state.next({name:I,dirtyFields:Hc(a,o),isDirty:Z(I,ge)})):we&&!we._f&&!Ir(ge)?me(I,ge,oe):H(I,ge,oe),B_(I,u)&&v.state.next({...r}),v.state.next({name:c.mount?I:void 0,values:vr(o)})},X=async I=>{c.mount=!0;const G=I.target;let oe=G.name,we=!0;const ye=Ne(n,oe),ge=lt=>{we=Number.isNaN(lt)||Di(lt)&&isNaN(lt.getTime())||Ba(lt,Ne(o,oe,lt))},Se=U_(t.mode),Ze=U_(t.reValidateMode);if(ye){let lt,hr;const Cr=G.type?$_(ye._f):qC(I),yr=I.type===Qf.BLUR||I.type===Qf.FOCUS_OUT,fo=!pz(ye._f)&&!t.resolver&&!Ne(r.errors,oe)&&!ye._f.deps||xz(yr,Ne(r.touchedFields,oe),r.isSubmitted,Ze,Se),fs=B_(oe,u,yr);vt(o,oe,Cr),yr?(ye._f.onBlur&&ye._f.onBlur(I),d&&d(0)):ye._f.onChange&&ye._f.onChange(I);const mn=T(oe,Cr,yr),ho=!Jr(mn)||fs;if(!yr&&v.state.next({name:oe,type:I.type,values:vr(o)}),fo)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?yr&&_():yr||_()),ho&&v.state.next({name:oe,...fs?{}:mn});if(!yr&&fs&&v.state.next({...r}),t.resolver){const{errors:pn}=await M([oe]);if(ge(Cr),we){const gi=V_(r.errors,n,oe),fa=V_(pn,n,gi.name||oe);lt=fa.error,oe=fa.name,hr=Jr(pn)}}else b([oe],!0),lt=(await W_(ye,u.disabled,o,y,t.shouldUseNativeValidation))[oe],b([oe]),ge(Cr),we&&(lt?hr=!1:(m.isValid||p.isValid)&&(hr=await W(n,!0)));we&&(ye._f.deps&&q(ye._f.deps),R(oe,hr,lt,mn))}},U=(I,G)=>{if(Ne(r.errors,G)&&I.focus)return I.focus(),1},q=async(I,G={})=>{let oe,we;const ye=au(I);if(t.resolver){const ge=await D(Wt(I)?I:ye);oe=Jr(ge),we=I?!ye.some(Se=>Ne(ge,Se)):oe}else I?(we=(await Promise.all(ye.map(async ge=>{const Se=Ne(n,ge);return await W(Se&&Se._f?{[ge]:Se}:Se)}))).every(Boolean),!(!we&&!r.isValid)&&_()):we=oe=await W(n);return v.state.next({...!Cs(I)||(m.isValid||p.isValid)&&oe!==r.isValid?{}:{name:I},...t.resolver||!I?{isValid:oe}:{},errors:r.errors}),G.shouldFocus&&!we&&iu(n,U,I?ye:u.mount),we},se=I=>{const G={...c.mount?o:a};return Wt(I)?G:Cs(I)?Ne(G,I):I.map(oe=>Ne(G,oe))},L=(I,G)=>({invalid:!!Ne((G||r).errors,I),isDirty:!!Ne((G||r).dirtyFields,I),error:Ne((G||r).errors,I),isValidating:!!Ne(r.validatingFields,I),isTouched:!!Ne((G||r).touchedFields,I)}),O=I=>{I&&au(I).forEach(G=>tr(r.errors,G)),v.state.next({errors:I?r.errors:{}})},ie=(I,G,oe)=>{const we=(Ne(n,I,{_f:{}})._f||{}).ref,ye=Ne(r.errors,I)||{},{ref:ge,message:Se,type:Ze,...lt}=ye;vt(r.errors,I,{...lt,...G,ref:we}),v.state.next({name:I,errors:r.errors,isValid:!1}),oe&&oe.shouldFocus&&we&&we.focus&&we.focus()},ce=(I,G)=>ns(I)?v.state.subscribe({next:oe=>I(V(void 0,G),oe)}):V(I,G,!0),ue=I=>v.state.subscribe({next:G=>{vz(I.name,G.name,I.exact)&&gz(G,I.formState||m,fn,I.reRenderRoot)&&I.callback({values:{...o},...r,...G})}}).unsubscribe,xe=I=>(c.mount=!0,p={...p,...I.formState},ue({...I,formState:p})),ne=(I,G={})=>{for(const oe of I?au(I):u.mount)u.mount.delete(oe),u.array.delete(oe),G.keepValue||(tr(n,oe),tr(o,oe)),!G.keepError&&tr(r.errors,oe),!G.keepDirty&&tr(r.dirtyFields,oe),!G.keepTouched&&tr(r.touchedFields,oe),!G.keepIsValidating&&tr(r.validatingFields,oe),!t.shouldUnregister&&!G.keepDefaultValue&&tr(a,oe);v.state.next({values:vr(o)}),v.state.next({...r,...G.keepDirty?{isDirty:Z()}:{}}),!G.keepIsValid&&_()},be=({disabled:I,name:G})=>{(wn(I)&&c.mount||I||u.disabled.has(G))&&(I?u.disabled.add(G):u.disabled.delete(G))},_e=(I,G={})=>{let oe=Ne(n,I);const we=wn(G.disabled)||wn(t.disabled);return vt(n,I,{...oe||{},_f:{...oe&&oe._f?oe._f:{ref:{name:I}},name:I,mount:!0,...G}}),u.mount.add(I),oe?be({disabled:wn(G.disabled)?G.disabled:t.disabled,name:I}):P(I,!0,G.value),{...we?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Yc(G.min),max:Yc(G.max),minLength:Yc(G.minLength),maxLength:Yc(G.maxLength),pattern:Yc(G.pattern)}:{},name:I,onChange:X,onBlur:X,ref:ye=>{if(ye){_e(I,G),oe=Ne(n,I);const ge=Wt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Se=uz(ge),Ze=oe._f.refs||[];if(Se?Ze.find(lt=>lt===ge):ge===oe._f.ref)return;vt(n,I,{_f:{...oe._f,...Se?{refs:[...Ze.filter(Ag),ge,...Array.isArray(Ne(a,I))?[{}]:[]],ref:{type:ge.type,name:I}}:{ref:ge}}}),P(I,!1,void 0,ge)}else oe=Ne(n,I,{}),oe._f&&(oe._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(WC(u.array,I)&&c.action)&&u.unMount.add(I)}}},Le=()=>t.shouldFocusError&&iu(n,U,u.mount),Ke=I=>{wn(I)&&(v.state.next({disabled:I}),iu(n,(G,oe)=>{const we=Ne(n,oe);we&&(G.disabled=we._f.disabled||I,Array.isArray(we._f.refs)&&we._f.refs.forEach(ye=>{ye.disabled=we._f.disabled||I}))},0,!1))},et=(I,G)=>async oe=>{let we;oe&&(oe.preventDefault&&oe.preventDefault(),oe.persist&&oe.persist());let ye=vr(o);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:ge,values:Se}=await M();r.errors=ge,ye=Se}else await W(n);if(u.disabled.size)for(const ge of u.disabled)vt(ye,ge,void 0);if(tr(r.errors,"root"),Jr(r.errors)){v.state.next({errors:{}});try{await I(ye,oe)}catch(ge){we=ge}}else G&&await G({...r.errors},oe),Le(),setTimeout(Le);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jr(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},It=(I,G={})=>{Ne(n,I)&&(Wt(G.defaultValue)?le(I,vr(Ne(a,I))):(le(I,G.defaultValue),vt(a,I,vr(G.defaultValue))),G.keepTouched||tr(r.touchedFields,I),G.keepDirty||(tr(r.dirtyFields,I),r.isDirty=G.defaultValue?Z(I,vr(Ne(a,I))):Z()),G.keepError||(tr(r.errors,I),m.isValid&&_()),v.state.next({...r}))},Jt=(I,G={})=>{const oe=I?vr(I):a,we=vr(oe),ye=Jr(I),ge=ye?a:we;if(G.keepDefaultValues||(a=oe),!G.keepValues){if(G.keepDirtyValues){const Se=new Set([...u.mount,...Object.keys(Hc(a,o))]);for(const Ze of Array.from(Se))Ne(r.dirtyFields,Ze)?vt(ge,Ze,Ne(o,Ze)):le(Ze,Ne(ge,Ze))}else{if(vy&&Wt(I))for(const Se of u.mount){const Ze=Ne(n,Se);if(Ze&&Ze._f){const lt=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(Zf(lt)){const hr=lt.closest("form");if(hr){hr.reset();break}}}}for(const Se of u.mount)le(Se,Ne(ge,Se))}o=vr(ge),v.array.next({values:{...ge}}),v.state.next({values:{...ge}})}u={mount:G.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!m.isValid||!!G.keepIsValid||!!G.keepDirtyValues,c.watch=!!t.shouldUnregister,v.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:ye?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Ba(I,a)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ye?{}:G.keepDirtyValues?G.keepDefaultValues&&o?Hc(a,o):r.dirtyFields:G.keepDefaultValues&&I?Hc(a,I):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},un=(I,G)=>Jt(ns(I)?I(o):I,G),dn=(I,G={})=>{const oe=Ne(n,I),we=oe&&oe._f;if(we){const ye=we.refs?we.refs[0]:we.ref;ye.focus&&(ye.focus(),G.shouldSelect&&ns(ye.select)&&ye.select())}},fn=I=>{r={...r,...I}},hn={control:{register:_e,unregister:ne,getFieldState:L,handleSubmit:et,setError:ie,_subscribe:ue,_runSchema:M,_focusError:Le,_getWatch:V,_getDirty:Z,_setValid:_,_setFieldArray:S,_setDisabledField:be,_setErrors:C,_getFieldArray:K,_reset:Jt,_resetDefaultValues:()=>ns(t.defaultValues)&&t.defaultValues().then(I=>{un(I,t.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:Ke,_subjects:v,_proxyFormState:m,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state(I){c=I},get _defaultValues(){return a},get _names(){return u},set _names(I){u=I},get _formState(){return r},get _options(){return t},set _options(I){t={...t,...I}}},subscribe:xe,trigger:q,register:_e,handleSubmit:et,watch:ce,setValue:le,getValues:se,reset:un,resetField:It,clearErrors:O,unregister:ne,setError:ie,setFocus:dn,getFieldState:L};return{...hn,formControl:hn}}function Uh(e={}){const t=te.useRef(void 0),r=te.useRef(void 0),[n,a]=te.useState({isDirty:!1,isValidating:!1,isLoading:ns(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ns(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ns(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...u}=_z(e);t.current={...u,formState:n}}const o=t.current.control;return o._options=e,by(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),te.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),te.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),te.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),te.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),te.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==n.isDirty&&o._subjects.state.next({isDirty:c})}},[o,n.isDirty]),te.useEffect(()=>{e.values&&!Ba(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,a(c=>({...c}))):o._resetDefaultValues()},[o,e.values]),te.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=HC(n,o),t.current}const H_=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ne(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},tE=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?H_(n.ref,r,e):n.refs&&n.refs.forEach(a=>H_(a,r,e))}},jz=(e,t)=>{t.shouldUseNativeValidation&&tE(e,t);const r={};for(const n in e){const a=Ne(t.fields,n),o=Object.assign(e[n]||{},{ref:a&&a.ref});if(Nz(t.names||Object.keys(e),n)){const c=Object.assign({},Ne(r,n));vt(c,"root",o),vt(r,n,c)}else vt(r,n,o)}return r},Nz=(e,t)=>e.some(r=>r.startsWith(t+"."));var Sz=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,o=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[c]={message:u.message,type:u.code}}else r[c]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(p){return e.push(p)})}),t){var d=r[c].types,h=d&&d[n.code];r[c]=GC(c,t,r,a,h?[].concat(h,n.message):n.message)}e.shift()}return r},zh=function(e,t,r){return r===void 0&&(r={}),function(n,a,o){try{return Promise.resolve(function(c,u){try{var d=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(h){return o.shouldUseNativeValidation&&tE({},o),{errors:{},values:r.raw?n:h}})}catch(h){return u(h)}return d&&d.then?d.then(void 0,u):d}(0,function(c){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(c))return{values:{},errors:jz(Sz(c.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw c}))}catch(c){return Promise.reject(c)}}},ht;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const o={};for(const c of a)o[c]=c;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(u=>typeof a[a[u]]!="number"),c={};for(const u of o)c[u]=a[u];return e.objectValues(c)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&o.push(c);return o},e.find=(a,o)=>{for(const c of a)if(o(c))return c},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(ht||(ht={}));var Y_;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Y_||(Y_={}));const Me=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ua=e=>{switch(typeof e){case"undefined":return Me.undefined;case"string":return Me.string;case"number":return Number.isNaN(e)?Me.nan:Me.number;case"boolean":return Me.boolean;case"function":return Me.function;case"bigint":return Me.bigint;case"symbol":return Me.symbol;case"object":return Array.isArray(e)?Me.array:e===null?Me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Me.promise:typeof Map<"u"&&e instanceof Map?Me.map:typeof Set<"u"&&e instanceof Set?Me.set:typeof Date<"u"&&e instanceof Date?Me.date:Me.object;default:return Me.unknown}},ve=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ca extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const c of o.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,d=0;for(;d<c.path.length;){const h=c.path[d];d===c.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(r(c))):u[h]=u[h]||{_errors:[]},u=u[h],d++}}};return a(this),n}static assert(t){if(!(t instanceof ca))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ca.create=e=>new ca(e);const Fv=(e,t)=>{let r;switch(e.code){case ve.invalid_type:e.received===Me.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ht.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${ht.joinValues(e.keys,", ")}`;break;case ve.invalid_union:r="Invalid input";break;case ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ht.joinValues(e.options)}`;break;case ve.invalid_enum_value:r=`Invalid enum value. Expected ${ht.joinValues(e.options)}, received '${e.received}'`;break;case ve.invalid_arguments:r="Invalid function arguments";break;case ve.invalid_return_type:r="Invalid function return type";break;case ve.invalid_date:r="Invalid date";break;case ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ht.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ve.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ve.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ve.custom:r="Invalid input";break;case ve.invalid_intersection_types:r="Intersection results could not be merged";break;case ve.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ve.not_finite:r="Number must be finite";break;default:r=t.defaultError,ht.assertNever(e)}return{message:r}};let kz=Fv;function Cz(){return kz}const Ez=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,o=[...r,...a.path||[]],c={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let u="";const d=n.filter(h=>!!h).slice().reverse();for(const h of d)u=h(c,{data:t,defaultError:u}).message;return{...a,path:o,message:u}};function Ee(e,t){const r=Cz(),n=Ez({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Fv?void 0:Fv].filter(a=>!!a)});e.common.issues.push(n)}class Sn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return He;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const o=await a.key,c=await a.value;n.push({key:o,value:c})}return Sn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:o,value:c}=a;if(o.status==="aborted"||c.status==="aborted")return He;o.status==="dirty"&&t.dirty(),c.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(n[o.value]=c.value)}return{status:t.value,value:n}}}const He=Object.freeze({status:"aborted"}),Jc=e=>({status:"dirty",value:e}),Ln=e=>({status:"valid",value:e}),G_=e=>e.status==="aborted",K_=e=>e.status==="dirty",Al=e=>e.status==="valid",eh=e=>typeof Promise<"u"&&e instanceof Promise;var Ie;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ie||(Ie={}));class ci{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q_=(e,t)=>{if(Al(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ca(e.common.issues);return this._error=r,this._error}}};function rt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(c,u)=>{const{message:d}=e;return c.code==="invalid_enum_value"?{message:d??u.defaultError}:typeof u.data>"u"?{message:d??n??u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:d??r??u.defaultError}},description:a}}class dt{get description(){return this._def.description}_getType(t){return Ua(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ua(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Sn,ctx:{common:t.parent.common,data:t.data,parsedType:Ua(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(eh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ua(t)},a=this._parseSync({data:t,path:n.path,parent:n});return Q_(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ua(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:r});return Al(o)?{value:o.value}:{issues:r.common.issues}}catch(o){(a=(n=o==null?void 0:o.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(o=>Al(o)?{value:o.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ua(t)},a=this._parse({data:t,path:n.path,parent:n}),o=await(eh(a)?a:Promise.resolve(a));return Q_(n,o)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const c=t(a),u=()=>o.addIssue({code:ve.custom,...n(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(d=>d?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Dl({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return si.create(this,this._def)}nullable(){return Il.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ps.create(this)}promise(){return nh.create(this,this._def)}or(t){return th.create([this,t],this._def)}and(t){return rh.create(this,t,this._def)}transform(t){return new Dl({...rt(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new zv({...rt(this._def),innerType:this,defaultValue:r,typeName:Ye.ZodDefault})}brand(){return new Zz({typeName:Ye.ZodBranded,type:this,...rt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Bv({...rt(this._def),innerType:this,catchValue:r,typeName:Ye.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ny.create(this,t)}readonly(){return Vv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Pz=/^c[^\s-]{8,}$/i,Tz=/^[0-9a-z]+$/,Rz=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Az=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Oz=/^[a-z0-9_-]{21}$/i,Mz=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Dz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Iz=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Og;const Fz=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Uz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zz=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Bz=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vz=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qz=new RegExp(`^${rE}$`);function nE(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Wz(e){return new RegExp(`^${nE(e)}$`)}function Hz(e){let t=`${rE}T${nE(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Yz(e,t){return!!((t==="v4"||!t)&&Fz.test(e)||(t==="v6"||!t)&&Uz.test(e))}function Gz(e,t){if(!Mz.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Kz(e,t){return!!((t==="v4"||!t)&&$z.test(e)||(t==="v6"||!t)&&zz.test(e))}class ei extends dt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Me.string){const o=this._getOrReturnCtx(t);return Ee(o,{code:ve.invalid_type,expected:Me.string,received:o.parsedType}),He}const n=new Sn;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const c=t.data.length>o.value,u=t.data.length<o.value;(c||u)&&(a=this._getOrReturnCtx(t,a),c?Ee(a,{code:ve.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&Ee(a,{code:ve.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")Iz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"email",code:ve.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Og||(Og=new RegExp(Lz,"u")),Og.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"emoji",code:ve.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")Az.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"uuid",code:ve.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")Oz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"nanoid",code:ve.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")Pz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"cuid",code:ve.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")Tz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"cuid2",code:ve.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")Rz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"ulid",code:ve.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ee(a,{validation:"url",code:ve.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"regex",code:ve.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?Hz(o).test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?qz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?Wz(o).test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?Dz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"duration",code:ve.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?Yz(t.data,o.version)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"ip",code:ve.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?Gz(t.data,o.alg)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"jwt",code:ve.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?Kz(t.data,o.version)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"cidr",code:ve.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?Bz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"base64",code:ve.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?Vz.test(t.data)||(a=this._getOrReturnCtx(t,a),Ee(a,{validation:"base64url",code:ve.invalid_string,message:o.message}),n.dirty()):ht.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ve.invalid_string,...Ie.errToObj(n)})}_addCheck(t){return new ei({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ie.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ie.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ie.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ie.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ie.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ie.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ie.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ie.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ie.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ie.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ie.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ie.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ie.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ie.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ie.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ie.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ie.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ie.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ie.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ie.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ie.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ie.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ie.errToObj(r)})}nonempty(t){return this.min(1,Ie.errToObj(t))}trim(){return new ei({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ei({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ei.create=e=>new ei({checks:[],typeName:Ye.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});function Qz(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,o=Number.parseInt(e.toFixed(a).replace(".","")),c=Number.parseInt(t.toFixed(a).replace(".",""));return o%c/10**a}class Ol extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Me.number){const o=this._getOrReturnCtx(t);return Ee(o,{code:ve.invalid_type,expected:Me.number,received:o.parsedType}),He}let n;const a=new Sn;for(const o of this._def.checks)o.kind==="int"?ht.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?Qz(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.not_finite,message:o.message}),a.dirty()):ht.assertNever(o);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,a){return new Ol({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(a)}]})}_addCheck(t){return new Ol({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ie.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ie.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ht.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ol.create=e=>new Ol({checks:[],typeName:Ye.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class gu extends dt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Me.bigint)return this._getInvalidInput(t);let n;const a=new Sn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:ve.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):ht.assertNever(o);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:ve.invalid_type,expected:Me.bigint,received:r.parsedType}),He}gte(t,r){return this.setLimit("min",t,!0,Ie.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ie.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ie.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ie.toString(r))}setLimit(t,r,n,a){return new gu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ie.toString(a)}]})}_addCheck(t){return new gu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ie.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}gu.create=e=>new gu({checks:[],typeName:Ye.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});class Z_ extends dt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Me.boolean){const n=this._getOrReturnCtx(t);return Ee(n,{code:ve.invalid_type,expected:Me.boolean,received:n.parsedType}),He}return Ln(t.data)}}Z_.create=e=>new Z_({typeName:Ye.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class vu extends dt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Me.date){const o=this._getOrReturnCtx(t);return Ee(o,{code:ve.invalid_type,expected:Me.date,received:o.parsedType}),He}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Ee(o,{code:ve.invalid_date}),He}const n=new Sn;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),Ee(a,{code:ve.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):ht.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vu({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ie.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ie.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vu.create=e=>new vu({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ye.ZodDate,...rt(e)});class J_ extends dt{_parse(t){if(this._getType(t)!==Me.symbol){const n=this._getOrReturnCtx(t);return Ee(n,{code:ve.invalid_type,expected:Me.symbol,received:n.parsedType}),He}return Ln(t.data)}}J_.create=e=>new J_({typeName:Ye.ZodSymbol,...rt(e)});class X_ extends dt{_parse(t){if(this._getType(t)!==Me.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:ve.invalid_type,expected:Me.undefined,received:n.parsedType}),He}return Ln(t.data)}}X_.create=e=>new X_({typeName:Ye.ZodUndefined,...rt(e)});class ej extends dt{_parse(t){if(this._getType(t)!==Me.null){const n=this._getOrReturnCtx(t);return Ee(n,{code:ve.invalid_type,expected:Me.null,received:n.parsedType}),He}return Ln(t.data)}}ej.create=e=>new ej({typeName:Ye.ZodNull,...rt(e)});class tj extends dt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ln(t.data)}}tj.create=e=>new tj({typeName:Ye.ZodAny,...rt(e)});class rj extends dt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ln(t.data)}}rj.create=e=>new rj({typeName:Ye.ZodUnknown,...rt(e)});class ui extends dt{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:ve.invalid_type,expected:Me.never,received:r.parsedType}),He}}ui.create=e=>new ui({typeName:Ye.ZodNever,...rt(e)});class nj extends dt{_parse(t){if(this._getType(t)!==Me.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:ve.invalid_type,expected:Me.void,received:n.parsedType}),He}return Ln(t.data)}}nj.create=e=>new nj({typeName:Ye.ZodVoid,...rt(e)});class Ps extends dt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Me.array)return Ee(r,{code:ve.invalid_type,expected:Me.array,received:r.parsedType}),He;if(a.exactLength!==null){const c=r.data.length>a.exactLength.value,u=r.data.length<a.exactLength.value;(c||u)&&(Ee(r,{code:c?ve.too_big:ve.too_small,minimum:u?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ee(r,{code:ve.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ee(r,{code:ve.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>a.type._parseAsync(new ci(r,c,r.path,u)))).then(c=>Sn.mergeArray(n,c));const o=[...r.data].map((c,u)=>a.type._parseSync(new ci(r,c,r.path,u)));return Sn.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Ps({...this._def,minLength:{value:t,message:Ie.toString(r)}})}max(t,r){return new Ps({...this._def,maxLength:{value:t,message:Ie.toString(r)}})}length(t,r){return new Ps({...this._def,exactLength:{value:t,message:Ie.toString(r)}})}nonempty(t){return this.min(1,t)}}Ps.create=(e,t)=>new Ps({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...rt(t)});function sl(e){if(e instanceof Zt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=si.create(sl(n))}return new Zt({...e._def,shape:()=>t})}else return e instanceof Ps?new Ps({...e._def,type:sl(e.element)}):e instanceof si?si.create(sl(e.unwrap())):e instanceof Il?Il.create(sl(e.unwrap())):e instanceof to?to.create(e.items.map(t=>sl(t))):e}class Zt extends dt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ht.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Me.object){const h=this._getOrReturnCtx(t);return Ee(h,{code:ve.invalid_type,expected:Me.object,received:h.parsedType}),He}const{status:n,ctx:a}=this._processInputParams(t),{shape:o,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof ui&&this._def.unknownKeys==="strip"))for(const h in a.data)c.includes(h)||u.push(h);const d=[];for(const h of c){const m=o[h],p=a.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new ci(a,p,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof ui){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of u)d.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(h==="strict")u.length>0&&(Ee(a,{code:ve.unrecognized_keys,keys:u}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of u){const p=a.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new ci(a,p,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const p=await m.key,v=await m.value;h.push({key:p,value:v,alwaysSet:m.alwaysSet})}return h}).then(h=>Sn.mergeObjectSync(n,h)):Sn.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(t){return Ie.errToObj,new Zt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var o,c;const a=((c=(o=this._def).errorMap)==null?void 0:c.call(o,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ie.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Zt({...this._def,unknownKeys:"strip"})}passthrough(){return new Zt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Zt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Zt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ye.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Zt({...this._def,catchall:t})}pick(t){const r={};for(const n of ht.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Zt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ht.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Zt({...this._def,shape:()=>r})}deepPartial(){return sl(this)}partial(t){const r={};for(const n of ht.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Zt({...this._def,shape:()=>r})}required(t){const r={};for(const n of ht.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof si;)o=o._def.innerType;r[n]=o}return new Zt({...this._def,shape:()=>r})}keyof(){return sE(ht.objectKeys(this.shape))}}Zt.create=(e,t)=>new Zt({shape:()=>e,unknownKeys:"strip",catchall:ui.create(),typeName:Ye.ZodObject,...rt(t)});Zt.strictCreate=(e,t)=>new Zt({shape:()=>e,unknownKeys:"strict",catchall:ui.create(),typeName:Ye.ZodObject,...rt(t)});Zt.lazycreate=(e,t)=>new Zt({shape:e,unknownKeys:"strip",catchall:ui.create(),typeName:Ye.ZodObject,...rt(t)});class th extends dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const c=o.map(u=>new ca(u.ctx.common.issues));return Ee(r,{code:ve.invalid_union,unionErrors:c}),He}if(r.common.async)return Promise.all(n.map(async o=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(a);{let o;const c=[];for(const d of n){const h={...r,common:{...r.common,issues:[]},parent:null},m=d._parseSync({data:r.data,path:r.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const u=c.map(d=>new ca(d));return Ee(r,{code:ve.invalid_union,unionErrors:u}),He}}get options(){return this._def.options}}th.create=(e,t)=>new th({options:e,typeName:Ye.ZodUnion,...rt(t)});function $v(e,t){const r=Ua(e),n=Ua(t);if(e===t)return{valid:!0,data:e};if(r===Me.object&&n===Me.object){const a=ht.objectKeys(t),o=ht.objectKeys(e).filter(u=>a.indexOf(u)!==-1),c={...e,...t};for(const u of o){const d=$v(e[u],t[u]);if(!d.valid)return{valid:!1};c[u]=d.data}return{valid:!0,data:c}}else if(r===Me.array&&n===Me.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const c=e[o],u=t[o],d=$v(c,u);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return r===Me.date&&n===Me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class rh extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(o,c)=>{if(G_(o)||G_(c))return He;const u=$v(o.value,c.value);return u.valid?((K_(o)||K_(c))&&r.dirty(),{status:r.value,value:u.data}):(Ee(n,{code:ve.invalid_intersection_types}),He)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,c])=>a(o,c)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}rh.create=(e,t,r)=>new rh({left:e,right:t,typeName:Ye.ZodIntersection,...rt(r)});class to extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.array)return Ee(n,{code:ve.invalid_type,expected:Me.array,received:n.parsedType}),He;if(n.data.length<this._def.items.length)return Ee(n,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((c,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new ci(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(o).then(c=>Sn.mergeArray(r,c)):Sn.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new to({...this._def,rest:t})}}to.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new to({items:e,typeName:Ye.ZodTuple,rest:null,...rt(t)})};class sj extends dt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.map)return Ee(n,{code:ve.invalid_type,expected:Me.map,received:n.parsedType}),He;const a=this._def.keyType,o=this._def.valueType,c=[...n.data.entries()].map(([u,d],h)=>({key:a._parse(new ci(n,u,n.path,[h,"key"])),value:o._parse(new ci(n,d,n.path,[h,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of c){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return He;(h.status==="dirty"||m.status==="dirty")&&r.dirty(),u.set(h.value,m.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of c){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return He;(h.status==="dirty"||m.status==="dirty")&&r.dirty(),u.set(h.value,m.value)}return{status:r.value,value:u}}}}sj.create=(e,t,r)=>new sj({valueType:t,keyType:e,typeName:Ye.ZodMap,...rt(r)});class xu extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Me.set)return Ee(n,{code:ve.invalid_type,expected:Me.set,received:n.parsedType}),He;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ee(n,{code:ve.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ee(n,{code:ve.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function c(d){const h=new Set;for(const m of d){if(m.status==="aborted")return He;m.status==="dirty"&&r.dirty(),h.add(m.value)}return{status:r.value,value:h}}const u=[...n.data.values()].map((d,h)=>o._parse(new ci(n,d,n.path,h)));return n.common.async?Promise.all(u).then(d=>c(d)):c(u)}min(t,r){return new xu({...this._def,minSize:{value:t,message:Ie.toString(r)}})}max(t,r){return new xu({...this._def,maxSize:{value:t,message:Ie.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}xu.create=(e,t)=>new xu({valueType:e,minSize:null,maxSize:null,typeName:Ye.ZodSet,...rt(t)});class aj extends dt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}aj.create=(e,t)=>new aj({getter:e,typeName:Ye.ZodLazy,...rt(t)});class Uv extends dt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:ve.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:t.data}}get value(){return this._def.value}}Uv.create=(e,t)=>new Uv({value:e,typeName:Ye.ZodLiteral,...rt(t)});function sE(e,t){return new Ml({values:e,typeName:Ye.ZodEnum,...rt(t)})}class Ml extends dt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{expected:ht.joinValues(n),received:r.parsedType,code:ve.invalid_type}),He}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{received:r.data,code:ve.invalid_enum_value,options:n}),He}return Ln(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ml.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ml.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ml.create=sE;class ij extends dt{_parse(t){const r=ht.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Me.string&&n.parsedType!==Me.number){const a=ht.objectValues(r);return Ee(n,{expected:ht.joinValues(a),received:n.parsedType,code:ve.invalid_type}),He}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=ht.objectValues(r);return Ee(n,{received:n.data,code:ve.invalid_enum_value,options:a}),He}return Ln(t.data)}get enum(){return this._def.values}}ij.create=(e,t)=>new ij({values:e,typeName:Ye.ZodNativeEnum,...rt(t)});class nh extends dt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Me.promise&&r.common.async===!1)return Ee(r,{code:ve.invalid_type,expected:Me.promise,received:r.parsedType}),He;const n=r.parsedType===Me.promise?r.data:Promise.resolve(r.data);return Ln(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}nh.create=(e,t)=>new nh({type:e,typeName:Ye.ZodPromise,...rt(t)});class Dl extends dt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,o={addIssue:c=>{Ee(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const c=a.transform(n.data,o);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return He;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?He:d.status==="dirty"||r.value==="dirty"?Jc(d.value):d});{if(r.value==="aborted")return He;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?He:u.status==="dirty"||r.value==="dirty"?Jc(u.value):u}}if(a.type==="refinement"){const c=u=>{const d=a.refinement(u,o);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?He:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?He:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(a.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Al(c))return He;const u=a.transform(c.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>Al(c)?Promise.resolve(a.transform(c.value,o)).then(u=>({status:r.value,value:u})):He);ht.assertNever(a)}}Dl.create=(e,t,r)=>new Dl({schema:e,typeName:Ye.ZodEffects,effect:t,...rt(r)});Dl.createWithPreprocess=(e,t,r)=>new Dl({schema:t,effect:{type:"preprocess",transform:e},typeName:Ye.ZodEffects,...rt(r)});class si extends dt{_parse(t){return this._getType(t)===Me.undefined?Ln(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}si.create=(e,t)=>new si({innerType:e,typeName:Ye.ZodOptional,...rt(t)});class Il extends dt{_parse(t){return this._getType(t)===Me.null?Ln(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Il.create=(e,t)=>new Il({innerType:e,typeName:Ye.ZodNullable,...rt(t)});class zv extends dt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}zv.create=(e,t)=>new zv({innerType:e,typeName:Ye.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...rt(t)});class Bv extends dt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return eh(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ca(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ca(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Bv.create=(e,t)=>new Bv({innerType:e,typeName:Ye.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...rt(t)});class oj extends dt{_parse(t){if(this._getType(t)!==Me.nan){const n=this._getOrReturnCtx(t);return Ee(n,{code:ve.invalid_type,expected:Me.nan,received:n.parsedType}),He}return{status:"valid",value:t.data}}}oj.create=e=>new oj({typeName:Ye.ZodNaN,...rt(e)});class Zz extends dt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ny extends dt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?He:o.status==="dirty"?(r.dirty(),Jc(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?He:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Ny({in:t,out:r,typeName:Ye.ZodPipeline})}}class Vv extends dt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Al(a)&&(a.value=Object.freeze(a.value)),a);return eh(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Vv.create=(e,t)=>new Vv({innerType:e,typeName:Ye.ZodReadonly,...rt(t)});var Ye;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const $t=ei.create,Jz=Ol.create,lj=vu.create;ui.create;Ps.create;const Bh=Zt.create;th.create;rh.create;to.create;const cj=Uv.create,Xz=Ml.create;nh.create;si.create;Il.create;const aE=["festival","wellness","kite","beach","game","other","sports","surf","party","yoga","community","music","food","market","art"],uj=$t().refine(e=>{if(!e||e.trim()==="")return!0;const t=e.trim();try{const r=t.match(/^https?:\/\//i)?t:`http://${t}`;return new URL(r),!0}catch{return!1}},{message:"Please enter a valid URL (protocol will be added automatically if missing)"}),eB=Bh({title:$t().min(3,"Title must be at least 3 characters long"),description:$t().min(10,"Description must be at least 10 characters long"),event_category:Xz(aE,{errorMap:()=>({message:"Please select a valid event category"})}),start_date:lj({required_error:"Start date is required"}),start_time:$t().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Please enter a valid time (HH:MM)"),end_date:lj({required_error:"End date is required"}),end_time:$t().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/,"Please enter a valid time (HH:MM)"),venue_id:$t().nonempty("Please select a venue"),organizer_link:uj,fee:$t().or(Jz().min(0,"Fee must be a positive number").transform(e=>e.toString())),booking_link:uj,extra_info:$t().optional().default(""),tags:$t().optional().default(""),vibe:$t().nullable().optional()}),tB=(e,t)=>{const r=e.tags?e.tags.split(",").map(o=>o.trim()).filter(o=>o.length>0):[],n=e.start_date?e.start_date.toISOString().split("T")[0]:null,a=e.end_date?e.end_date.toISOString().split("T")[0]:null;return{title:e.title,description:e.description,event_category:e.event_category,start_date:n,start_time:e.start_time,end_date:a,end_time:e.end_time,venue_id:e.venue_id,organizer_link:e.organizer_link||null,fee:parseFloat(e.fee)||0,booking_link:e.booking_link||null,extra_info:e.extra_info||"",tags:r,vibe:e.vibe||null,created_by:t}},rB=async()=>{const{data:e,error:t}=await ae.from("venues").select("*").order("name",{ascending:!0});if(t)throw console.error("Error fetching venues:",t),new Error(t.message);return e||[]},Sy=()=>{const{data:e,isLoading:t,error:r,isSuccess:n}=sr({queryKey:["venues"],queryFn:rB});return{venues:e||[],isLoading:t,error:r,isSuccess:n}},dj=e=>{if(!e)return e;const t=e.trim();return!t||t.match(/^https?:\/\//i)?t:`http://${t}`},nB=({eventId:e,isEditMode:t=!1,initialData:r})=>{const n=ot(),{user:a}=Xe(),[o,c]=x.useState(!1),{venues:u,isLoading:d}=Sy(),[h,m]=x.useState(!1),p=Ms(),v=Uh({resolver:zh(eB),defaultValues:{title:"",description:"",event_category:"other",start_date:new Date,start_time:"",end_date:new Date,end_time:"",venue_id:"",organizer_link:"",fee:"0",booking_link:"",extra_info:"",tags:"",vibe:null},mode:"onChange"});return x.useEffect(()=>{var b,S,k;if(t&&r){console.log("Populating form with initial data:",r);const C=r,P={title:C.title||"",description:C.description||"",event_category:C.event_category||C.event_type||"other",start_date:C.start_date?new Date(C.start_date):new Date,start_time:((b=C.start_time)==null?void 0:b.substring(0,5))||"",end_date:C.end_date?new Date(C.end_date):new Date,end_time:((S=C.end_time)==null?void 0:S.substring(0,5))||"",venue_id:C.venue_id||"",organizer_link:C.organizer_link||"",fee:((k=C.fee)==null?void 0:k.toString())||"0",booking_link:C.booking_link||"",extra_info:C.extra_info||"",tags:Array.isArray(C.tags)?C.tags.join(", "):C.tags||"",vibe:C.vibe||null};console.log("Setting form values:",P),Object.entries(P).forEach(([T,R])=>{v.setValue(T,R)}),v.trigger()}},[t,r,v]),{form:v,isSubmitting:o,isEditMode:t,venues:u,isLoadingVenues:d,isCreateVenueModalOpen:h,setCreateVenueModalOpen:m,handleVenueCreated:b=>{p.invalidateQueries({queryKey:["venues"]}),v.setValue("venue_id",b.id,{shouldValidate:!0,shouldDirty:!0}),m(!1)},onSubmit:async b=>{var S,k,C,P,T,R,M,D,W;if(console.log("Form submission started with data:",b),!a){st({title:"Authentication Required",description:"You must be logged in to create an event.",variant:"destructive"});return}c(!0);try{const B={...b,organizer_link:b.organizer_link?dj(b.organizer_link):"",booking_link:b.booking_link?dj(b.booking_link):"",extra_info:b.extra_info||""},Z=tB(B,a.id);if(console.log("Processed event data for submission:",JSON.stringify(Z,null,2)),t&&e){console.log("Updating event with ID:",e);const{error:V}=await V7(e,Z);if(V){console.error("Failed to update event",V),console.error("Supabase error details:",JSON.stringify(V,null,2));let K="Failed to update event";(S=V.message)!=null&&S.includes("duplicate key")?K="An event with this title already exists. Please choose a different title.":(k=V.message)!=null&&k.includes("invalid input")?K="Please check your input data and try again.":(C=V.message)!=null&&C.includes("extra_info")?K="There was an issue with the additional information field. Please try again.":V.message&&(K=V.message),st({title:"Update Failed",description:K,variant:"destructive"});return}console.log("Event updated successfully"),st({title:"Event Updated! ",description:"Your event changes have been saved successfully."}),await p.invalidateQueries({queryKey:["events"]}),await p.invalidateQueries({queryKey:["event-details",e]}),await p.refetchQueries({queryKey:["events"]}),n("/events")}else{console.log("Creating new event");const{data:V,error:K}=await B7(Z);if(K){console.error("Failed to create event",K),console.error("Supabase error details:",JSON.stringify(K,null,2));let H="Failed to create event";(P=K.message)!=null&&P.includes("duplicate key")?H="An event with this title already exists. Please choose a different title.":(T=K.message)!=null&&T.includes("invalid input")?H="Please check your input data and try again.":(R=K.message)!=null&&R.includes("venue_id")?H="Please select a valid venue for your event.":(M=K.message)!=null&&M.includes("extra_info")?H="There was an issue with the additional information field. Please try again.":K.message&&(H=K.message),st({title:"Creation Failed",description:H,variant:"destructive"});return}console.log("Event created successfully in DB:",V),st({title:"Event Created! ",description:"Your new event is now live and ready for RSVPs."}),await p.invalidateQueries({queryKey:["events"]}),await p.refetchQueries({queryKey:["events"]}),setTimeout(()=>{n("/events")},500)}}catch(B){console.error("Form submission error",B);let Z="Failed to save event. Please try again.";(D=B==null?void 0:B.message)!=null&&D.includes("Network")?Z="Network error. Please check your connection and try again.":(W=B==null?void 0:B.message)!=null&&W.includes("extra_info")?Z="There was an issue with the additional information field. Please try again.":B!=null&&B.message&&(Z=B.message),st({title:"Error",description:Z,variant:"destructive"})}finally{c(!1)}},onInvalid:b=>{console.log("Form validation errors:",b);const S=Object.keys(b),k=b[S[0]];st({title:"Form Validation Error",description:(k==null?void 0:k.message)||"Please correct the errors in the form",variant:"destructive"});const C=document.querySelector(`[name="${S[0]}"]`);C&&(C.scrollIntoView({behavior:"smooth",block:"center"}),C.focus())}}},sB=Bh({name:$t().min(3,{message:"Venue name must be at least 3 characters long."}),city:$t().optional(),street:$t().optional(),postal_code:$t().optional(),website:$t().url({message:"Please enter a valid URL."}).or(cj("")).optional(),google_maps:$t().url({message:"Please enter a valid URL."}).or(cj("")).optional()}),gt=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:re("flex h-11 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));gt.displayName="Input";var aB="Label",iE=x.forwardRef((e,t)=>s.jsx(Re.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));iE.displayName=aB;var oE=iE;const iB=Cu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),At=x.forwardRef(({className:e,...t},r)=>s.jsx(oE,{ref:r,className:re(iB(),e),...t}));At.displayName=oE.displayName;const Vh=az,lE=x.createContext({}),_n=({...e})=>s.jsx(lE.Provider,{value:{name:e.name},children:s.jsx(cz,{...e})}),qh=()=>{const e=x.useContext(lE),t=x.useContext(cE),{getFieldState:r,formState:n}=Zl(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},cE=x.createContext({}),kr=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return s.jsx(cE.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:re("space-y-2",e),...t})})});kr.displayName="FormItem";const jn=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=qh();return s.jsx(At,{ref:r,className:re(n&&"text-destructive",e),htmlFor:a,...t})});jn.displayName="FormLabel";const en=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:o}=qh();return s.jsx(hN,{ref:t,id:n,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...e})});en.displayName="FormControl";const Wh=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=qh();return s.jsx("p",{ref:r,id:n,className:re("text-sm text-muted-foreground",e),...t})});Wh.displayName="FormDescription";const tn=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:o}=qh(),c=a?String(a==null?void 0:a.message):t;return c?s.jsx("p",{ref:n,id:o,className:re("text-sm font-medium text-destructive",e),...r,children:c}):null});tn.displayName="FormMessage";const oB=({onSubmit:e,isSubmitting:t,venue:r})=>{const n=Uh({resolver:zh(sB),defaultValues:{name:(r==null?void 0:r.name)||"",city:(r==null?void 0:r.city)||"",street:(r==null?void 0:r.street)||"",postal_code:(r==null?void 0:r.postal_code)||"",website:(r==null?void 0:r.website)||"",google_maps:(r==null?void 0:r.google_maps)||""}}),a=!!r;return s.jsx(Vh,{...n,children:s.jsxs("form",{onSubmit:n.handleSubmit(e),className:"space-y-4",children:[s.jsx(_n,{control:n.control,name:"name",render:({field:o})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Venue Name"}),s.jsx(en,{children:s.jsx(gt,{placeholder:"e.g., The Surf Shack",...o})}),s.jsx(tn,{})]})}),s.jsx(_n,{control:n.control,name:"city",render:({field:o})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"City"}),s.jsx(en,{children:s.jsx(gt,{placeholder:"e.g., Zandvoort",...o})}),s.jsx(tn,{})]})}),s.jsx(_n,{control:n.control,name:"street",render:({field:o})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Street"}),s.jsx(en,{children:s.jsx(gt,{placeholder:"e.g., Beach Road 1",...o})}),s.jsx(tn,{})]})}),s.jsx(_n,{control:n.control,name:"postal_code",render:({field:o})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Postal Code"}),s.jsx(en,{children:s.jsx(gt,{placeholder:"e.g., 2042",...o})}),s.jsx(tn,{})]})}),s.jsx(_n,{control:n.control,name:"website",render:({field:o})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Website (Optional)"}),s.jsx(en,{children:s.jsx(gt,{type:"url",placeholder:"https://example.com",...o})}),s.jsx(tn,{})]})}),s.jsx(_n,{control:n.control,name:"google_maps",render:({field:o})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Google Maps Link (Optional)"}),s.jsx(en,{children:s.jsx(gt,{type:"url",placeholder:"https://maps.google.com/...",...o})}),s.jsx(tn,{})]})}),s.jsx(ee,{type:"submit",disabled:t,className:"w-full",children:t?a?"Updating...":"Creating...":a?"Update Venue":"Create Venue"})]})})},lB=async e=>{const{data:t,error:r}=await ae.from("venues").insert(e).select().single();return r&&console.error("Error creating venue:",r),{data:t,error:r}},cB=async(e,t)=>{const{data:r,error:n}=await ae.from("venues").update(t).eq("id",e).select().single();return n&&console.error("Error updating venue:",n),{data:r,error:n}},uB=async e=>{const{error:t}=await ae.from("venues").delete().eq("id",e);return t&&console.error("Error deleting venue:",t),{error:t}};var dB=e=>{switch(e){case"success":return mB;case"info":return gB;case"warning":return pB;case"error":return vB;default:return null}},fB=Array(12).fill(0),hB=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},fB.map((r,n)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mB=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pB=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gB=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vB=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xB=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),yB=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},qv=1,wB=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:qv++,o=this.toasts.find(u=>u.id===a),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...e,id:a,title:r}),{...u,...e,id:a,dismissible:c,title:r}):u):this.addToast({title:r,...n,dismissible:c,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,o,c=n.then(async d=>{if(o=["resolve",d],te.isValidElement(d))a=!1,this.create({id:r,type:"default",message:d});else if(_B(d)&&!d.ok){a=!1;let h=typeof t.error=="function"?await t.error(`HTTP error! status: ${d.status}`):t.error,m=typeof t.description=="function"?await t.description(`HTTP error! status: ${d.status}`):t.description;this.create({id:r,type:"error",message:h,description:m})}else if(t.success!==void 0){a=!1;let h=typeof t.success=="function"?await t.success(d):t.success,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async d=>{if(o=["reject",d],t.error!==void 0){a=!1;let h=typeof t.error=="function"?await t.error(d):t.error,m=typeof t.description=="function"?await t.description(d):t.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var d;a&&(this.dismiss(r),r=void 0),(d=t.finally)==null||d.call(t)}),u=()=>new Promise((d,h)=>c.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||qv++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xr=new wB,bB=(e,t)=>{let r=(t==null?void 0:t.id)||qv++;return Xr.addToast({title:e,...t,id:r}),r},_B=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",jB=bB,NB=()=>Xr.toasts,SB=()=>Xr.getActiveToasts(),Ut=Object.assign(jB,{success:Xr.success,info:Xr.info,warning:Xr.warning,error:Xr.error,custom:Xr.custom,message:Xr.message,promise:Xr.promise,dismiss:Xr.dismiss,loading:Xr.loading},{getHistory:NB,getToasts:SB});function kB(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}kB(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wf(e){return e.label!==void 0}var CB=3,EB="32px",PB="16px",fj=4e3,TB=356,RB=14,AB=20,OB=200;function Yn(...e){return e.filter(Boolean).join(" ")}function MB(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var DB=e=>{var t,r,n,a,o,c,u,d,h,m,p;let{invert:v,toast:y,unstyled:N,interacting:_,setHeights:b,visibleToasts:S,heights:k,index:C,toasts:P,expanded:T,removeToast:R,defaultRichColors:M,closeButton:D,style:W,cancelButtonStyle:B,actionButtonStyle:Z,className:V="",descriptionClassName:K="",duration:H,position:me,gap:le,loadingIcon:X,expandByDefault:U,classNames:q,icons:se,closeButtonAriaLabel:L="Close toast",pauseWhenPageIsHidden:O}=e,[ie,ce]=te.useState(null),[ue,xe]=te.useState(null),[ne,be]=te.useState(!1),[_e,Le]=te.useState(!1),[Ke,et]=te.useState(!1),[It,Jt]=te.useState(!1),[un,dn]=te.useState(!1),[fn,Ls]=te.useState(0),[hn,I]=te.useState(0),G=te.useRef(y.duration||H||fj),oe=te.useRef(null),we=te.useRef(null),ye=C===0,ge=C+1<=S,Se=y.type,Ze=y.dismissible!==!1,lt=y.className||"",hr=y.descriptionClassName||"",Cr=te.useMemo(()=>k.findIndex(qe=>qe.toastId===y.id)||0,[k,y.id]),yr=te.useMemo(()=>{var qe;return(qe=y.closeButton)!=null?qe:D},[y.closeButton,D]),fo=te.useMemo(()=>y.duration||H||fj,[y.duration,H]),fs=te.useRef(0),mn=te.useRef(0),ho=te.useRef(0),pn=te.useRef(null),[gi,fa]=me.split("-"),mo=te.useMemo(()=>k.reduce((qe,mt,_t)=>_t>=Cr?qe:qe+mt.height,0),[k,Cr]),po=yB(),ha=y.invert||v,hs=Se==="loading";mn.current=te.useMemo(()=>Cr*le+mo,[Cr,mo]),te.useEffect(()=>{G.current=fo},[fo]),te.useEffect(()=>{be(!0)},[]),te.useEffect(()=>{let qe=we.current;if(qe){let mt=qe.getBoundingClientRect().height;return I(mt),b(_t=>[{toastId:y.id,height:mt,position:y.position},..._t]),()=>b(_t=>_t.filter(Er=>Er.toastId!==y.id))}},[b,y.id]),te.useLayoutEffect(()=>{if(!ne)return;let qe=we.current,mt=qe.style.height;qe.style.height="auto";let _t=qe.getBoundingClientRect().height;qe.style.height=mt,I(_t),b(Er=>Er.find(zr=>zr.toastId===y.id)?Er.map(zr=>zr.toastId===y.id?{...zr,height:_t}:zr):[{toastId:y.id,height:_t,position:y.position},...Er])},[ne,y.title,y.description,b,y.id]);let Fn=te.useCallback(()=>{Le(!0),Ls(mn.current),b(qe=>qe.filter(mt=>mt.toastId!==y.id)),setTimeout(()=>{R(y)},OB)},[y,R,b,mn]);te.useEffect(()=>{if(y.promise&&Se==="loading"||y.duration===1/0||y.type==="loading")return;let qe;return T||_||O&&po?(()=>{if(ho.current<fs.current){let mt=new Date().getTime()-fs.current;G.current=G.current-mt}ho.current=new Date().getTime()})():G.current!==1/0&&(fs.current=new Date().getTime(),qe=setTimeout(()=>{var mt;(mt=y.onAutoClose)==null||mt.call(y,y),Fn()},G.current)),()=>clearTimeout(qe)},[T,_,y,Se,O,po,Fn]),te.useEffect(()=>{y.delete&&Fn()},[Fn,y.delete]);function qu(){var qe,mt,_t;return se!=null&&se.loading?te.createElement("div",{className:Yn(q==null?void 0:q.loader,(qe=y==null?void 0:y.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Se==="loading"},se.loading):X?te.createElement("div",{className:Yn(q==null?void 0:q.loader,(mt=y==null?void 0:y.classNames)==null?void 0:mt.loader,"sonner-loader"),"data-visible":Se==="loading"},X):te.createElement(hB,{className:Yn(q==null?void 0:q.loader,(_t=y==null?void 0:y.classNames)==null?void 0:_t.loader),visible:Se==="loading"})}return te.createElement("li",{tabIndex:0,ref:we,className:Yn(V,lt,q==null?void 0:q.toast,(t=y==null?void 0:y.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[Se],(r=y==null?void 0:y.classNames)==null?void 0:r[Se]),"data-sonner-toast":"","data-rich-colors":(n=y.richColors)!=null?n:M,"data-styled":!(y.jsx||y.unstyled||N),"data-mounted":ne,"data-promise":!!y.promise,"data-swiped":un,"data-removed":_e,"data-visible":ge,"data-y-position":gi,"data-x-position":fa,"data-index":C,"data-front":ye,"data-swiping":Ke,"data-dismissible":Ze,"data-type":Se,"data-invert":ha,"data-swipe-out":It,"data-swipe-direction":ue,"data-expanded":!!(T||U&&ne),style:{"--index":C,"--toasts-before":C,"--z-index":P.length-C,"--offset":`${_e?fn:mn.current}px`,"--initial-height":U?"auto":`${hn}px`,...W,...y.style},onDragEnd:()=>{et(!1),ce(null),pn.current=null},onPointerDown:qe=>{hs||!Ze||(oe.current=new Date,Ls(mn.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(et(!0),pn.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,mt,_t,Er;if(It||!Ze)return;pn.current=null;let zr=Number(((qe=we.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Br=Number(((mt=we.current)==null?void 0:mt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$n=new Date().getTime()-((_t=oe.current)==null?void 0:_t.getTime()),mr=ie==="x"?zr:Br,ms=Math.abs(mr)/$n;if(Math.abs(mr)>=AB||ms>.11){Ls(mn.current),(Er=y.onDismiss)==null||Er.call(y,y),xe(ie==="x"?zr>0?"right":"left":Br>0?"down":"up"),Fn(),Jt(!0),dn(!1);return}et(!1),ce(null)},onPointerMove:qe=>{var mt,_t,Er,zr;if(!pn.current||!Ze||((mt=window.getSelection())==null?void 0:mt.toString().length)>0)return;let Br=qe.clientY-pn.current.y,$n=qe.clientX-pn.current.x,mr=(_t=e.swipeDirections)!=null?_t:MB(me);!ie&&(Math.abs($n)>1||Math.abs(Br)>1)&&ce(Math.abs($n)>Math.abs(Br)?"x":"y");let ms={x:0,y:0};ie==="y"?(mr.includes("top")||mr.includes("bottom"))&&(mr.includes("top")&&Br<0||mr.includes("bottom")&&Br>0)&&(ms.y=Br):ie==="x"&&(mr.includes("left")||mr.includes("right"))&&(mr.includes("left")&&$n<0||mr.includes("right")&&$n>0)&&(ms.x=$n),(Math.abs(ms.x)>0||Math.abs(ms.y)>0)&&dn(!0),(Er=we.current)==null||Er.style.setProperty("--swipe-amount-x",`${ms.x}px`),(zr=we.current)==null||zr.style.setProperty("--swipe-amount-y",`${ms.y}px`)}},yr&&!y.jsx?te.createElement("button",{"aria-label":L,"data-disabled":hs,"data-close-button":!0,onClick:hs||!Ze?()=>{}:()=>{var qe;Fn(),(qe=y.onDismiss)==null||qe.call(y,y)},className:Yn(q==null?void 0:q.closeButton,(a=y==null?void 0:y.classNames)==null?void 0:a.closeButton)},(o=se==null?void 0:se.close)!=null?o:xB):null,y.jsx||x.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:te.createElement(te.Fragment,null,Se||y.icon||y.promise?te.createElement("div",{"data-icon":"",className:Yn(q==null?void 0:q.icon,(c=y==null?void 0:y.classNames)==null?void 0:c.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||qu():null,y.type!=="loading"?y.icon||(se==null?void 0:se[Se])||dB(Se):null):null,te.createElement("div",{"data-content":"",className:Yn(q==null?void 0:q.content,(u=y==null?void 0:y.classNames)==null?void 0:u.content)},te.createElement("div",{"data-title":"",className:Yn(q==null?void 0:q.title,(d=y==null?void 0:y.classNames)==null?void 0:d.title)},typeof y.title=="function"?y.title():y.title),y.description?te.createElement("div",{"data-description":"",className:Yn(K,hr,q==null?void 0:q.description,(h=y==null?void 0:y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),x.isValidElement(y.cancel)?y.cancel:y.cancel&&wf(y.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||B,onClick:qe=>{var mt,_t;wf(y.cancel)&&Ze&&((_t=(mt=y.cancel).onClick)==null||_t.call(mt,qe),Fn())},className:Yn(q==null?void 0:q.cancelButton,(m=y==null?void 0:y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,x.isValidElement(y.action)?y.action:y.action&&wf(y.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||Z,onClick:qe=>{var mt,_t;wf(y.action)&&((_t=(mt=y.action).onClick)==null||_t.call(mt,qe),!qe.defaultPrevented&&Fn())},className:Yn(q==null?void 0:q.actionButton,(p=y==null?void 0:y.classNames)==null?void 0:p.actionButton)},y.action.label):null))};function hj(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function IB(e,t){let r={};return[e,t].forEach((n,a)=>{let o=a===1,c=o?"--mobile-offset":"--offset",u=o?PB:EB;function d(h){["top","right","bottom","left"].forEach(m=>{r[`${c}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=u:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(u)}),r}x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:d,mobileOffset:h,theme:m="light",richColors:p,duration:v,style:y,visibleToasts:N=CB,toastOptions:_,dir:b=hj(),gap:S=RB,loadingIcon:k,icons:C,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:T}=e,[R,M]=te.useState([]),D=te.useMemo(()=>Array.from(new Set([n].concat(R.filter(O=>O.position).map(O=>O.position)))),[R,n]),[W,B]=te.useState([]),[Z,V]=te.useState(!1),[K,H]=te.useState(!1),[me,le]=te.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=te.useRef(null),U=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=te.useRef(null),se=te.useRef(!1),L=te.useCallback(O=>{M(ie=>{var ce;return(ce=ie.find(ue=>ue.id===O.id))!=null&&ce.delete||Xr.dismiss(O.id),ie.filter(({id:ue})=>ue!==O.id)})},[]);return te.useEffect(()=>Xr.subscribe(O=>{if(O.dismiss){M(ie=>ie.map(ce=>ce.id===O.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{Dj.flushSync(()=>{M(ie=>{let ce=ie.findIndex(ue=>ue.id===O.id);return ce!==-1?[...ie.slice(0,ce),{...ie[ce],...O},...ie.slice(ce+1)]:[O,...ie]})})})}),[]),te.useEffect(()=>{if(m!=="system"){le(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;let O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:ie})=>{le(ie?"dark":"light")})}catch{O.addListener(({matches:ce})=>{try{le(ce?"dark":"light")}catch(ue){console.error(ue)}})}},[m]),te.useEffect(()=>{R.length<=1&&V(!1)},[R]),te.useEffect(()=>{let O=ie=>{var ce,ue;a.every(xe=>ie[xe]||ie.code===xe)&&(V(!0),(ce=X.current)==null||ce.focus()),ie.code==="Escape"&&(document.activeElement===X.current||(ue=X.current)!=null&&ue.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[a]),te.useEffect(()=>{if(X.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,se.current=!1)}},[X.current]),te.createElement("section",{ref:t,"aria-label":`${P} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((O,ie)=>{var ce;let[ue,xe]=O.split("-");return R.length?te.createElement("ol",{key:O,dir:b==="auto"?hj():b,tabIndex:-1,ref:X,className:u,"data-sonner-toaster":!0,"data-theme":me,"data-y-position":ue,"data-lifted":Z&&R.length>1&&!o,"data-x-position":xe,style:{"--front-toast-height":`${((ce=W[0])==null?void 0:ce.height)||0}px`,"--width":`${TB}px`,"--gap":`${S}px`,...y,...IB(d,h)},onBlur:ne=>{se.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(se.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||se.current||(se.current=!0,q.current=ne.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{K||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},R.filter(ne=>!ne.position&&ie===0||ne.position===O).map((ne,be)=>{var _e,Le;return te.createElement(DB,{key:ne.id,icons:C,index:be,toast:ne,defaultRichColors:p,duration:(_e=_==null?void 0:_.duration)!=null?_e:v,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:r,visibleToasts:N,closeButton:(Le=_==null?void 0:_.closeButton)!=null?Le:c,interacting:K,position:O,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:L,toasts:R.filter(Ke=>Ke.position==ne.position),heights:W.filter(Ke=>Ke.position==ne.position),setHeights:B,expandByDefault:o,gap:S,loadingIcon:k,expanded:Z,pauseWhenPageIsHidden:T,swipeDirections:e.swipeDirections})})):null}))});const uE=({open:e,onOpenChange:t,onComplete:r,venueToEdit:n})=>{const[a,o]=x.useState(!1),c=Ms(),{user:u}=Xe(),d=!!n,h=async m=>{var p;if(!u){Ut.error("You must be logged in to manage venues.");return}o(!0);try{if(d&&n){const{data:v,error:y}=await cB(n.id,m);if(y||!v)throw y||new Error("Failed to update venue.");Ut.success(`Venue "${v.name}" updated successfully!`),r(v)}else{const v={...m,creator_id:u.id},{data:y,error:N}=await lB(v);if(N||!y)throw N||new Error("Failed to create venue.");Ut.success(`Venue "${y.name}" created successfully!`),r(y)}c.invalidateQueries({queryKey:["venues"]}),t(!1)}catch(v){console.error("Failed to save venue",v),(v==null?void 0:v.code)==="23505"&&((p=v==null?void 0:v.message)!=null&&p.includes("venues_name_key"))?Ut.error("A venue with this name already exists. Please use a different name."):Ut.error("Failed to save venue. Please try again.")}finally{o(!1)}};return s.jsx(gy,{open:e,onOpenChange:t,children:s.jsxs(Ih,{children:[s.jsxs(Lh,{children:[s.jsx(Fh,{children:d?"Edit Venue":"Create a New Venue"}),s.jsx(IC,{children:d?"Update the details for this venue.":"Add a new venue to the list. This will be available for all event creators."})]}),s.jsx(oB,{onSubmit:h,isSubmitting:a,venue:n})]})})},LB=({register:e,errors:t})=>s.jsxs("div",{children:[s.jsx(At,{htmlFor:"title",children:"Title"}),s.jsx(gt,{id:"title",type:"text",placeholder:"Event title",...e("title"),"aria-invalid":t.title?"true":"false"}),t.title&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.title.message})]}),Jl=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:re("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Jl.displayName="Textarea";const FB=({register:e,errors:t})=>s.jsxs("div",{children:[s.jsx(At,{htmlFor:"description",children:"Description"}),s.jsx(Jl,{id:"description",placeholder:"Event description",...e("description"),"aria-invalid":t.description?"true":"false"}),t.description&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.description.message})]});function mj(e,[t,r]){return Math.min(r,Math.max(t,e))}function dE(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $B=[" ","Enter","ArrowUp","ArrowDown"],UB=[" ","Enter"],ro="Select",[Hh,Yh,zB]=lh(ro),[Xl,aH]=ln(ro,[zB,Kl]),Gh=Kl(),[BB,mi]=Xl(ro),[VB,qB]=Xl(ro),fE=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:c,defaultValue:u,onValueChange:d,dir:h,name:m,autoComplete:p,disabled:v,required:y,form:N}=e,_=Gh(t),[b,S]=x.useState(null),[k,C]=x.useState(null),[P,T]=x.useState(!1),R=ph(h),[M,D]=Ts({prop:n,defaultProp:a??!1,onChange:o,caller:ro}),[W,B]=Ts({prop:c,defaultProp:u,onChange:d,caller:ro}),Z=x.useRef(null),V=b?N||!!b.closest("form"):!0,[K,H]=x.useState(new Set),me=Array.from(K).map(le=>le.props.value).join(";");return s.jsx(Rx,{..._,children:s.jsxs(BB,{required:y,scope:t,trigger:b,onTriggerChange:S,valueNode:k,onValueNodeChange:C,valueNodeHasChildren:P,onValueNodeHasChildrenChange:T,contentId:fr(),value:W,onValueChange:B,open:M,onOpenChange:D,dir:R,triggerPointerDownPosRef:Z,disabled:v,children:[s.jsx(Hh.Provider,{scope:t,children:s.jsx(VB,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(le=>{H(X=>new Set(X).add(le))},[]),onNativeOptionRemove:x.useCallback(le=>{H(X=>{const U=new Set(X);return U.delete(le),U})},[]),children:r})}),V?s.jsxs(IE,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:p,value:W,onChange:le=>B(le.target.value),disabled:v,form:N,children:[W===void 0?s.jsx("option",{value:""}):null,Array.from(K)]},me):null]})})};fE.displayName=ro;var hE="SelectTrigger",mE=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=Gh(r),c=mi(hE,r),u=c.disabled||n,d=at(t,c.onTriggerChange),h=Yh(r),m=x.useRef("touch"),[p,v,y]=FE(_=>{const b=h().filter(C=>!C.disabled),S=b.find(C=>C.value===c.value),k=$E(b,_,S);k!==void 0&&c.onValueChange(k.value)}),N=_=>{u||(c.onOpenChange(!0),y()),_&&(c.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return s.jsx(wh,{asChild:!0,...o,children:s.jsx(Re.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":LE(c.value)?"":void 0,...a,ref:d,onClick:je(a.onClick,_=>{_.currentTarget.focus(),m.current!=="mouse"&&N(_)}),onPointerDown:je(a.onPointerDown,_=>{m.current=_.pointerType;const b=_.target;b.hasPointerCapture(_.pointerId)&&b.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(N(_),_.preventDefault())}),onKeyDown:je(a.onKeyDown,_=>{const b=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&v(_.key),!(b&&_.key===" ")&&$B.includes(_.key)&&(N(),_.preventDefault())})})})});mE.displayName=hE;var pE="SelectValue",gE=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:c="",...u}=e,d=mi(pE,r),{onValueNodeHasChildrenChange:h}=d,m=o!==void 0,p=at(t,d.onValueNodeChange);return Kt(()=>{h(m)},[h,m]),s.jsx(Re.span,{...u,ref:p,style:{pointerEvents:"none"},children:LE(d.value)?s.jsx(s.Fragment,{children:c}):o})});gE.displayName=pE;var WB="SelectIcon",vE=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Re.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});vE.displayName=WB;var HB="SelectPortal",xE=e=>s.jsx(ql,{asChild:!0,...e});xE.displayName=HB;var no="SelectContent",yE=x.forwardRef((e,t)=>{const r=mi(no,e.__scopeSelect),[n,a]=x.useState();if(Kt(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?$l.createPortal(s.jsx(wE,{scope:e.__scopeSelect,children:s.jsx(Hh.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(bE,{...e,ref:t})});yE.displayName=no;var Kn=10,[wE,pi]=Xl(no),YB="SelectContentImpl",GB=ai("SelectContent.RemoveScroll"),bE=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:_,avoidCollisions:b,...S}=e,k=mi(no,r),[C,P]=x.useState(null),[T,R]=x.useState(null),M=at(t,ne=>P(ne)),[D,W]=x.useState(null),[B,Z]=x.useState(null),V=Yh(r),[K,H]=x.useState(!1),me=x.useRef(!1);x.useEffect(()=>{if(C)return _h(C)},[C]),gh();const le=x.useCallback(ne=>{const[be,..._e]=V().map(et=>et.ref.current),[Le]=_e.slice(-1),Ke=document.activeElement;for(const et of ne)if(et===Ke||(et==null||et.scrollIntoView({block:"nearest"}),et===be&&T&&(T.scrollTop=0),et===Le&&T&&(T.scrollTop=T.scrollHeight),et==null||et.focus(),document.activeElement!==Ke))return},[V,T]),X=x.useCallback(()=>le([D,C]),[le,D,C]);x.useEffect(()=>{K&&X()},[K,X]);const{onOpenChange:U,triggerPointerDownPosRef:q}=k;x.useEffect(()=>{if(C){let ne={x:0,y:0};const be=Le=>{var Ke,et;ne={x:Math.abs(Math.round(Le.pageX)-(((Ke=q.current)==null?void 0:Ke.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((et=q.current)==null?void 0:et.y)??0))}},_e=Le=>{ne.x<=10&&ne.y<=10?Le.preventDefault():C.contains(Le.target)||U(!1),document.removeEventListener("pointermove",be),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",_e,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",_e,{capture:!0})}}},[C,U,q]),x.useEffect(()=>{const ne=()=>U(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[U]);const[se,L]=FE(ne=>{const be=V().filter(Ke=>!Ke.disabled),_e=be.find(Ke=>Ke.ref.current===document.activeElement),Le=$E(be,ne,_e);Le&&setTimeout(()=>Le.ref.current.focus())}),O=x.useCallback((ne,be,_e)=>{const Le=!me.current&&!_e;(k.value!==void 0&&k.value===be||Le)&&(W(ne),Le&&(me.current=!0))},[k.value]),ie=x.useCallback(()=>C==null?void 0:C.focus(),[C]),ce=x.useCallback((ne,be,_e)=>{const Le=!me.current&&!_e;(k.value!==void 0&&k.value===be||Le)&&Z(ne)},[k.value]),ue=n==="popper"?Wv:_E,xe=ue===Wv?{side:u,sideOffset:d,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:v,collisionPadding:y,sticky:N,hideWhenDetached:_,avoidCollisions:b}:{};return s.jsx(wE,{scope:r,content:C,viewport:T,onViewportChange:R,itemRefCallback:O,selectedItem:D,onItemLeave:ie,itemTextRefCallback:ce,focusSelectedItem:X,selectedItemText:B,position:n,isPositioned:K,searchRef:se,children:s.jsx(Au,{as:GB,allowPinchZoom:!0,children:s.jsx(Pu,{asChild:!0,trapped:k.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:je(a,ne=>{var be;(be=k.trigger)==null||be.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(Vl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:s.jsx(ue,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ne=>ne.preventDefault(),...S,...xe,onPlaced:()=>H(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:je(S.onKeyDown,ne=>{const be=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!be&&ne.key.length===1&&L(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let Le=V().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ke=ne.target,et=Le.indexOf(Ke);Le=Le.slice(et+1)}setTimeout(()=>le(Le)),ne.preventDefault()}})})})})})})});bE.displayName=YB;var KB="SelectItemAlignedPosition",_E=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=mi(no,r),c=pi(no,r),[u,d]=x.useState(null),[h,m]=x.useState(null),p=at(t,M=>m(M)),v=Yh(r),y=x.useRef(!1),N=x.useRef(!0),{viewport:_,selectedItem:b,selectedItemText:S,focusSelectedItem:k}=c,C=x.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&_&&b&&S){const M=o.trigger.getBoundingClientRect(),D=h.getBoundingClientRect(),W=o.valueNode.getBoundingClientRect(),B=S.getBoundingClientRect();if(o.dir!=="rtl"){const Ke=B.left-D.left,et=W.left-Ke,It=M.left-et,Jt=M.width+It,un=Math.max(Jt,D.width),dn=window.innerWidth-Kn,fn=mj(et,[Kn,Math.max(Kn,dn-un)]);u.style.minWidth=Jt+"px",u.style.left=fn+"px"}else{const Ke=D.right-B.right,et=window.innerWidth-W.right-Ke,It=window.innerWidth-M.right-et,Jt=M.width+It,un=Math.max(Jt,D.width),dn=window.innerWidth-Kn,fn=mj(et,[Kn,Math.max(Kn,dn-un)]);u.style.minWidth=Jt+"px",u.style.right=fn+"px"}const Z=v(),V=window.innerHeight-Kn*2,K=_.scrollHeight,H=window.getComputedStyle(h),me=parseInt(H.borderTopWidth,10),le=parseInt(H.paddingTop,10),X=parseInt(H.borderBottomWidth,10),U=parseInt(H.paddingBottom,10),q=me+le+K+U+X,se=Math.min(b.offsetHeight*5,q),L=window.getComputedStyle(_),O=parseInt(L.paddingTop,10),ie=parseInt(L.paddingBottom,10),ce=M.top+M.height/2-Kn,ue=V-ce,xe=b.offsetHeight/2,ne=b.offsetTop+xe,be=me+le+ne,_e=q-be;if(be<=ce){const Ke=Z.length>0&&b===Z[Z.length-1].ref.current;u.style.bottom="0px";const et=h.clientHeight-_.offsetTop-_.offsetHeight,It=Math.max(ue,xe+(Ke?ie:0)+et+X),Jt=be+It;u.style.height=Jt+"px"}else{const Ke=Z.length>0&&b===Z[0].ref.current;u.style.top="0px";const It=Math.max(ce,me+_.offsetTop+(Ke?O:0)+xe)+_e;u.style.height=It+"px",_.scrollTop=be-ce+_.offsetTop}u.style.margin=`${Kn}px 0`,u.style.minHeight=se+"px",u.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>y.current=!0)}},[v,o.trigger,o.valueNode,u,h,_,b,S,o.dir,n]);Kt(()=>C(),[C]);const[P,T]=x.useState();Kt(()=>{h&&T(window.getComputedStyle(h).zIndex)},[h]);const R=x.useCallback(M=>{M&&N.current===!0&&(C(),k==null||k(),N.current=!1)},[C,k]);return s.jsx(ZB,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:R,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx(Re.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});_E.displayName=KB;var QB="SelectPopperPosition",Wv=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Kn,...o}=e,c=Gh(r);return s.jsx(Ax,{...c,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Wv.displayName=QB;var[ZB,ky]=Xl(no,{}),Hv="SelectViewport",jE=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=pi(Hv,r),c=ky(Hv,r),u=at(t,o.onViewportChange),d=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Hh.Slot,{scope:r,children:s.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:je(a.onScroll,h=>{const m=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&p){const y=Math.abs(d.current-m.scrollTop);if(y>0){const N=window.innerHeight-Kn*2,_=parseFloat(p.style.minHeight),b=parseFloat(p.style.height),S=Math.max(_,b);if(S<N){const k=S+y,C=Math.min(N,k),P=k-C;p.style.height=C+"px",p.style.bottom==="0px"&&(m.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});jE.displayName=Hv;var NE="SelectGroup",[JB,XB]=Xl(NE),eV=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=fr();return s.jsx(JB,{scope:r,id:a,children:s.jsx(Re.div,{role:"group","aria-labelledby":a,...n,ref:t})})});eV.displayName=NE;var SE="SelectLabel",kE=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=XB(SE,r);return s.jsx(Re.div,{id:a.id,...n,ref:t})});kE.displayName=SE;var sh="SelectItem",[tV,CE]=Xl(sh),EE=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...c}=e,u=mi(sh,r),d=pi(sh,r),h=u.value===n,[m,p]=x.useState(o??""),[v,y]=x.useState(!1),N=at(t,k=>{var C;return(C=d.itemRefCallback)==null?void 0:C.call(d,k,n,a)}),_=fr(),b=x.useRef("touch"),S=()=>{a||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(tV,{scope:r,value:n,disabled:a,textId:_,isSelected:h,onItemTextChange:x.useCallback(k=>{p(C=>C||((k==null?void 0:k.textContent)??"").trim())},[]),children:s.jsx(Hh.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:s.jsx(Re.div,{role:"option","aria-labelledby":_,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:N,onFocus:je(c.onFocus,()=>y(!0)),onBlur:je(c.onBlur,()=>y(!1)),onClick:je(c.onClick,()=>{b.current!=="mouse"&&S()}),onPointerUp:je(c.onPointerUp,()=>{b.current==="mouse"&&S()}),onPointerDown:je(c.onPointerDown,k=>{b.current=k.pointerType}),onPointerMove:je(c.onPointerMove,k=>{var C;b.current=k.pointerType,a?(C=d.onItemLeave)==null||C.call(d):b.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:je(c.onPointerLeave,k=>{var C;k.currentTarget===document.activeElement&&((C=d.onItemLeave)==null||C.call(d))}),onKeyDown:je(c.onKeyDown,k=>{var P;((P=d.searchRef)==null?void 0:P.current)!==""&&k.key===" "||(UB.includes(k.key)&&S(),k.key===" "&&k.preventDefault())})})})})});EE.displayName=sh;var Xc="SelectItemText",PE=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,c=mi(Xc,r),u=pi(Xc,r),d=CE(Xc,r),h=qB(Xc,r),[m,p]=x.useState(null),v=at(t,S=>p(S),d.onItemTextChange,S=>{var k;return(k=u.itemTextRefCallback)==null?void 0:k.call(u,S,d.value,d.disabled)}),y=m==null?void 0:m.textContent,N=x.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:_,onNativeOptionRemove:b}=h;return Kt(()=>(_(N),()=>b(N)),[_,b,N]),s.jsxs(s.Fragment,{children:[s.jsx(Re.span,{id:d.textId,...o,ref:v}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?$l.createPortal(o.children,c.valueNode):null]})});PE.displayName=Xc;var TE="SelectItemIndicator",RE=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return CE(TE,r).isSelected?s.jsx(Re.span,{"aria-hidden":!0,...n,ref:t}):null});RE.displayName=TE;var Yv="SelectScrollUpButton",AE=x.forwardRef((e,t)=>{const r=pi(Yv,e.__scopeSelect),n=ky(Yv,e.__scopeSelect),[a,o]=x.useState(!1),c=at(t,n.onScrollButtonChange);return Kt(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=d.scrollTop>0;o(h)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(ME,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});AE.displayName=Yv;var Gv="SelectScrollDownButton",OE=x.forwardRef((e,t)=>{const r=pi(Gv,e.__scopeSelect),n=ky(Gv,e.__scopeSelect),[a,o]=x.useState(!1),c=at(t,n.onScrollButtonChange);return Kt(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;o(m)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),a?s.jsx(ME,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});OE.displayName=Gv;var ME=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=pi("SelectScrollButton",r),c=x.useRef(null),u=Yh(r),d=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),Kt(()=>{var m;const h=u().find(p=>p.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[u]),s.jsx(Re.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:je(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:je(a.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:je(a.onPointerLeave,()=>{d()})})}),rV="SelectSeparator",DE=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Re.div,{"aria-hidden":!0,...n,ref:t})});DE.displayName=rV;var Kv="SelectArrow",nV=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Gh(r),o=mi(Kv,r),c=pi(Kv,r);return o.open&&c.position==="popper"?s.jsx(Ox,{...a,...n,ref:t}):null});nV.displayName=Kv;var sV="SelectBubbleInput",IE=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),o=at(n,a),c=dE(t);return x.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==t&&m){const p=new Event("change",{bubbles:!0});m.call(u,t),u.dispatchEvent(p)}},[c,t]),s.jsx(Re.select,{...r,style:{...xN,...r.style},ref:o,defaultValue:t})});IE.displayName=sV;function LE(e){return e===""||e===void 0}function FE(e){const t=Fr(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(c=>{const u=r.current+c;t(u),function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(u)},[t]),o=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function $E(e,t,r){const a=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let c=aV(e,Math.max(o,0));a.length===1&&(c=c.filter(h=>h!==r));const d=c.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function aV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var iV=fE,UE=mE,oV=gE,lV=vE,cV=xE,zE=yE,uV=jE,BE=kE,VE=EE,dV=PE,fV=RE,qE=AE,WE=OE,HE=DE;const Kh=iV,Qh=oV,Bu=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(UE,{ref:n,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-black focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(lV,{asChild:!0,children:s.jsx(Eu,{className:"h-4 w-4 opacity-70"})})]}));Bu.displayName=UE.displayName;const YE=x.forwardRef(({className:e,...t},r)=>s.jsx(qE,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(zN,{className:"h-4 w-4"})}));YE.displayName=qE.displayName;const GE=x.forwardRef(({className:e,...t},r)=>s.jsx(WE,{ref:r,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Eu,{className:"h-4 w-4"})}));GE.displayName=WE.displayName;const Vu=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(cV,{children:s.jsxs(zE,{ref:a,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-lg border border-gray-200 bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(YE,{}),s.jsx(uV,{className:re("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(GE,{})]})}));Vu.displayName=zE.displayName;const hV=x.forwardRef(({className:e,...t},r)=>s.jsx(BE,{ref:r,className:re("py-1.5 pl-6 pr-2 text-sm font-medium",e),...t}));hV.displayName=BE.displayName;const ea=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(VE,{ref:n,className:re("relative flex w-full cursor-pointer select-none items-center rounded-md py-1.5 pl-6 pr-2 text-sm outline-none hover:bg-gray-100 focus:bg-gray-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(fV,{children:s.jsx(io,{className:"h-4 w-4"})})}),s.jsx(dV,{children:t})]}));ea.displayName=VE.displayName;const mV=x.forwardRef(({className:e,...t},r)=>s.jsx(HE,{ref:r,className:re("-mx-1 my-1 h-px bg-gray-200",e),...t}));mV.displayName=HE.displayName;const pV=({watch:e,setValue:t,errors:r})=>s.jsxs("div",{children:[s.jsx(At,{htmlFor:"event_category",children:"Event Category"}),s.jsxs(Kh,{value:e("event_category"),onValueChange:n=>t("event_category",n),children:[s.jsx(Bu,{children:s.jsx(Qh,{placeholder:"Select event category"})}),s.jsx(Vu,{children:aE.map(n=>s.jsx(ea,{value:n,children:n.charAt(0).toUpperCase()+n.slice(1)},n))})]}),r.event_category&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.event_category.message})]}),gV=({register:e,watch:t,setValue:r,errors:n})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(At,{htmlFor:"start_date",children:"Start Date"}),s.jsxs(Ov,{children:[s.jsx(Mv,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:re("w-full justify-start text-left font-normal",!t("start_date")&&"text-muted-foreground"),children:[s.jsx(bt,{className:"mr-2 h-4 w-4"}),t("start_date")?sn(t("start_date"),"PPP"):"Pick a date"]})}),s.jsx(Gf,{className:"w-auto p-0",align:"start",children:s.jsx(Yf,{mode:"single",selected:t("start_date"),onSelect:a=>a&&r("start_date",a),initialFocus:!0})})]}),n.start_date&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.start_date.message})]}),s.jsxs("div",{children:[s.jsx(At,{htmlFor:"start_time",children:"Start Time"}),s.jsx(gt,{id:"start_time",type:"time",...e("start_time"),"aria-invalid":n.start_time?"true":"false"}),n.start_time&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.start_time.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(At,{htmlFor:"end_date",children:"End Date"}),s.jsxs(Ov,{children:[s.jsx(Mv,{asChild:!0,children:s.jsxs(ee,{variant:"outline",className:re("w-full justify-start text-left font-normal",!t("end_date")&&"text-muted-foreground"),children:[s.jsx(bt,{className:"mr-2 h-4 w-4"}),t("end_date")?sn(t("end_date"),"PPP"):"Pick a date"]})}),s.jsx(Gf,{className:"w-auto p-0",align:"start",children:s.jsx(Yf,{mode:"single",selected:t("end_date"),onSelect:a=>a&&r("end_date",a),initialFocus:!0})})]}),n.end_date&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.end_date.message})]}),s.jsxs("div",{children:[s.jsx(At,{htmlFor:"end_time",children:"End Time"}),s.jsx(gt,{id:"end_time",type:"time",...e("end_time"),"aria-invalid":n.end_time?"true":"false"}),n.end_time&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:n.end_time.message})]})]})]});function nr({className:e,animated:t=!0,...r}){return s.jsx("div",{className:re("rounded-md bg-muted",t&&"animate-pulse",e),...r})}const KE=e=>e?e.toLowerCase().trim().replace(/^the\s+/,"").replace(/^a\s+/,"").replace(/^an\s+/,""):"",Qv=e=>e?e.toLowerCase().split(/[\s\-_.,]+/).filter(t=>t.length>0):[],vV=(e,t)=>{if(!e||!t)return!1;const r=e.toLowerCase(),n=t.toLowerCase();if(r===n||r.includes(n))return!0;const a=KE(e);if(a===n||a.includes(n)||Qv(e).some(d=>d.startsWith(n)))return!0;let c=0,u=0;for(;c<n.length&&u<r.length;)n[c]===r[u]&&c++,u++;return c===n.length},xV=(e,t)=>{if(!t||!t.trim())return e;const r=t.toLowerCase().trim();console.log(`Filtering venues with query: "${r}"`);const n=Qv(r),a=e.filter(o=>{if(!o||!o.label)return!1;const c=o.label.toLowerCase(),u=KE(o.label),d=Qv(o.label);if(console.log(`Checking venue: "${o.label}" (preprocessed: "${u}")`),c===r)return console.log(` Exact match: "${o.label}"`),!0;if(c.includes(r))return console.log(` Contains match: "${o.label}" contains "${r}"`),!0;if(u.includes(r))return console.log(` Preprocessed match: "${u}" contains "${r}"`),!0;if(n.some(p=>d.some(v=>v.startsWith(p))))return console.log(` Token match: A token in "${o.label}" matches a query word`),!0;if(n.length>0&&n.every(v=>c.includes(v)))return console.log(` All words match: "${o.label}" contains all query words`),!0;const m=vV(c,r);return m&&console.log(` Fuzzy match: "${o.label}" fuzzy matches "${r}"`),m});return console.log(`Found ${a.length} matches for "${r}"`),a},yV=({id:e,venues:t,isLoading:r,value:n,onChange:a,placeholder:o="Select a venue"})=>{const[c,u]=x.useState("");if(r)return s.jsx(nr,{className:"h-10 w-full"});const d=t.map(p=>({value:p.id,label:p.name})),m=xV(d,c).map(p=>t.find(v=>v.id===p.value)).filter(Boolean);return s.jsxs(Kh,{value:n,onValueChange:a,children:[s.jsx(Bu,{id:e,className:"w-full",children:s.jsx(Qh,{placeholder:o})}),s.jsxs(Vu,{children:[s.jsx("div",{className:"p-2",children:s.jsxs("div",{className:"flex items-center border rounded-md px-3 mb-2",children:[s.jsx(ri,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx(gt,{className:"h-8 border-0 p-0 focus-visible:ring-0 placeholder:text-gray-400",placeholder:"Search venues...",value:c,onChange:p=>u(p.target.value)})]})}),m.length>0?m.map(p=>s.jsx(ea,{value:p.id,children:p.name},p.id)):s.jsx("div",{className:"text-center py-2 text-sm text-gray-500",children:"No venues found"})]})]})},wV=({watch:e,setValue:t,errors:r,venues:n,isLoadingVenues:a,onOpenCreateVenueModal:o})=>s.jsxs("div",{children:[s.jsx(At,{htmlFor:"venue_id",children:"Venue"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-grow",children:s.jsx(yV,{id:"venue_id",venues:n,isLoading:a,value:e("venue_id"),onChange:c=>t("venue_id",c),placeholder:"Select a venue"})}),s.jsxs(ee,{type:"button",variant:"outline",size:"sm",onClick:o,children:[s.jsx(hD,{className:"h-4 w-4 mr-2"}),"New Venue"]})]}),r.venue_id&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.venue_id.message})]}),bV=()=>sr({queryKey:["event-vibes"],queryFn:async()=>{console.log("Fetching event vibes from event_vibe table...");const{data:e,error:t}=await ae.from("event_vibe").select("name").order("name",{ascending:!0});if(t)throw console.error("Error fetching event vibes:",t.message),new Error(`Failed to fetch event vibes: ${t.message}`);console.log("Successfully fetched event vibes data:",e);const r=(e==null?void 0:e.map(n=>n.name).filter(Boolean))||[];return r.length===0?(console.warn("No event vibes found in the event_vibe table. The table might be empty."),["party","chill","wellness","active","social","creative"]):r},retry:1,staleTime:5*60*1e3}),Mg="__NO_VIBE__",_V=({control:e})=>{const{data:t,isLoading:r,isError:n,error:a}=bV();if(console.log("VibeField - vibes data:",t,"isLoading:",r,"isError:",n),r)return s.jsxs(kr,{children:[s.jsx(At,{htmlFor:"vibe",children:"Vibe"}),s.jsx(nr,{className:"h-10 w-full"})]});if(n)return console.error("VibeField error:",a),s.jsxs(kr,{children:[s.jsx(At,{htmlFor:"vibe",children:"Vibe"}),s.jsxs("div",{className:"text-sm text-destructive p-2 bg-destructive/10 border border-destructive/20 rounded-md",children:[s.jsx("p",{className:"font-semibold",children:"Error loading vibes"}),s.jsx("p",{children:(a==null?void 0:a.message)||"Failed to load vibe options"})]})]});const o=t&&t.length>0?t:["party","chill","wellness","active","social","creative"];return s.jsx(_n,{control:e,name:"vibe",render:({field:c})=>s.jsxs(kr,{children:[s.jsx(At,{htmlFor:"vibe",children:"Vibe"}),s.jsxs(Kh,{onValueChange:u=>c.onChange(u===Mg?null:u),value:c.value??Mg,children:[s.jsx(en,{children:s.jsx(Bu,{id:"vibe",children:s.jsx(Qh,{placeholder:"Select a vibe for your event"})})}),s.jsxs(Vu,{children:[s.jsx(ea,{value:Mg,children:s.jsx("span",{className:"text-muted-foreground",children:"-- No Vibe --"})}),o.map(u=>s.jsx(ea,{value:u,children:u.charAt(0).toUpperCase()+u.slice(1)},u))]})]}),s.jsx(tn,{})]})})};var Zh="Collapsible",[jV,iH]=ln(Zh),[NV,Cy]=jV(Zh),QE=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:o,onOpenChange:c,...u}=e,[d,h]=Ts({prop:n,defaultProp:a??!1,onChange:c,caller:Zh});return s.jsx(NV,{scope:r,disabled:o,contentId:fr(),open:d,onOpenToggle:x.useCallback(()=>h(m=>!m),[h]),children:s.jsx(Re.div,{"data-state":Py(d),"data-disabled":o?"":void 0,...u,ref:t})})});QE.displayName=Zh;var ZE="CollapsibleTrigger",JE=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=Cy(ZE,r);return s.jsx(Re.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":Py(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:je(e.onClick,a.onOpenToggle)})});JE.displayName=ZE;var Ey="CollapsibleContent",XE=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Cy(Ey,e.__scopeCollapsible);return s.jsx(kn,{present:r||a.open,children:({present:o})=>s.jsx(SV,{...n,ref:t,present:o})})});XE.displayName=Ey;var SV=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...o}=e,c=Cy(Ey,r),[u,d]=x.useState(n),h=x.useRef(null),m=at(t,h),p=x.useRef(0),v=p.current,y=x.useRef(0),N=y.current,_=c.open||u,b=x.useRef(_),S=x.useRef(void 0);return x.useEffect(()=>{const k=requestAnimationFrame(()=>b.current=!1);return()=>cancelAnimationFrame(k)},[]),Kt(()=>{const k=h.current;if(k){S.current=S.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const C=k.getBoundingClientRect();p.current=C.height,y.current=C.width,b.current||(k.style.transitionDuration=S.current.transitionDuration,k.style.animationName=S.current.animationName),d(n)}},[c.open,n]),s.jsx(Re.div,{"data-state":Py(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!_,...o,ref:m,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":N?`${N}px`:void 0,...e.style},children:_&&a})});function Py(e){return e?"open":"closed"}var kV=QE;const CV=kV,EV=JE,PV=XE,TV=({register:e,errors:t,control:r,watch:n,setValue:a})=>{const[o,c]=x.useState(!1);return s.jsxs(CV,{open:o,onOpenChange:c,children:[s.jsx(EV,{asChild:!0,children:s.jsxs(ee,{variant:"ghost",className:"flex items-center gap-2 p-0 h-auto font-medium text-gray-700 hover:text-gray-900",type:"button",children:[o?s.jsx(Eu,{className:"h-4 w-4"}):s.jsx(fx,{className:"h-4 w-4"}),"Optional Additional Info"]})}),s.jsxs(PV,{className:"space-y-6 mt-4 pt-4 border-t border-gray-200",children:[s.jsxs("div",{children:[s.jsx(At,{htmlFor:"organizer_link",children:"Organizer Link"}),s.jsx(gt,{id:"organizer_link",type:"url",placeholder:"https://your-website.com",...e("organizer_link"),"aria-invalid":t.organizer_link?"true":"false"}),t.organizer_link&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.organizer_link.message})]}),s.jsxs("div",{children:[s.jsx(At,{htmlFor:"fee",children:"Fee ()"}),s.jsx(gt,{id:"fee",type:"number",min:"0",step:"0.01",placeholder:"0",...e("fee"),"aria-invalid":t.fee?"true":"false"}),t.fee&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.fee.message})]}),s.jsxs("div",{children:[s.jsx(At,{htmlFor:"booking_link",children:"Booking Link"}),s.jsx(gt,{id:"booking_link",type:"url",placeholder:"https://booking-website.com",...e("booking_link"),"aria-invalid":t.booking_link?"true":"false"}),t.booking_link&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.booking_link.message})]}),s.jsx(_V,{control:r}),s.jsxs("div",{children:[s.jsx(At,{htmlFor:"extra_info",children:"Extra Info"}),s.jsx(Jl,{id:"extra_info",placeholder:"Extra information",...e("extra_info"),"aria-invalid":t.extra_info?"true":"false"}),t.extra_info&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.extra_info.message})]}),s.jsxs("div",{children:[s.jsx(At,{htmlFor:"tags",children:"Tags"}),s.jsx(gt,{id:"tags",type:"text",placeholder:"tag1, tag2, tag3",...e("tags"),"aria-invalid":t.tags?"true":"false"}),t.tags&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.tags.message})]})]})]})},eP=({eventId:e,isEditMode:t=!1,initialData:r})=>{const{form:n,isSubmitting:a,venues:o,isLoadingVenues:c,isCreateVenueModalOpen:u,setCreateVenueModalOpen:d,handleVenueCreated:h,onSubmit:m,onInvalid:p}=nB({eventId:e,isEditMode:t,initialData:r}),{register:v,handleSubmit:y,setValue:N,watch:_,formState:{errors:b},control:S}=n;return console.log("EventForm render - isEditMode:",t,"eventId:",e,"isSubmitting:",a),console.log("Form errors:",b),s.jsxs(s.Fragment,{children:[s.jsx(Vh,{...n,children:s.jsxs("form",{onSubmit:y(m,p),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(LB,{register:v,errors:b}),s.jsx(FB,{register:v,errors:b}),s.jsx(pV,{watch:_,setValue:N,errors:b}),s.jsx(gV,{register:v,watch:_,setValue:N,errors:b}),s.jsx(wV,{watch:_,setValue:N,errors:b,venues:o,isLoadingVenues:c,onOpenCreateVenueModal:()=>d(!0)})]}),s.jsx("div",{className:"pt-4",children:s.jsx(TV,{register:v,errors:b,control:S,watch:_,setValue:N})}),s.jsx("div",{className:"pt-6",children:s.jsx(ee,{type:"submit",variant:"default",disabled:a,className:"w-full sm:w-auto",onClick:()=>{console.log("Submit button clicked, isSubmitting:",a),console.log("Current form values:",n.getValues())},children:a?"Submitting...":t?"Update Event":"Create Event"})})]})}),s.jsx(uE,{open:u,onOpenChange:d,onComplete:h})]})},RV=({children:e})=>{const{user:t,loading:r}=Xe(),n=ot(),{canCreateEvents:a,creatorRequestStatus:o,isLoading:c}=Ql(),u=a||o==="approved";return x.useEffect(()=>{if(!(r||c)){if(!t){Ut.error("You must be logged in to create an event."),n("/login",{replace:!0});return}u||(o==="pending"?Ut.info("Your creator request is pending approval."):Ut.error("You don't have permission to create events."),n("/profile",{replace:!0}))}},[t,r,n,u,c,o]),r||c?s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(nr,{className:"h-10 w-1/2"}),s.jsx(nr,{className:"h-6 w-3/4"}),s.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-6 mt-8 space-y-6",children:[s.jsx(nr,{className:"h-8 w-1/4"}),s.jsx(nr,{className:"h-10 w-full"}),s.jsx(nr,{className:"h-24 w-full"}),s.jsx(nr,{className:"h-10 w-full"})]})]})}):u?s.jsx(s.Fragment,{children:e}):null},AV=()=>s.jsx(RV,{children:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Create Event"}),s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Create a new event for the community to discover and attend."})]}),s.jsx("div",{className:"bg-white rounded-lg border shadow-sm p-6",children:s.jsx(eP,{})})]})}),OV=(e,t)=>{const[r,n]=x.useState(null),[a,o]=x.useState(!0),[c,u]=x.useState(null);return x.useEffect(()=>{if(!e){o(!1);return}(async()=>{try{o(!0),u(null);const{data:h,error:m}=await ae.from("events").select(`
            *,
            venues:venue_id(*),
            event_rsvps(id, user_id, status)
          `).eq("id",e).maybeSingle();if(m){console.error("Error fetching event:",m),u("Failed to load event details");return}if(!h){u("Event not found");return}let p=null;if(h.creator){const{data:N,error:_}=await ae.from("profiles").select("id, username, avatar_url, email, location, status, tagline").eq("id",h.creator).single();!_&&N&&(p=N)}const v={...h,creator:p},y=El([v],t);n(y[0]||null)}catch(h){console.error("Unexpected error:",h),u("An unexpected error occurred")}finally{o(!1)}})()},[e,t]),{event:r,loading:a,error:c}},MV=(e,t)=>{t(`/user/${e}`)},tP=(e,t)=>{if(!e){console.error("Cannot navigate: Missing event ID");return}t(`/events/${e}`)},DV=(e,t="/events")=>{try{window.history.length>1?e(-1):e(t)}catch(r){console.error("Navigation error:",r),e(t)}},pj=({className:e="",defaultPath:t="/events",onClick:r})=>{const n=ot(),a=()=>{if(r){r();return}try{DV(n,t),console.log("Back navigation triggered")}catch(o){console.error("Navigation error going back:",o),n(t)}};return s.jsxs(ee,{variant:"ghost",onClick:a,className:e,children:[s.jsx(uh,{className:"h-4 w-4 mr-2"}),"Back"]})},IV=()=>{var p;const{eventId:e}=Bj(),{user:t,loading:r}=Xe(),n=ot(),{event:a,loading:o,error:c}=OV(e??null,t==null?void 0:t.id),{isAdmin:u,isLoading:d}=Ql(),h=r||o||d;if(x.useEffect(()=>{var y;if(h)return;if(!t){Ut.error("You must be logged in to edit an event."),n("/login",{replace:!0});return}if(!a){if(!c)return;Ut.error("Event not found."),n("/events",{replace:!0});return}!(((y=a.creator)==null?void 0:y.id)===t.id)&&!u&&(Ut.error("You are not authorized to edit this event."),n("/profile",{replace:!0}))},[t,a,h,n,u,c]),h)return s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(pj,{defaultPath:"/profile"}),s.jsxs("div",{className:"mb-8 mt-4",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Edit Event"}),s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Loading event details..."})]}),s.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-6 mt-8 space-y-6",children:[s.jsx(nr,{className:"h-10 w-full"}),s.jsx(nr,{className:"h-24 w-full"}),s.jsx(nr,{className:"h-10 w-full"}),s.jsx(nr,{className:"h-10 w-1/2"})]})]});const m=((p=a==null?void 0:a.creator)==null?void 0:p.id)===(t==null?void 0:t.id);return!a||!m&&!u?null:s.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[s.jsx(pj,{defaultPath:"/profile"}),s.jsxs("div",{className:"mb-8 mt-4",children:[s.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-2",children:"Edit Event"}),s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Update your event details and information."})]}),s.jsx("div",{className:"bg-white rounded-lg border shadow-sm p-6",children:s.jsx(eP,{eventId:e,isEditMode:!0,initialData:a})})]})},LV="https://vbxhcqlcbusqwsqesoxw.supabase.co",FV="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZieGhjcWxjYnVzcXdzcWVzb3h3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDUwMTM1NzcsImV4cCI6MjA2MDU4OTU3N30.hoUUYHcdBUgqbKpw-C_pct0bynPFGLnXvIpkneEwTZo",Dg=fN(LV,FV),$V=(e=!0)=>{const{user:t,isAuthenticated:r}=Xe(),{data:n,isLoading:a,error:o}=sr({queryKey:["casual-plans-raw"],queryFn:async()=>{if(!r||!e)return[];console.log("Fetching casual plans...");const{data:m,error:p}=await Dg.from("casual_plans").select("*").gte("date",new Date().toISOString().split("T")[0]).order("date",{ascending:!0}).order("time",{ascending:!0});if(p)throw console.error("Error fetching plans:",p),p;return console.log("Raw plans data:",m),m||[]},enabled:e&&r}),{data:c,isLoading:u}=sr({queryKey:["casual-plan-rsvps"],queryFn:async()=>{if(!r||!e||!(n!=null&&n.length))return[];console.log("Fetching RSVPs...");const m=n.map(y=>y.id),{data:p,error:v}=await Dg.from("casual_plan_rsvps").select("*").in("plan_id",m);if(v)throw console.error("Error fetching RSVPs:",v),v;return console.log("Raw RSVPs data:",p),p||[]},enabled:e&&r&&!!(n!=null&&n.length)}),{data:d,isLoading:h}=sr({queryKey:["casual-plans-profiles",n,c],queryFn:async()=>{if(!r||!e||!(n!=null&&n.length)&&!(c!=null&&c.length))return[];console.log("Fetching profiles...");const m=new Set;if(n==null||n.forEach(y=>{y.creator_id&&m.add(y.creator_id)}),c==null||c.forEach(y=>{y.user_id&&m.add(y.user_id)}),m.size===0)return[];const{data:p,error:v}=await Dg.from("profiles").select("id, username, avatar_url").in("id",Array.from(m));if(v)throw console.error("Error fetching profiles:",v),v;return console.log("Profiles data:",p),p||[]},enabled:e&&r&&(!!(n!=null&&n.length)||!!(c!=null&&c.length))});return{rawPlans:n,rawRsvps:c,profiles:d,isLoading:a||u||h,error:o}},UV=()=>{const{user:e,isAuthenticated:t}=Xe(),r=ot(),[n,a]=x.useState(null);return{handleRsvp:async(c,u)=>{if(!t||!e)return r("/login"),!1;a(c);try{const{data:d}=await ae.from("casual_plan_rsvps").select("*").eq("plan_id",c).eq("user_id",e.id).maybeSingle();if(d)if(d.status!==u){const{error:h}=await ae.from("casual_plan_rsvps").update({status:u,updated_at:new Date().toISOString()}).eq("id",d.id);if(h)return console.error("Error updating casual plan RSVP:",h),!1}else{const{error:h}=await ae.from("casual_plan_rsvps").delete().eq("id",d.id);if(h)return console.error("Error removing casual plan RSVP:",h),!1}else{const{error:h}=await ae.from("casual_plan_rsvps").insert([{plan_id:c,user_id:e.id,status:u}]);if(h)return console.error("Error creating casual plan RSVP:",h),!1}return!0}catch(d){return console.error("Error in casual plan RSVP process:",d),!1}finally{a(null)}},loadingPlanId:n,isLoading:!!n}},rP=()=>{const e=Ms(),{user:t}=Xe(),[r,n]=x.useState(!1),{handleRsvp:a,loadingPlanId:o}=UV();return{createPlan:async m=>{if(!t)throw new Error("User not authenticated");n(!0),console.log("Creating casual plan:",m);try{const{error:p}=await ae.from("casual_plans").insert({...m,creator_id:t.id});if(p)throw p;e.invalidateQueries({queryKey:["casual-plans"]}),console.log("Casual plan created successfully")}catch(p){throw console.error("Error creating casual plan:",p),p}finally{n(!1)}},joinPlan:async m=>{if(!t)return console.log("User not authenticated for joining plan"),!1;console.log(`Attempting to join plan: ${m}`);const p=await a(m,"Going");return p&&(e.invalidateQueries({queryKey:["casual-plans"]}),e.invalidateQueries({queryKey:["casual-plan-rsvps"]})),p},leavePlan:async m=>{if(!t)return console.log("User not authenticated for leaving plan"),!1;console.log(`Attempting to leave plan: ${m}`);const p=await a(m,null);return p&&(e.invalidateQueries({queryKey:["casual-plans"]}),e.invalidateQueries({queryKey:["casual-plan-rsvps"]})),p},rsvpToPlan:async(m,p)=>{if(!t)return console.log("User not authenticated for RSVP"),!1;console.log(`Attempting to RSVP to plan: ${m} with status: ${p}`);const v=await a(m,p);return v&&(e.invalidateQueries({queryKey:["casual-plans"]}),e.invalidateQueries({queryKey:["casual-plan-rsvps"]})),v},isCreating:r,isJoining:o,isLeaving:o,loadingPlanId:o}},zV=e=>e.map(t=>({...t,status:t.status==="Going"||t.status==="Interested"?t.status:null})),BV=(e,t,r,n)=>{console.log("Transforming data:",{rawPlans:e,rawRsvps:t,profiles:r,userId:n});const a=zV(t),o=new Map;r.forEach(d=>{o.set(d.id,d)});const c=new Map;a.forEach(d=>{c.has(d.plan_id)||c.set(d.plan_id,[]),c.get(d.plan_id).push(d)});const u=e.map(d=>{console.log("Processing plan:",d.id,d.title);const h=o.get(d.creator_id),m=c.get(d.id)||[],p=m.filter(S=>S.status==="Going").length,v=m.filter(S=>S.status==="Interested").length,y=n?m.find(S=>S.user_id===n):null,N=(y==null?void 0:y.status)||null,_=m.filter(S=>S.status==="Going").map(S=>({id:S.id,plan_id:S.plan_id,user_id:S.user_id,created_at:S.created_at,user_profile:o.get(S.user_id)})),b={...d,creator_profile:h,attendees:_,attendee_count:p,user_attending:N==="Going",rsvp_status:N,going_count:p,interested_count:v};return console.log("Transformed plan:",b.id,b.title),b});return console.log("Final transformed plans:",u),u},VV=()=>{const{user:e,isAuthenticated:t}=Xe(),{rawPlans:r,rawRsvps:n,profiles:a,isLoading:o,error:c}=$V(t),u=rP();return{plans:r&&n&&a?BV(r,n,a,e==null?void 0:e.id):[],isLoading:o,error:c,...u}},qV=({planId:e,currentStatus:t,goingCount:r=0,interestedCount:n=0,onRsvp:a,isLoading:o=!1,className:c,compact:u=!1})=>{const d=()=>{a(e,"Going")},h=()=>{a(e,"Interested")};return u?s.jsxs("div",{className:re("flex gap-2",c),children:[s.jsxs(ee,{onClick:d,disabled:o,size:"sm",variant:t==="Going"?"default":"outline",className:re("flex-1",t==="Going"?"bg-green-600 hover:bg-green-700 text-white":"text-green-600 border-green-200 hover:bg-green-50"),children:[s.jsx(xr,{className:"h-3 w-3 mr-1"}),o?"...":t==="Going"?"Going":"Join"]}),s.jsxs(ee,{onClick:h,disabled:o,size:"sm",variant:t==="Interested"?"default":"outline",className:re("flex-1",t==="Interested"?"bg-blue-600 hover:bg-blue-700 text-white":"text-blue-600 border-blue-200 hover:bg-blue-50"),children:[s.jsx(ta,{className:"h-3 w-3 mr-1"}),o?"...":"Interested"]})]}):s.jsxs("div",{className:re("flex gap-3",c),children:[s.jsxs(ee,{onClick:d,disabled:o,variant:t==="Going"?"default":"outline",className:re("flex items-center gap-2",t==="Going"?"bg-green-600 hover:bg-green-700 text-white":"text-green-600 border-green-200 hover:bg-green-50"),children:[s.jsx(xr,{className:"h-4 w-4"}),s.jsx("span",{children:t==="Going"?"Going":"Join"}),r>0&&s.jsx("span",{className:"bg-white/20 px-2 py-1 rounded text-xs",children:r})]}),s.jsxs(ee,{onClick:h,disabled:o,variant:t==="Interested"?"default":"outline",className:re("flex items-center gap-2",t==="Interested"?"bg-blue-600 hover:bg-blue-700 text-white":"text-blue-600 border-blue-200 hover:bg-blue-50"),children:[s.jsx(ta,{className:"h-4 w-4"}),s.jsx("span",{children:"Interested"}),n>0&&s.jsx("span",{className:"bg-white/20 px-2 py-1 rounded text-xs",children:n})]})]})},nP=({plan:e,onJoin:t,onLeave:r,onRsvp:n,isJoining:a,isLeaving:o,isAuthenticated:c,onLoginPrompt:u,loadingPlanId:d})=>{var y,N,_,b,S,k,C;Dt();const h=async(P,T)=>c?n?await n(P,T):(T==="Going"?t(P):T===null&&e.user_attending&&r(P),!0):(u(),!1),m=M2(e.date),p=Wf(e.time),v=d===e.id;return s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 hover:border-gray-300 transition-all duration-200 hover:shadow-sm",children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c?s.jsx(Dn,{category:e.vibe,size:"sm",className:"capitalize text-xs px-2 py-1"}):s.jsx("div",{className:"bg-gray-200 text-gray-400 px-2 py-1 rounded text-xs",children:""}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center bg-green-50 px-2 py-1 rounded",children:[s.jsx(xr,{className:"h-3 w-3 mr-1 text-green-600"}),c?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium text-green-700",children:e.going_count||0}),e.max_attendees&&s.jsxs("span",{className:"text-green-500",children:["/",e.max_attendees]})]}):s.jsx("span",{className:"font-medium text-gray-300",children:"/"})]}),(e.interested_count||0)>0&&s.jsxs("div",{className:"flex items-center bg-blue-50 px-2 py-1 rounded",children:[s.jsx(ta,{className:"h-3 w-3 mr-1 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-700",children:e.interested_count})]})]})]}),s.jsx("h3",{className:"font-semibold text-base mb-2 line-clamp-2 leading-tight text-gray-900 text-left",children:e.title}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(bt,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),s.jsx("span",{children:m}),s.jsx("span",{className:"mx-2 text-gray-400",children:""}),s.jsx(Sl,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400"}),s.jsx("span",{children:p})]}),s.jsxs("div",{className:"flex items-center text-sm mb-4",children:[s.jsx(Yt,{className:"h-3.5 w-3.5 mr-1.5 text-gray-400 flex-shrink-0"}),c?s.jsx("span",{className:"text-gray-600 truncate",children:e.location}):s.jsx("span",{className:"text-gray-300 truncate",children:""})]}),e.description&&s.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 leading-relaxed text-left",children:e.description}),s.jsx("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:s.jsx("div",{className:"flex items-center min-w-0 flex-1",children:c?s.jsxs(s.Fragment,{children:[s.jsxs(cs,{className:"h-6 w-6 mr-2 flex-shrink-0",children:[s.jsx(Is,{src:(N=(y=e.creator_profile)==null?void 0:y.avatar_url)==null?void 0:N[0],alt:(_=e.creator_profile)==null?void 0:_.username}),s.jsx(us,{className:"text-xs bg-gray-100",children:((k=(S=(b=e.creator_profile)==null?void 0:b.username)==null?void 0:S[0])==null?void 0:k.toUpperCase())||"U"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-600 truncate",children:((C=e.creator_profile)==null?void 0:C.username)||"Anonymous"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Organizer"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-6 w-6 mr-2 flex-shrink-0 bg-gray-200 rounded-full"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-300 truncate",children:""}),s.jsx("div",{className:"text-xs text-gray-300",children:"Organizer"})]})]})})}),c?s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsx(qV,{planId:e.id,currentStatus:e.rsvp_status,goingCount:e.going_count,interestedCount:e.interested_count,onRsvp:h,isLoading:v,compact:!0})}):s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex gap-2 filter blur-sm pointer-events-none",children:[s.jsxs(ee,{size:"sm",variant:"outline",className:"flex-1 text-green-600 border-green-200",children:[s.jsx(xr,{className:"h-3 w-3 mr-1"}),"Join"]}),s.jsxs(ee,{size:"sm",variant:"outline",className:"flex-1 text-blue-600 border-blue-200",children:[s.jsx(ta,{className:"h-3 w-3 mr-1"}),"Interested"]})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("p",{className:"text-xs text-gray-500 text-center px-2",children:[s.jsx(pt,{to:"/login",className:"text-blue-600 hover:text-blue-800 underline",children:"Sign in"})," to RSVP"]})})]})})]})})},WV=()=>{const{isAuthenticated:e}=Xe(),{plans:t,isLoading:r}=VV(),n=[{id:"1",title:"Beach Volleyball Session"},{id:"2",title:"Morning Coffee Walk"},{id:"3",title:"Sunset Surf Session"},{id:"4",title:"Yoga in the Park"},{id:"5",title:"Local Food Tour"}];return r&&e?s.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,o)=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded mb-3"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},o))})}):e?s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsx("div",{className:"mb-8 text-center",children:s.jsx(ee,{asChild:!0,size:"lg",className:"bg-vibrant-seafoam hover:bg-vibrant-seafoam/90",children:s.jsxs(pt,{to:"/casual-plans/create",children:[s.jsx(aa,{className:"h-5 w-5 mr-2"}),"Create Casual Plan"]})})}),t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(a=>s.jsx(nP,{plan:a,onJoin:()=>{},onLeave:()=>{},isJoining:!1,isLeaving:!1,isAuthenticated:!0,onLoginPrompt:()=>{}},a.id))}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"No casual plans yet"}),s.jsx("p",{className:"text-neutral mb-6",children:"Be the first to create a casual meetup in your area"}),s.jsx(ee,{asChild:!0,className:"bg-vibrant-seafoam hover:bg-vibrant-seafoam/90",children:s.jsx(pt,{to:"/casual-plans/create",children:"Create the First Plan"})})]})]}):s.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 mb-8 text-center",children:[s.jsx(CD,{className:"h-12 w-12 text-vibrant-seafoam mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"Sign in to see full details"}),s.jsx("p",{className:"text-neutral mb-6",children:"Join our community to view locations, times, and connect with other members"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx(ee,{asChild:!0,className:"bg-vibrant-seafoam hover:bg-vibrant-seafoam/90",children:s.jsx(pt,{to:"/login",children:"Sign In"})}),s.jsx(ee,{variant:"outline",asChild:!0,children:s.jsx(pt,{to:"/signup",children:"Create Account"})})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-primary mb-6",children:"Recent Casual Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(a=>s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:border-gray-300 transition-colors",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:a.title}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsx("div",{className:"flex items-center text-sm text-gray-300",children:s.jsx("span",{children:" "})}),s.jsx("div",{className:"flex items-center text-sm text-gray-300",children:s.jsx("span",{children:" "})}),s.jsx("div",{className:"flex items-center text-sm text-gray-300",children:s.jsx("span",{children:" "})})]}),s.jsx("div",{className:"pt-2 border-t border-gray-100 text-center",children:s.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[s.jsx(pt,{to:"/login",className:"text-vibrant-seafoam hover:text-vibrant-seafoam/80 underline",children:"Sign in"})," ","to see full details"]})})]},a.id))})]}),s.jsxs("div",{className:"bg-secondary-25 rounded-2xl p-8 text-center",children:[s.jsx(aa,{className:"h-12 w-12 text-primary mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-primary mb-2",children:"Have a casual plan in mind?"}),s.jsx("p",{className:"text-neutral mb-6",children:"Create an account to post your own casual meetups and connect with locals"}),s.jsx(ee,{asChild:!0,size:"lg",className:"bg-primary hover:bg-primary/90",children:s.jsx(pt,{to:"/signup",children:"Get Started"})})]})]})},HV=()=>s.jsxs("div",{className:"w-full bg-gradient-to-b from-secondary-25 to-white min-h-screen",children:[s.jsx("section",{className:"py-20 md:py-32 bg-gradient-to-b from-white to-secondary-25",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-6 leading-tight",children:"Spontaneous plans? We've got those too."}),s.jsx("p",{className:"text-xl text-neutral max-w-3xl mx-auto leading-relaxed mb-8",children:"See or post casual meetups from others nearby  beach walks, coffee dates, surf sessions."}),s.jsxs("div",{className:"flex justify-center items-center gap-6 text-2xl opacity-60",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]})]})}),s.jsx("div",{className:"bg-white",children:s.jsx(WV,{})})]}),YV=()=>{const e=ot();return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-secondary-50 shadow-lg p-8 text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-vibrant-seafoam/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h2",{className:"text-2xl font-semibold text-primary mb-3",children:"Sign up or in to see others"}),s.jsx("p",{className:"text-neutral leading-relaxed",children:"Connect with friends and discover new things in your area."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(ee,{onClick:()=>e("/signup"),className:"w-full bg-primary hover:bg-primary/90 text-white",size:"lg",children:"Sign Up"}),s.jsx(ee,{onClick:()=>e("/login"),variant:"outline",className:"w-full border-primary/20 text-primary hover:bg-primary/5",size:"lg",children:"Log In"})]})]})})})},GV=e=>{const[t,r]=x.useState({friends:[],requests:[],suggestions:[],allProfiles:[]}),[n,a]=x.useState(!0),[o,c]=x.useState([]),[u,d]=x.useState([]),h=x.useCallback(async()=>{if(!e){a(!1);return}a(!0);try{console.log("Fetching friends data for user:",e);const{data:m,error:p}=await ae.from("friendships").select("*").or(`user_id.eq.${e},friend_id.eq.${e}`).eq("status","Accepted");if(p)throw console.error("Error fetching friendships:",p),p;const{data:v,error:y}=await ae.from("friendships").select("*").eq("friend_id",e).eq("status","Pending");if(y)throw console.error("Error fetching received requests:",y),y;const{data:N,error:_}=await ae.from("friendships").select("*").eq("user_id",e).eq("status","Pending");if(_)throw console.error("Error fetching sent requests:",_),_;const b=(m==null?void 0:m.map(D=>D.user_id===e?D.friend_id:D.user_id))||[],S=(v==null?void 0:v.map(D=>D.user_id))||[],k=(N==null?void 0:N.map(D=>D.friend_id))||[];console.log("Friend IDs (only accepted):",b),console.log("Request sender IDs:",S),console.log("Request receiver IDs:",k),c(k);const C=[...new Set([...b,...S,...k])];let P=[];if(C.length>0){const{data:D,error:W}=await ae.from("profiles").select("*").in("id",C);if(W)throw console.error("Error fetching profiles:",W),W;P=D}const T=P.filter(D=>b.includes(D.id)),R=[];if(v&&P)for(const D of v){const W=P.find(B=>B.id===D.user_id);W&&R.push({id:D.id,status:D.status.toLowerCase(),created_at:D.created_at,user_id:D.user_id,friend_id:D.friend_id,sender_id:D.user_id,receiver_id:D.friend_id,profile:W})}const M=[];if(N&&P)for(const D of N){const W=P.find(B=>B.id===D.friend_id);W&&M.push({id:D.id,status:D.status.toLowerCase(),created_at:D.created_at,user_id:D.user_id,friend_id:D.friend_id,sender_id:D.user_id,receiver_id:D.friend_id,profile:W})}d(M),console.log("Friend profiles (accepted only):",T),console.log("Requests with profiles:",R),r({friends:T,requests:R,suggestions:[],allProfiles:P})}catch(m){console.error("Error in fetchFriendsData:",m),r({friends:[],requests:[],suggestions:[],allProfiles:[]}),d([])}finally{a(!1)}},[e]);return x.useEffect(()=>{e&&h()},[e,h]),{loading:n,friends:t.friends||[],requests:t.requests||[],pendingRequests:u,pendingRequestIds:o,refreshFriendsData:h}},KV=e=>{const[t,r]=x.useState([]),[n,a]=x.useState(!0),o=x.useCallback(async()=>{if(!e){a(!1);return}try{a(!0);const{data:d,error:h}=await ae.from("friendships").select("id, status, created_at, user_id, friend_id").eq("friend_id",e).eq("status","Pending");if(h){console.error("Error fetching friend requests:",h),r([]),a(!1);return}if(!d||d.length===0){r([]),a(!1);return}const m=d.map(_=>_.user_id),{data:p,error:v}=await ae.from("profiles").select("id, username, avatar_url, email, location, location_category, status, status_details, tagline").in("id",m);if(v){console.error("Error fetching profiles:",v),r([]),a(!1);return}const y=new Map((p==null?void 0:p.map(_=>[_.id,_]))||[]),N=d.map(_=>{const b=y.get(_.user_id);return b?{id:_.id,status:"pending",created_at:_.created_at,user_id:_.user_id,friend_id:_.friend_id,sender_id:_.user_id,receiver_id:_.friend_id,profile:b}:null}).filter(_=>_!==null);r(N)}catch(d){console.error("Error in fetchRequests:",d),r([])}finally{a(!1)}},[e]);return x.useEffect(()=>{if(e){o();const d=ae.channel("friendship-changes").on("postgres_changes",{event:"*",schema:"public",table:"friendships",filter:`friend_id=eq.${e}`},()=>{o()}).subscribe();return()=>{d.unsubscribe()}}},[e,o]),{requests:t,loading:n,handleAcceptRequest:async d=>{try{const{error:h}=await ae.from("friendships").update({status:"Accepted"}).eq("id",d);if(h)throw h;return r(m=>m.filter(p=>p.id!==d)),!0}catch(h){return console.error("Error accepting friend request:",h),!1}},handleDeclineRequest:async d=>{try{const{error:h}=await ae.from("friendships").update({status:"Removed"}).eq("id",d);if(h)throw h;return r(m=>m.filter(p=>p.id!==d)),!0}catch(h){return console.error("Error declining friend request:",h),!1}},refreshRequests:o}},QV=e=>{const[t,r]=x.useState([]),[n,a]=x.useState(!0),[o,c]=x.useState([]),u=x.useCallback(async()=>{if(!e){console.log("No userId provided to useSuggestedFriends"),a(!1);return}a(!0);try{console.log("=== DEBUGGING SUGGESTED FRIENDS ==="),console.log("Fetching suggested friends for user:",e);const{data:h,error:m}=await ae.from("friendships").select("user_id, friend_id, status").or(`user_id.eq.${e},friend_id.eq.${e}`).eq("status","Accepted");m&&console.error("Error fetching friendships:",m);const p=(h==null?void 0:h.map(B=>B.user_id===e?B.friend_id:B.user_id))||[];console.log("Current friend IDs:",p);const{data:v,error:y}=await ae.from("event_rsvps").select("event_id, status").eq("user_id",e);if(y){console.error("Error fetching user RSVPs:",y),r([]),a(!1);return}if(console.log("All user RSVPs found:",(v==null?void 0:v.length)||0),console.log("User RSVPs:",v),!v||v.length===0){console.log("No RSVPs found for user"),r([]),a(!1);return}const N=v.filter(B=>B.status==="Going");if(console.log("Going RSVPs:",N),N.length===0){console.log('No "Going" RSVPs found for user'),r([]),a(!1);return}const _=N.map(B=>B.event_id);console.log("Event IDs where user is going:",_);const{data:b,error:S}=await ae.from("event_rsvps").select("user_id, event_id, status").in("event_id",_).eq("status","Going").neq("user_id",e);if(S){console.error("Error fetching co-attendees:",S),r([]),a(!1);return}if(console.log("Co-attendees found:",(b==null?void 0:b.length)||0),console.log("Co-attendees data:",b),!b||b.length===0){console.log("No co-attendees found"),r([]),a(!1);return}const k=[...new Set(b.map(B=>B.user_id))];console.log("Unique co-attendee user IDs:",k);const C=k.filter(B=>!p.includes(B)&&!o.includes(B));if(console.log("Filtered user IDs (excluding friends/dismissed):",C),C.length===0){console.log("No new suggested friends after filtering"),r([]),a(!1);return}const{data:P,error:T}=await ae.from("profiles").select("*").in("id",C);if(T){console.error("Error fetching profiles:",T),r([]),a(!1);return}console.log("Profiles found:",(P==null?void 0:P.length)||0),console.log("Profile data:",P);const{data:R,error:M}=await ae.from("events").select("id, title, start_date").in("id",_);if(M){console.error("Error fetching events:",M),r([]),a(!1);return}console.log("Events found:",(R==null?void 0:R.length)||0),console.log("Event data:",R);const D=[],W=new Set;C.forEach(B=>{if(W.has(B))return;W.add(B);const Z=P==null?void 0:P.find(H=>H.id===B);if(!Z){console.log(`No profile found for user ${B}`);return}const V=b.find(H=>H.user_id===B);if(!V){console.log(`No shared attendance found for user ${B}`);return}const K=R==null?void 0:R.find(H=>H.id===V.event_id);if(!K){console.log(`No shared event found for event ID ${V.event_id}`);return}console.log(`Creating suggestion for user ${Z.username} based on event ${K.title}`),D.push({id:Z.id,username:Z.username,avatar_url:Z.avatar_url,email:Z.email,location:Z.location,location_category:Z.location_category,status:Z.status,status_details:Z.status_details,tagline:Z.tagline,created_at:Z.created_at,updated_at:Z.updated_at,onboarded:Z.onboarded,onboarding_data:Z.onboarding_data,role:Z.role,sharedEventId:K.id,sharedEventTitle:K.title,sharedEventDate:K.start_date,connectionReason:`You both attended "${K.title}"`})}),D.sort((B,Z)=>{const V=new Date(B.sharedEventDate||"");return new Date(Z.sharedEventDate||"").getTime()-V.getTime()}),console.log("Final suggestions created:",D.length),console.log("Suggestions:",D),r(D.slice(0,10))}catch(h){console.error("Error fetching suggested friends:",h),r([])}finally{a(!1)}},[e,o]),d=x.useCallback(h=>{c(m=>[...m,h]),r(m=>m.filter(p=>p.id!==h))},[]);return x.useEffect(()=>{u()},[u]),{suggestedFriends:t,loading:n,dismissSuggestion:d,refreshSuggestions:u}},ZV=(e,t)=>{const[r,n]=x.useState(""),[a,o]=x.useState([]),[c,u]=x.useState(!1),d=x.useCallback(async()=>{if(!(!r.trim()||!e)){u(!0);try{const{data:m,error:p}=await ae.from("profiles").select("*").or(`username.ilike.%${r}%,location.ilike.%${r}%`).neq("id",e.id).limit(10);if(p)throw p;const v=(t==null?void 0:t.map(N=>N.id))||[],y=(m||[]).filter(N=>!v.includes(N.id)&&N.id!==e.id);o(y)}catch(m){console.error("Error searching for users:",m)}finally{u(!1)}}},[r,e,t]),h=m=>{n(m.target.value),m.target.value===""&&o([])};return x.useEffect(()=>{r.trim().length>=2&&d()},[r,d]),{searchQuery:r,searchResults:a,isSearching:c,handleSearchChange:h,setSearchQuery:n,setSearchResults:o}},sP=({status:e})=>{const r={Local:{color:"text-lime-600",bg:"bg-lime-100"},Tourist:{color:"text-amber-600",bg:"bg-amber-100"},"Digital Nomad":{color:"text-teal-600",bg:"bg-teal-100"},Expat:{color:"text-purple-600",bg:"bg-purple-100"},Visitor:{color:"text-orange-600",bg:"bg-orange-100"},Traveler:{color:"text-blue-600",bg:"bg-blue-100"},"Remote Worker":{color:"text-rose-600",bg:"bg-rose-100"}}[e]||{color:"text-gray-600",bg:"bg-gray-200"};return s.jsx($r,{className:`${r.bg} ${r.color} border-0 font-normal text-xs font-inter`,children:e})},JV=({friend:e})=>{const t=ot(),r=o=>o?o.substring(0,2).toUpperCase():"?",n=()=>e.avatar_url&&Array.isArray(e.avatar_url)&&e.avatar_url.length>0?e.avatar_url[0]:null,a=()=>{MV(e.id,t)};return s.jsx(Be,{className:"p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:a,children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(cs,{className:"h-12 w-12",children:[s.jsx(Is,{src:n()||void 0}),s.jsx(us,{children:r(e.username)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate hover:text-purple-700",children:e.username||"Unknown User"}),s.jsx(sP,{status:e.status})]}),e.location&&s.jsx("p",{className:"text-sm text-gray-500 truncate",children:e.location}),e.tagline&&s.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:e.tagline})]})]})})},XV=({friends:e,loading:t})=>t?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((r,n)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},n))}):e.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"No friends found"})}):s.jsx("div",{className:"space-y-4",children:e.map(r=>s.jsx(JV,{friend:r},r.id))}),eq=({requests:e,onAccept:t,onDecline:r,loading:n})=>{const a=c=>c?c.substring(0,2).toUpperCase():"?",o=c=>c&&Array.isArray(c)&&c.length>0?c[0]:null;return e.length===0?null:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Friend Requests (",e.length,")"]}),s.jsx("div",{className:"space-y-3",children:e.map(c=>s.jsx(Be,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs(cs,{className:"h-10 w-10",children:[s.jsx(Is,{src:o(c.profile.avatar_url)||void 0}),s.jsx(us,{children:a(c.profile.username)})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:c.profile.username||"Unknown User"}),c.profile.location&&s.jsx("p",{className:"text-sm text-gray-500",children:c.profile.location})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{size:"sm",onClick:()=>t(c.id),disabled:n,className:"bg-green-600 hover:bg-green-700",children:s.jsx(io,{className:"h-4 w-4"})}),s.jsx(ee,{size:"sm",variant:"outline",onClick:()=>r(c.id),disabled:n,children:s.jsx(ua,{className:"h-4 w-4"})})]})]})},c.id))})]})},tq=({searchQuery:e,onSearchChange:t,placeholder:r="Search by username, location or status..."})=>s.jsxs("div",{className:"relative",children:[s.jsx(ri,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{placeholder:r,className:"pl-10 pr-4 py-2 w-full rounded-full bg-card border-border focus-visible:ring-primary text-foreground",value:e,onChange:t})]}),gj=({friends:e,loading:t,requests:r,onAcceptRequest:n,onDeclineRequest:a,showFriendRequests:o,searchQuery:c="",onSearchChange:u})=>{const d=r&&r.length>0;return s.jsxs(s.Fragment,{children:[u&&s.jsx("div",{className:"mb-4",children:s.jsx(tq,{searchQuery:c,onSearchChange:u})}),d&&o&&s.jsx("div",{className:"mb-8",children:s.jsx(eq,{requests:r,onAccept:async h=>await n(h),onDecline:a,loading:t})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["My Friends (",(e==null?void 0:e.length)||0,")"]}),s.jsx(XV,{friends:e||[],loading:t})]})]})},rq=(e,t=[])=>{const{data:r=[],isLoading:n,error:a}=sr({queryKey:["event-based-suggestions",e,t],queryFn:async()=>{if(!e)return[];try{const{data:o,error:c}=await ae.from("event_rsvps").select(`
            event_id,
            events!inner (
              id, title, start_date, event_category
            )
          `).eq("user_id",e).in("status",["Going","Interested"]);if(c)return console.error("Error fetching user events:",c),[];if(!o||o.length===0)return[];const u=o.map(S=>S.event_id),{data:d,error:h}=await ae.from("event_rsvps").select(`
            user_id,
            event_id,
            events!inner (
              id, title, start_date, event_category
            )
          `).in("event_id",u).in("status",["Going","Interested"]).neq("user_id",e);if(h)return console.error("Error fetching mutual RSVPs:",h),[];if(!d)return[];const p=[...new Set(d.map(S=>S.user_id))].filter(S=>!t.includes(S));if(p.length===0)return[];const{data:v,error:y}=await ae.from("profiles").select("id, username, avatar_url, email, location, location_category, status, tagline").in("id",p);if(y)return console.error("Error fetching profiles:",y),[];if(!v)return[];const N=new Map,_=new Map(v.map(S=>[S.id,S]));return d.forEach(S=>{const k=S.user_id,C=S.events;if(t.includes(k))return;const P=_.get(k);if(!P)return;const T={id:P.id,username:P.username||null,avatar_url:P.avatar_url||null,email:P.email||null,location:P.location||null,location_category:P.location_category||null,status:P.status||null,tagline:P.tagline||null};N.has(k)||N.set(k,{profile:T,events:[]});const R=N.get(k);R.events.find(M=>M.id===C.id)||R.events.push({id:C.id,title:C.title,start_date:C.start_date,event_category:C.event_category})}),Array.from(N.entries()).map(([S,k])=>({...k.profile,mutual_events:k.events.sort((C,P)=>{const T=new Date(C.start_date||"");return new Date(P.start_date||"").getTime()-T.getTime()}),mutual_event_count:k.events.length})).filter(S=>S.mutual_event_count>0).sort((S,k)=>k.mutual_event_count-S.mutual_event_count).slice(0,6)}catch(o){return console.error("Error fetching event-based suggestions:",o),[]}},enabled:!!e});return{suggestions:r,isLoading:n,error:a}},nq=({currentUserId:e,friendIds:t,onAddFriend:r,onDismiss:n})=>{const{suggestions:a,isLoading:o}=rq(e,t),c=h=>h.substring(0,2).toUpperCase(),u=h=>h&&Array.isArray(h)&&h.length>0?h[0]:null,d=h=>h?new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"";return o?s.jsxs(Be,{className:"p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsx("h2",{className:"text-xl font-semibold text-center mb-2",children:"Friend Suggestions Based on Events"})}),s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},m))})]}):s.jsxs(Be,{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-center mb-2",children:"Friend Suggestions Based on Events"}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"People You May Know"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Based on events you've attended"})]})]}),a.length>0?s.jsx("div",{className:"space-y-4",children:a.map(h=>s.jsx(Be,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[s.jsxs(cs,{className:"h-12 w-12 flex-shrink-0",children:[s.jsx(Is,{src:u(h.avatar_url)||void 0}),s.jsx(us,{children:c(h.username||"U")})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:h.username||"Unknown User"}),s.jsxs($r,{variant:"secondary",className:"text-xs",children:[h.mutual_event_count," mutual event",h.mutual_event_count!==1?"s":""]})]}),h.location&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500 mb-2",children:[s.jsx(Yt,{className:"h-3 w-3"}),s.jsx("span",{className:"truncate",children:h.location})]}),h.tagline&&s.jsx("p",{className:"text-sm text-gray-600 truncate mb-2",children:h.tagline}),s.jsxs("div",{className:"space-y-1",children:[h.mutual_events.slice(0,2).map(m=>s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(bt,{className:"h-3 w-3"}),s.jsxs("span",{className:"truncate",children:[m.title," ",d(m.start_date)&&` ${d(m.start_date)}`]})]},m.id)),h.mutual_events.length>2&&s.jsxs("div",{className:"text-xs text-gray-400",children:["+",h.mutual_events.length-2," more event",h.mutual_events.length-2!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"flex space-x-2 flex-shrink-0",children:[s.jsx(ee,{size:"sm",onClick:()=>r==null?void 0:r(h.id),className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(hx,{className:"h-4 w-4"})}),s.jsx(ee,{size:"sm",variant:"outline",onClick:()=>n==null?void 0:n(h.id),children:s.jsx(ua,{className:"h-4 w-4"})})]})]})},h.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No event-based suggestions yet"}),s.jsx("p",{className:"text-gray-600",children:"Attend some events to find people you may know!"})]})]})},sq=({suggestedFriends:e,loading:t,onAddFriend:r,onDismiss:n,currentUserId:a,friendIds:o=[]})=>{const c=m=>m?m.substring(0,2).toUpperCase():"?",u=m=>m&&Array.isArray(m)&&m.length>0?m[0]:null,d=async m=>{await r(m)},h=m=>{n(m)};return t?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((m,p)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"})]})]})},p))}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(nq,{currentUserId:a,friendIds:o,onAddFriend:d,onDismiss:h}),e.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h2",{className:"text-xl font-semibold",children:["Other Suggestions (",e.length,")"]}),s.jsx("div",{className:"space-y-4",children:e.map(m=>s.jsx(Be,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(cs,{className:"h-12 w-12",children:[s.jsx(Is,{src:u(m.avatar_url)||void 0}),s.jsx(us,{children:c(m.username)})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:m.username||"Unknown User"}),s.jsx(sP,{status:m.status})]}),m.location&&s.jsx("p",{className:"text-sm text-gray-500 truncate",children:m.location}),m.tagline&&s.jsx("p",{className:"text-sm text-gray-600 truncate mt-1",children:m.tagline})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(ee,{size:"sm",onClick:()=>r(m.id),disabled:t,className:"bg-blue-600 hover:bg-blue-700",children:s.jsx(hx,{className:"h-4 w-4"})}),s.jsx(ee,{size:"sm",variant:"outline",onClick:()=>n(m.id),disabled:t,children:s.jsx(ua,{className:"h-4 w-4"})})]})]})},m.id))})]}),e.length===0&&!t&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No additional suggestions"}),s.jsx("p",{className:"text-gray-600",children:"Check the event-based suggestions above or check back later."})]})]})},aq=()=>{const e=Dt();return s.jsx("div",{className:"relative w-full bg-white",children:s.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center text-center px-4 sm:px-6 lg:px-8 py-12 md:py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:`${e?"text-3xl":"text-4xl md:text-5xl"} font-bold tracking-tight text-black mb-4 leading-tight`,children:"Your Crew"}),s.jsx("p",{className:`${e?"text-base":"text-lg md:text-xl"} text-black max-w-2xl mx-auto leading-relaxed font-medium`,children:"Find your people. Join the community, not just the plans."}),s.jsx("div",{className:"mt-4",children:s.jsx("span",{className:`${e?"text-sm":"text-base"} text-gray-600 font-semibold uppercase tracking-wider`,children:"Connect  Explore  Belong"})})]})})})};var Jh="Tabs",[iq,oH]=ln(Jh,[bh]),aP=bh(),[oq,Ty]=iq(Jh),iP=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:c="horizontal",dir:u,activationMode:d="automatic",...h}=e,m=ph(u),[p,v]=Ts({prop:n,onChange:a,defaultProp:o??"",caller:Jh});return s.jsx(oq,{scope:r,baseId:fr(),value:p,onValueChange:v,orientation:c,dir:m,activationMode:d,children:s.jsx(Re.div,{dir:m,"data-orientation":c,...h,ref:t})})});iP.displayName=Jh;var oP="TabsList",lP=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=Ty(oP,r),c=aP(r);return s.jsx(ek,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:n,children:s.jsx(Re.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});lP.displayName=oP;var cP="TabsTrigger",uP=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,c=Ty(cP,r),u=aP(r),d=hP(c.baseId,n),h=mP(c.baseId,n),m=n===c.value;return s.jsx(tk,{asChild:!0,...u,focusable:!a,active:m,children:s.jsx(Re.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...o,ref:t,onMouseDown:je(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?c.onValueChange(n):p.preventDefault()}),onKeyDown:je(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(n)}),onFocus:je(e.onFocus,()=>{const p=c.activationMode!=="manual";!m&&!a&&p&&c.onValueChange(n)})})})});uP.displayName=cP;var dP="TabsContent",fP=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...c}=e,u=Ty(dP,r),d=hP(u.baseId,n),h=mP(u.baseId,n),m=n===u.value,p=x.useRef(m);return x.useEffect(()=>{const v=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(v)},[]),s.jsx(kn,{present:a||m,children:({present:v})=>s.jsx(Re.div,{"data-state":m?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!v,id:h,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:v&&o})})});fP.displayName=dP;function hP(e,t){return`${e}-trigger-${t}`}function mP(e,t){return`${e}-content-${t}`}var lq=iP,pP=lP,gP=uP,vP=fP;const ec=lq,uo=x.forwardRef(({className:e,...t},r)=>s.jsx(pP,{ref:r,className:re("inline-flex h-10 items-center justify-center rounded-xl bg-gradient-to-r from-[#E0F7F7] via-[#FFF] to-[#FFFBEB] shadow-turquoise p-1 text-muted-foreground w-full border border-[#CFF0F0]",e),...t}));uo.displayName=pP.displayName;const ur=x.forwardRef(({className:e,...t},r)=>s.jsx(gP,{ref:r,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-1.5 text-base font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-brand-turquoise data-[state=active]:text-white data-[state=active]:shadow-turquoise hover:bg-yellow-50 hover:text-brand-turquoise",e),...t}));ur.displayName=gP.displayName;const dr=x.forwardRef(({className:e,...t},r)=>s.jsx(vP,{ref:r,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dr.displayName=vP.displayName;const cq=({activeTab:e,setActiveTab:t,pendingRequestsCount:r,suggestedFriendsCount:n,allFriendsContent:a,suggestionsContent:o,requestsContent:c,eventsContent:u,casualPlansContent:d})=>{const h=Dt();return s.jsxs(ec,{value:e,onValueChange:t,className:"space-y-3 md:space-y-4",children:[s.jsxs(uo,{className:`
        w-full shadow-turquoise border border-[#AEF0E7]
        bg-gradient-to-r from-[#E0F7F7] via-[#FFF] to-[#FFFBEB]
        ${h?"grid grid-cols-3 h-10 gap-0.5 rounded-xl":"grid grid-cols-5 h-9 rounded-xl"}
        p-0.5
      `,children:[s.jsxs(ur,{value:"all-friends",className:`
            ${h?"flex flex-col items-center gap-0.5 px-1.5 py-1.5 text-[11px] rounded-lg min-h-0":"flex items-center gap-1 px-2 py-1.5 text-sm rounded-lg min-h-0"}
            whitespace-nowrap font-semibold transition-all data-[state=active]:bg-brand-turquoise data-[state=active]:text-white data-[state=active]:shadow-turquoise hover:bg-yellow-50 hover:text-ocean-deep
          `,children:[s.jsx(xr,{className:`${h?"h-3.5 w-3.5":"h-4 w-4"}`}),s.jsx("span",{className:h?"leading-none":"",children:h?"Friends":"All Friends"})]}),s.jsxs(ur,{value:"suggestions",className:`
            ${h?"flex flex-col items-center gap-0.5 px-1.5 py-1.5 text-[11px] relative rounded-lg min-h-0":"relative flex items-center gap-1 px-2 py-1.5 text-sm rounded-lg min-h-0"}
            whitespace-nowrap font-semibold transition-all data-[state=active]:bg-brand-turquoise data-[state=active]:text-white data-[state=active]:shadow-turquoise hover:bg-yellow-50 hover:text-ocean-deep
          `,children:[s.jsx(hx,{className:`${h?"h-3.5 w-3.5":"h-4 w-4"}`}),s.jsx("span",{className:h?"leading-none":"",children:h?"Discover":"Suggestions"}),n>0&&s.jsx($r,{variant:"secondary",className:`
                absolute -top-1 -right-1 
                h-3.5 w-3.5 p-0 flex items-center justify-center 
                text-[9px] bg-brand-seafoam text-brand-turquoise border border-brand-turquoise shadow-turquoise
              `,children:n})]}),s.jsxs(ur,{value:"requests",className:`
            ${h?"flex flex-col items-center gap-0.5 px-1.5 py-1.5 text-[11px] relative rounded-lg min-h-0":"relative flex items-center gap-1 px-2 py-1.5 text-sm rounded-lg min-h-0"}
            whitespace-nowrap font-semibold transition-all data-[state=active]:bg-[#FB7185] data-[state=active]:text-white data-[state=active]:shadow-turquoise hover:bg-yellow-50 hover:text-ocean-deep
          `,children:[s.jsx(Mf,{className:`${h?"h-3.5 w-3.5":"h-4 w-4"}`}),s.jsx("span",{className:h?"leading-none":"",children:"Requests"}),r>0&&s.jsx($r,{variant:"destructive",className:`
                absolute -top-1 -right-1
                h-3.5 w-3.5 p-0 flex items-center justify-center 
                text-[9px] bg-pastel-coral text-[#FF5C57] border border-[#FF5C57] shadow-turquoise
              `,children:r})]}),!h&&s.jsxs(s.Fragment,{children:[s.jsxs(ur,{value:"events",className:"flex items-center gap-1 px-2 py-1.5 rounded-lg whitespace-nowrap font-semibold text-sm min-h-0 transition-all data-[state=active]:bg-brand-turquoise data-[state=active]:text-white data-[state=active]:shadow-turquoise hover:bg-yellow-50 hover:text-ocean-deep",children:[s.jsx(bt,{className:"h-4 w-4"}),"Events"]}),s.jsxs(ur,{value:"casual-plans",className:"flex items-center gap-1 px-2 py-1.5 rounded-lg whitespace-nowrap font-semibold text-sm min-h-0 transition-all data-[state=active]:bg-brand-turquoise data-[state=active]:text-white data-[state=active]:shadow-turquoise hover:bg-yellow-50 hover:text-ocean-deep",children:[s.jsx(Yt,{className:"h-4 w-4"}),"Casual Plans"]})]})]}),h&&(e==="events"||e==="casual-plans")&&s.jsxs("div",{className:"flex gap-1 px-0.5 mt-1",children:[s.jsxs("button",{onClick:()=>t("events"),className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-md text-xs font-medium transition-colors ${e==="events"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[s.jsx(bt,{className:"h-3 w-3"}),"Events"]}),s.jsxs("button",{onClick:()=>t("casual-plans"),className:`flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-md text-xs font-medium transition-colors ${e==="casual-plans"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[s.jsx(Yt,{className:"h-3 w-3"}),"Plans"]})]}),h&&["all-friends","suggestions","requests"].includes(e)&&s.jsxs("div",{className:"flex gap-1 px-0.5 mt-1",children:[s.jsxs("button",{onClick:()=>t("events"),className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-md text-xs font-medium bg-muted text-muted-foreground hover:bg-muted/80 transition-colors",children:[s.jsx(bt,{className:"h-3 w-3"}),"View Events"]}),s.jsxs("button",{onClick:()=>t("casual-plans"),className:"flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded-md text-xs font-medium bg-muted text-muted-foreground hover:bg-muted/80 transition-colors",children:[s.jsx(Yt,{className:"h-3 w-3"}),"View Plans"]})]}),s.jsx(dr,{value:"all-friends",className:"space-y-4",children:a}),s.jsx(dr,{value:"suggestions",className:"space-y-4",children:o}),s.jsx(dr,{value:"requests",className:"space-y-4",children:c}),s.jsx(dr,{value:"events",className:"space-y-4",children:u}),s.jsx(dr,{value:"casual-plans",className:"space-y-4",children:d})]})},uq=(e,t)=>{const{data:r=[],isLoading:n,error:a}=sr({queryKey:["friends-events",e,t],queryFn:async()=>{if(!e.length||!t)return[];try{const{data:o,error:c}=await ae.from("event_rsvps").select(`
            status,
            user_id,
            events (
              id, title, description, event_category,
              start_time, end_time, start_date, end_date,
              image_urls, creator, venue_id, vibe, tags,
              venues:venue_id (
                id, name, street, city
              ),
              creator:profiles(id, username, avatar_url, email, location, status, tagline),
              event_rsvps(id, user_id, status)
            )
          `).in("user_id",e).in("status",["Going","Interested"]);if(c)return console.error("Error fetching friend RSVPs:",c),[];const{data:u,error:d}=await ae.from("events").select(`
            id, title, description, event_category,
            start_time, end_time, start_date, end_date,
            image_urls, creator, venue_id, vibe, tags,
            venues:venue_id (
              id, name, street, city
            ),
            creator:profiles(id, username, avatar_url, email, location, status, tagline),
            event_rsvps(id, user_id, status)
          `).in("creator",e);d&&console.error("Error fetching friend created events:",d);const h=(o==null?void 0:o.filter(y=>y.events).map(y=>{const N=y.events;return{...El([N],t)[0],friend_rsvp_status:y.status,friend_user_id:y.user_id}}))||[],m=u?El(u,t).map(y=>({...y,is_friend_creator:!0})):[];return[...h,...m].filter((y,N,_)=>N===_.findIndex(b=>b.id===y.id)).sort((y,N)=>{const _=new Date(y.start_date||""),b=new Date(N.start_date||"");return _.getTime()-b.getTime()})}catch(o){return console.error("Error fetching friends events:",o),[]}},enabled:e.length>0&&!!t});return{friendsEvents:r,isLoading:n,error:a}},vj=({event:e,friendProfile:t})=>{var c,u,d,h,m,p;const r=v=>v.substring(0,2).toUpperCase(),n=v=>v&&Array.isArray(v)&&v.length>0?v[0]:null,a=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",o=v=>v?new Date(`1970-01-01T${v}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"";return s.jsx(Be,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden",children:e.image_urls&&e.image_urls.length>0?s.jsx("img",{src:e.image_urls[0],alt:e.title,className:"w-full h-full object-cover"}):s.jsx("div",{className:"text-gray-400 text-xs text-center",children:"No Image"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),e.friend_rsvp_status&&s.jsx($r,{variant:e.friend_rsvp_status==="Going"?"default":"secondary",children:e.friend_rsvp_status}),e.is_friend_creator&&s.jsx($r,{variant:"outline",children:"Creator"})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.start_date&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Sl,{className:"h-3 w-3"}),s.jsx("span",{children:a(e.start_date)}),e.start_time&&s.jsxs("span",{children:[" ",o(e.start_time)]})]}),e.venues&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"h-3 w-3"}),s.jsxs("span",{className:"truncate",children:[e.venues.name,", ",e.venues.city]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xr,{className:"h-3 w-3"}),s.jsxs("span",{children:[((c=e.attendees)==null?void 0:c.going)||0," going  ",((u=e.attendees)==null?void 0:u.interested)||0," interested"]})]})]}),(t||e.creator)&&s.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-2 border-t border-gray-100",children:[s.jsxs(cs,{className:"h-6 w-6",children:[s.jsx(Is,{src:t?n(t.avatar_url)||void 0:n((d=e.creator)==null?void 0:d.avatar_url)||void 0}),s.jsx(us,{className:"text-xs",children:r((t==null?void 0:t.username)||((h=e.creator)==null?void 0:h.username)||"U")})]}),s.jsx("span",{className:"text-xs text-gray-500",children:e.is_friend_creator?`Created by ${(t==null?void 0:t.username)||((m=e.creator)==null?void 0:m.username)}`:`${t==null?void 0:t.username} is ${(p=e.friend_rsvp_status)==null?void 0:p.toLowerCase()}`})]})]})]})})},dq=({friendIds:e,currentUserId:t,friends:r})=>{const[n,a]=x.useState("upcoming"),[o,c]=x.useState("all"),{friendsEvents:u,isLoading:d}=uq(e,t),{upcomingEvents:h,pastEvents:m}=x.useMemo(()=>{const v=new Date,y=u.filter(_=>new Date(_.start_date||"")>=v),N=u.filter(_=>new Date(_.start_date||"")<v);return{upcomingEvents:y,pastEvents:N}},[u]),p=v=>{var y;return v.is_friend_creator&&((y=v.creator)!=null&&y.id)?r.find(N=>N.id===v.creator.id):v.friend_user_id?r.find(N=>N.id===v.friend_user_id):null};return d?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((v,y)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]})},y))}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(bt,{className:"h-5 w-5 text-gray-500"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Friends' Events"})]}),s.jsxs(ec,{value:n,onValueChange:v=>a(v),className:"w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs(uo,{className:"grid w-auto grid-cols-2",children:[s.jsxs(ur,{value:"upcoming",className:"flex items-center gap-2",children:["Upcoming",h.length>0&&s.jsx("span",{className:"bg-blue-500 text-white px-2 py-1 rounded-full text-xs",children:h.length})]}),s.jsxs(ur,{value:"past",className:"flex items-center gap-2",children:["Past",m.length>0&&s.jsx("span",{className:"bg-gray-500 text-white px-2 py-1 rounded-full text-xs",children:m.length})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ee,{variant:o==="all"?"default":"outline",onClick:()=>c("all"),className:"rounded-full",children:"All"}),s.jsx(ee,{variant:o==="events"?"default":"outline",onClick:()=>c("events"),className:"rounded-full",children:"Events"})]})]}),s.jsx(dr,{value:"upcoming",children:h.length>0?s.jsx("div",{className:"space-y-4",children:h.map(v=>s.jsx(vj,{event:v,friendProfile:p(v)},v.id))}):s.jsxs(Be,{className:"p-8 text-center",children:[s.jsx(xr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No upcoming events"}),s.jsx("p",{className:"text-gray-600",children:"Events from your friends will appear here when they create them or RSVP to events."})]})}),s.jsx(dr,{value:"past",children:m.length>0?s.jsx("div",{className:"space-y-4",children:m.map(v=>s.jsx(vj,{event:v,friendProfile:p(v)},v.id))}):s.jsxs(Be,{className:"p-8 text-center",children:[s.jsx(xr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No past events"}),s.jsx("p",{className:"text-gray-600",children:"Past events from your friends will appear here."})]})})]})]})},fq=({searchQuery:e,onSearchChange:t,disabled:r=!1})=>s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("div",{className:"relative",children:[s.jsx(ri,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search friends by name...",value:e,onChange:t,disabled:r,className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white border border-gray-300 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-black/20"})]})})}),hq=(e,t)=>{const{data:r=[],isLoading:n,error:a}=sr({queryKey:["friends-casual-plans",e,t],queryFn:async()=>{if(!e.length||!t)return[];try{const{data:o,error:c}=await ae.from("casual_plans").select(`
            *,
            creator_profile:profiles!casual_plans_creator_id_fkey (
              id, username, avatar_url
            ),
            attendees:casual_plan_attendees (
              id, user_id,
              user_profile:profiles!casual_plan_attendees_user_id_fkey (
                id, username, avatar_url
              )
            )
          `).in("creator_id",e).gte("date",new Date().toISOString().split("T")[0]).order("date",{ascending:!0});c&&console.error("Error fetching friend created plans:",c);const{data:u,error:d}=await ae.from("casual_plan_attendees").select(`
            casual_plans (
              *,
              creator_profile:profiles!casual_plans_creator_id_fkey (
                id, username, avatar_url
              ),
              attendees:casual_plan_attendees (
                id, user_id,
                user_profile:profiles!casual_plan_attendees_user_id_fkey (
                  id, username, avatar_url
                )
              )
            )
          `).in("user_id",e);d&&console.error("Error fetching friend attending plans:",d);const h=(o==null?void 0:o.map(y=>{var N,_;return{...y,creator_profile:y.creator_profile,attendees:y.attendees||[],attendee_count:((N=y.attendees)==null?void 0:N.length)||0,user_attending:((_=y.attendees)==null?void 0:_.some(b=>b.user_id===t))||!1,is_friend_creator:!0}}))||[],m=(u==null?void 0:u.filter(y=>y.casual_plans).map(y=>{var _,b;const N=y.casual_plans;return{...N,creator_profile:N.creator_profile,attendees:N.attendees||[],attendee_count:((_=N.attendees)==null?void 0:_.length)||0,user_attending:((b=N.attendees)==null?void 0:b.some(S=>S.user_id===t))||!1,friend_attending:!0}}))||[];return[...h,...m].filter((y,N,_)=>N===_.findIndex(b=>b.id===y.id)).sort((y,N)=>{const _=new Date(y.date),b=new Date(N.date);return _.getTime()-b.getTime()})}catch(o){return console.error("Error fetching friends casual plans:",o),[]}},enabled:e.length>0&&!!t});return{friendsCasualPlans:r,isLoading:n,error:a}},mq=({plan:e})=>{const t=o=>o.substring(0,2).toUpperCase(),r=o=>o&&Array.isArray(o)&&o.length>0?o[0]:null,n=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"}),a=o=>new Date(`1970-01-01T${o}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return s.jsx(Be,{className:"p-4 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:e.vibe==="surf"?"":e.vibe==="party"?"":e.vibe==="chill"?"":""})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900 truncate",children:e.title}),e.is_friend_creator&&s.jsx($r,{variant:"outline",children:"Creator"}),e.friend_attending&&!e.is_friend_creator&&s.jsx($r,{variant:"secondary",children:"Attending"})]}),s.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Sl,{className:"h-3 w-3"}),s.jsxs("span",{children:[n(e.date),"  ",a(e.time)]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"h-3 w-3"}),s.jsx("span",{className:"truncate",children:e.location})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(xr,{className:"h-3 w-3"}),s.jsxs("span",{children:[e.attendee_count||0," attending"]}),e.max_attendees&&s.jsxs("span",{children:[" ",e.max_attendees," max"]})]})]}),e.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:e.description}),e.creator_profile&&s.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-2 border-t border-gray-100",children:[s.jsxs(cs,{className:"h-6 w-6",children:[s.jsx(Is,{src:r(e.creator_profile.avatar_url)||void 0}),s.jsx(us,{className:"text-xs",children:t(e.creator_profile.username)})]}),s.jsx("span",{className:"text-xs text-gray-500",children:e.is_friend_creator?`Created by ${e.creator_profile.username}`:`${e.creator_profile.username} is attending`})]})]})]})})},pq=({friendIds:e,currentUserId:t})=>{const[r,n]=x.useState("upcoming"),{friendsCasualPlans:a,isLoading:o}=hq(e,t),{upcomingPlans:c,pastPlans:u}=x.useMemo(()=>{const h=new Date,m=a.filter(v=>new Date(v.date)>=h),p=a.filter(v=>new Date(v.date)<h);return{upcomingPlans:m,pastPlans:p}},[a]),d=r==="upcoming"?c:u;return o?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((h,m)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex gap-4 p-4 border rounded-lg",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]})},m))}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Friends' Casual Plans"}),s.jsxs("span",{className:"text-sm text-gray-500",children:[c.length," upcoming"]})]}),s.jsxs("div",{className:"flex gap-3 mb-6",children:[s.jsxs(ee,{variant:r==="upcoming"?"default":"ghost",onClick:()=>n("upcoming"),className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Upcoming",c.length>0&&s.jsx("span",{className:"ml-1 bg-gray-200 text-gray-800 px-2 py-1 rounded-full text-xs",children:c.length})]}),s.jsxs(ee,{variant:r==="past"?"default":"ghost",onClick:()=>n("past"),className:"flex items-center gap-2",children:[s.jsx(bt,{className:"h-4 w-4"}),"Past",u.length>0&&s.jsx("span",{className:"ml-1 bg-gray-200 text-gray-800 px-2 py-1 rounded-full text-xs",children:u.length})]})]}),d.length>0?s.jsx("div",{className:"space-y-4",children:d.map(h=>s.jsx(mq,{plan:h},h.id))}):s.jsxs(Be,{className:"p-8 text-center",children:[s.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:["No ",r," casual plans"]}),s.jsx("p",{className:"text-gray-600 mb-4",children:r==="upcoming"?"Your friends haven't created any upcoming casual plans yet":"No past casual plans from your friends"}),r==="upcoming"&&s.jsx(ee,{variant:"outline",children:"Discover Plans"})]})]})},gq=()=>{const{user:e}=Xe(),[t,r]=x.useState("all-friends"),{friends:n,loading:a,refreshFriendsData:o}=GV(e==null?void 0:e.id),{requests:c,loading:u,handleAcceptRequest:d,handleDeclineRequest:h,refreshRequests:m}=KV(e==null?void 0:e.id),{suggestedFriends:p,loading:v,dismissSuggestion:y,refreshSuggestions:N}=QV(e==null?void 0:e.id),{searchQuery:_,handleSearchChange:b}=ZV(e,n),S=te.useMemo(()=>{if(!n||!e)return[];const B=n.filter(K=>K.id!==e.id);if(!_)return B;const Z=_.toLowerCase();return B.filter(K=>{var H,me,le;return((H=K.username)==null?void 0:H.toLowerCase().includes(Z))||((me=K.location)==null?void 0:me.toLowerCase().includes(Z))||((le=K.status)==null?void 0:le.toLowerCase().includes(Z))})},[_,n,e]),k=te.useMemo(()=>(n==null?void 0:n.map(B=>B.id))||[],[n]),C=async B=>{if(e)try{const{error:Z}=await ae.from("friendships").insert({user_id:e.id,friend_id:B,status:"Pending"});if(Z)throw Z;o()}catch(Z){console.error("Error sending friend request:",Z)}},P=async B=>{await C(B),N()},T=B=>{y(B)},R=async B=>{const Z=await d(B);return Z&&o(),Z},M=async B=>{const Z=await h(B);return Z&&m(),Z},D=(c==null?void 0:c.length)||0,W=(p==null?void 0:p.length)||0;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx(aq,{}),s.jsx("div",{className:"px-4",children:s.jsx(fq,{searchQuery:_,onSearchChange:b})}),s.jsx("div",{className:"container mx-auto px-4 pb-6 md:pb-8",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm p-3 md:p-6",children:s.jsx(cq,{activeTab:t,setActiveTab:r,pendingRequestsCount:D,suggestedFriendsCount:W,allFriendsContent:s.jsx(gj,{friends:S,loading:a,requests:c||[],onAcceptRequest:R,onDeclineRequest:M,showFriendRequests:!1,searchQuery:void 0,onSearchChange:void 0}),suggestionsContent:s.jsx(sq,{suggestedFriends:p,loading:v,onAddFriend:P,onDismiss:T,currentUserId:e==null?void 0:e.id,friendIds:k}),requestsContent:s.jsx(gj,{friends:[],loading:u,requests:c||[],onAcceptRequest:R,onDeclineRequest:M,showFriendRequests:!0,searchQuery:void 0,onSearchChange:void 0}),eventsContent:s.jsx(dq,{friendIds:k,currentUserId:e.id,friends:n||[]}),casualPlansContent:s.jsx(pq,{friendIds:k,currentUserId:e.id})})})})})]})},vq=()=>{const{user:e,loading:t}=Xe();return t?s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-secondary-25 to-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-primary",children:"Loading..."})]})}):e?s.jsxs("div",{className:"w-full bg-gradient-to-b from-secondary-25 to-white min-h-screen",children:[s.jsx("section",{className:"py-20 md:py-32 bg-gradient-to-b from-white to-secondary-25",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-6 leading-tight",children:["Your ",s.jsx("span",{className:"text-vibrant-seafoam",children:"crew"})]}),s.jsx("p",{className:"text-xl text-neutral max-w-3xl mx-auto leading-relaxed mb-8",children:"See what your friends are up to and discover events together."}),s.jsxs("div",{className:"flex justify-center items-center gap-6 text-2xl opacity-60",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]})]})}),s.jsx("div",{className:"bg-white",children:s.jsx(gq,{})})]}):s.jsxs("div",{className:"w-full bg-gradient-to-b from-secondary-25 to-white min-h-screen",children:[s.jsx("section",{className:"py-20 md:py-32 bg-gradient-to-b from-white to-secondary-25",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-primary mb-6 leading-tight",children:["Connect with your ",s.jsx("span",{className:"text-vibrant-seafoam",children:"crew"})]}),s.jsx("p",{className:"text-xl text-neutral max-w-3xl mx-auto leading-relaxed mb-8",children:"See what your friends are up to, discover events together, and make new connections."}),s.jsxs("div",{className:"flex justify-center items-center gap-6 text-2xl opacity-60",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]})]})}),s.jsx("div",{className:"bg-white",children:s.jsx(YV,{})})]})};var Xh="Switch",[xq,lH]=ln(Xh),[yq,wq]=xq(Xh),xP=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:c,disabled:u,value:d="on",onCheckedChange:h,form:m,...p}=e,[v,y]=x.useState(null),N=at(t,C=>y(C)),_=x.useRef(!1),b=v?m||!!v.closest("form"):!0,[S,k]=Ts({prop:a,defaultProp:o??!1,onChange:h,caller:Xh});return s.jsxs(yq,{scope:r,checked:S,disabled:u,children:[s.jsx(Re.button,{type:"button",role:"switch","aria-checked":S,"aria-required":c,"data-state":_P(S),"data-disabled":u?"":void 0,disabled:u,value:d,...p,ref:N,onClick:je(e.onClick,C=>{k(P=>!P),b&&(_.current=C.isPropagationStopped(),_.current||C.stopPropagation())})}),b&&s.jsx(bP,{control:v,bubbles:!_.current,name:n,value:d,checked:S,required:c,disabled:u,form:m,style:{transform:"translateX(-100%)"}})]})});xP.displayName=Xh;var yP="SwitchThumb",wP=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=wq(yP,r);return s.jsx(Re.span,{"data-state":_P(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});wP.displayName=yP;var bq="SwitchBubbleInput",bP=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},o)=>{const c=x.useRef(null),u=at(c,o),d=dE(r),h=$S(t);return x.useEffect(()=>{const m=c.current;if(!m)return;const p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&y){const N=new Event("click",{bubbles:n});y.call(m,r),m.dispatchEvent(N)}},[d,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:u,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bP.displayName=bq;function _P(e){return e?"checked":"unchecked"}var jP=xP,_q=wP;const Mi=x.forwardRef(({className:e,...t},r)=>s.jsx(jP,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-gray-200",e),...t,ref:r,children:s.jsx(_q,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Mi.displayName=jP.displayName;const jq=({userId:e})=>{const[t,r]=x.useState({user_id:e,event_reminders:!0,friend_requests:!0,event_invitations:!0,new_messages:!0,event_updates:!0}),[n,a]=x.useState(!0),[o,c]=x.useState(!1),[u,d]=x.useState(!1);x.useEffect(()=>{h()},[e]);const h=async()=>{try{const{data:v,error:y}=await ae.from("user_notification_settings").select("*").eq("user_id",e).maybeSingle();if(y&&y.code!=="PGRST116"){console.error("Error fetching notification settings:",y);return}if(v)r(v);else{const N={user_id:e,event_reminders:!0,friend_requests:!0,event_invitations:!0,new_messages:!0,event_updates:!0},{data:_,error:b}=await ae.from("user_notification_settings").insert(N).select().single();b?console.error("Error creating default notification settings:",b):r(_)}}catch(v){console.error("Error in fetchNotificationSettings:",v)}finally{a(!1)}},m=(v,y)=>{r(N=>({...N,[v]:y})),c(!0)},p=async()=>{if(o){d(!0);try{const{error:v}=await ae.from("user_notification_settings").upsert({user_id:e,event_reminders:t.event_reminders,friend_requests:t.friend_requests,event_invitations:t.event_invitations,new_messages:t.new_messages,event_updates:t.event_updates});v?(console.error("Error saving notification settings:",v),Ut.error("Failed to save notification settings")):(c(!1),Ut.success("Your notification preferences have been updated"))}catch(v){console.error("Error in handleSave:",v),Ut.error("Failed to save notification settings")}finally{d(!1)}}};return n?s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"h-5 w-5"}),"Notifications"]}),s.jsx(Mt,{children:"Manage your notification preferences"})]}),s.jsx(ut,{children:s.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(v=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-32"}),s.jsx("div",{className:"h-3 bg-gray-100 rounded animate-pulse w-48"})]}),s.jsx("div",{className:"h-6 w-11 bg-gray-200 rounded-full animate-pulse"})]},v))})})]}):s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"h-5 w-5"}),"Notifications"]}),s.jsx(Mt,{children:"Manage your notification preferences"})]}),s.jsxs(ut,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-4",children:"Email Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Event Reminders"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about upcoming events you're attending"})]}),s.jsx(Mi,{checked:t.event_reminders,onCheckedChange:v=>m("event_reminders",v)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Friend Requests"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when someone sends you a friend request"})]}),s.jsx(Mi,{checked:t.friend_requests,onCheckedChange:v=>m("friend_requests",v)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Event Invitations"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when you're invited to an event"})]}),s.jsx(Mi,{checked:t.event_invitations,onCheckedChange:v=>m("event_invitations",v)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-4",children:"Push Notifications"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"New Messages"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when you receive new messages"})]}),s.jsx(Mi,{checked:t.new_messages,onCheckedChange:v=>m("new_messages",v)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium",children:"Event Updates"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when events you're attending are updated"})]}),s.jsx(Mi,{checked:t.event_updates,onCheckedChange:v=>m("event_updates",v)})]})]})]}),o&&s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(ee,{onClick:p,disabled:u,className:"flex items-center gap-2",children:[u?s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):s.jsx(qN,{className:"h-4 w-4"}),u?"Saving...":"Save Preferences"]})})]})]})};function Nq(e){const[t,r]=x.useState(null),[n,a]=x.useState(!0),[o,c]=x.useState(null);return x.useEffect(()=>{async function d(){if(!e){a(!1);return}try{a(!0),console.log("Fetching privacy settings for user:",e);const{data:h,error:m}=await ae.from("user_privacy_settings").select("*").eq("user_id",e).maybeSingle();if(m)if(console.error("Error fetching privacy settings:",m),m.code==="PGRST116"){console.log("No privacy settings found, creating default ones...");const{data:p,error:v}=await ae.from("user_privacy_settings").insert({user_id:e,public_profile:!0,show_event_attendance:!0,share_activity_with_friends:!1,allow_tagging:!0,show_rsvp_status:!0}).select().single();v?(console.error("Error creating default privacy settings:",v),c(v.message)):(console.log("Created default privacy settings:",p),r(p))}else c(m.message);else console.log("Fetched privacy settings:",h),r(h)}catch(h){console.error("Unexpected error:",h),c("An unexpected error occurred")}finally{a(!1)}}d()},[e]),{settings:t,loading:n,error:o,updateSetting:async(d,h)=>{if(!(!e||!t))try{console.log(`Updating privacy setting ${d} to ${h} for user ${e}`);const{error:m}=await ae.from("user_privacy_settings").update({[d]:h}).eq("user_id",e);if(m)throw console.error("Error updating privacy setting:",m),m;r(p=>p?{...p,[d]:h}:null),console.log(`Successfully updated ${d} to ${h}`)}catch(m){throw console.error("Error updating privacy setting:",m),m}}}}const Gc=({title:e,description:t,checked:r,disabled:n=!1,onCheckedChange:a})=>s.jsxs("div",{className:"flex items-center justify-between space-x-4 py-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium",children:e}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),s.jsx(Mi,{checked:r,onCheckedChange:a,disabled:n,className:"data-[state=unchecked]:bg-gray-200"})]}),Sq=({userId:e})=>{const{settings:t,loading:r,updateSetting:n}=Nq(e),[a,o]=x.useState(null),[c,u]=x.useState(!1),[d,h]=x.useState(!1);x.useEffect(()=>{t&&!a&&o(t)},[t,a]),x.useEffect(()=>{if(t&&a){const v=t.public_profile!==a.public_profile||t.show_event_attendance!==a.show_event_attendance||t.share_activity_with_friends!==a.share_activity_with_friends||t.allow_tagging!==a.allow_tagging||t.show_rsvp_status!==a.show_rsvp_status;u(v)}},[t,a]);const m=(v,y)=>{a&&o(N=>N?{...N,[v]:y}:null)},p=async()=>{if(!(!a||!c)){h(!0);try{if(t){const v=[];t.public_profile!==a.public_profile&&v.push(n("public_profile",a.public_profile)),t.show_event_attendance!==a.show_event_attendance&&v.push(n("show_event_attendance",a.show_event_attendance)),t.share_activity_with_friends!==a.share_activity_with_friends&&v.push(n("share_activity_with_friends",a.share_activity_with_friends)),t.allow_tagging!==a.allow_tagging&&v.push(n("allow_tagging",a.allow_tagging)),t.show_rsvp_status!==a.show_rsvp_status&&v.push(n("show_rsvp_status",a.show_rsvp_status)),await Promise.all(v),u(!1),console.log("Privacy settings saved successfully")}}catch(v){console.error("Error saving privacy settings:",v)}finally{h(!1)}}};return r?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(sa,{className:"h-8 w-8 animate-spin text-purple-500"})}):!t||!a?s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Privacy Settings"}),s.jsx(Mt,{children:"Manage your profile and data visibility"})]}),s.jsx(ut,{children:s.jsx("p",{className:"text-muted-foreground",children:"Could not load your privacy settings"})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Privacy Settings"}),s.jsx(Mt,{children:"Control who can see your information and activities"})]}),s.jsxs(ut,{className:"space-y-4",children:[s.jsx(Gc,{title:"Public Profile",description:"Allow others to view your profile information",checked:a.public_profile,onCheckedChange:v=>m("public_profile",v)}),s.jsx(Gc,{title:"Show Event Attendance",description:"Share with friends which events you are attending",checked:a.show_event_attendance,onCheckedChange:v=>m("show_event_attendance",v)}),s.jsx(Gc,{title:"Show RSVP Status",description:"Allow friends to see your RSVP status on events",checked:a.show_rsvp_status,onCheckedChange:v=>m("show_rsvp_status",v)}),s.jsx(Gc,{title:"Activity Sharing",description:"Share your activity updates with friends",checked:a.share_activity_with_friends,onCheckedChange:v=>m("share_activity_with_friends",v)}),s.jsx(Gc,{title:"Allow Tagging",description:"Allow friends to tag you in posts and events",checked:a.allow_tagging,onCheckedChange:v=>m("allow_tagging",v)}),c&&s.jsx("div",{className:"pt-4 border-t",children:s.jsxs(ee,{onClick:p,disabled:d||!c,className:"flex items-center gap-2",children:[d?s.jsx(sa,{className:"h-4 w-4 animate-spin"}):s.jsx(qN,{className:"h-4 w-4"}),d?"Saving...":"Save Changes"]})})]})]}),s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(tv,{className:"h-5 w-5"}),"Your Data Rights (GDPR)"]}),s.jsx(Mt,{children:"Manage your personal data and exercise your rights under GDPR"})]}),s.jsxs(ut,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[s.jsx(vD,{className:"h-5 w-5 mt-1 text-blue-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium mb-1",children:"Download Your Data"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Request a copy of all your personal data we have on file"}),s.jsx(ee,{variant:"outline",size:"sm",children:"Request Data Export"})]})]}),s.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[s.jsx(ID,{className:"h-5 w-5 mt-1 text-red-600"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium mb-1",children:"Delete Your Account"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Permanently delete your account and all associated data"}),s.jsx(ee,{variant:"outline",size:"sm",className:"text-red-600 border-red-200 hover:bg-red-50",children:"Delete Account"})]})]})]}),s.jsxs("div",{className:"pt-4 border-t text-sm text-gray-600",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Your Rights:"})," You have the right to access, rectify, erase, restrict processing, data portability, and to object to processing of your personal data."]}),s.jsxs("p",{children:["For questions about your data or to exercise your rights, contact us at"," ",s.jsx("a",{href:"mailto:privacy@the-lineup.com",className:"text-blue-600 hover:underline",children:"privacy@the-lineup.com"})," ","or review our"," ",s.jsx(pt,{to:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})]})]})]})]})},xj=({userId:e})=>{const[t,r]=x.useState("notifications");return s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-gray-600",children:"Manage your account preferences"})]}),s.jsxs(ec,{value:t,onValueChange:r,className:"w-full",children:[s.jsxs(uo,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsxs(ur,{value:"notifications",className:"flex items-center gap-2",children:[s.jsx(Mf,{className:"h-4 w-4"}),"Notifications"]}),s.jsxs(ur,{value:"privacy",className:"flex items-center gap-2",children:[s.jsx(tv,{className:"h-4 w-4"}),"Privacy"]})]}),s.jsx(dr,{value:"notifications",className:"space-y-6",children:s.jsx(jq,{userId:e})}),s.jsxs(dr,{value:"privacy",className:"space-y-6",children:[s.jsx(Sq,{userId:e}),s.jsx("div",{className:"pt-6 border-t",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(tv,{className:"h-5 w-5 mt-1 text-gray-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-2",children:"Data Privacy"}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"We care about your privacy. View our privacy policy to learn how we protect your data."}),s.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 underline",children:"View Privacy Policy"})]})]})})]})]})]})},Ry=e=>{const{data:t,isLoading:r,error:n,refetch:a}=sr({queryKey:["userEvents",e],queryFn:async()=>{if(!e)return{pastEvents:[],upcomingEvents:[]};try{const{data:c,error:u}=await ae.from("event_rsvps").select("event_id, status").eq("user_id",e);if(u)throw console.error("Error fetching user RSVPs:",u),u;if(!c||c.length===0)return{pastEvents:[],upcomingEvents:[]};const d=c.map(b=>b.event_id),{data:h,error:m}=await ae.from("events").select(`
            *,
            creator:profiles(id, username, avatar_url, email, location, status, tagline),
            venues:venue_id(*),
            event_rsvps(id, user_id, status)
          `).eq("status","published").in("id",d).order("start_date",{ascending:!0}).order("start_time",{ascending:!0});if(m)throw console.error("Error fetching events:",m),m;if(!h)return{pastEvents:[],upcomingEvents:[]};const p=El(h,e),v=Y$(p),y=f_(v),N=Yx(p),_=f_(N);return{pastEvents:y,upcomingEvents:_}}catch(c){return console.error("Error in useUserEvents:",c),{pastEvents:[],upcomingEvents:[]}}},enabled:!!e,refetchOnWindowFocus:!0,staleTime:12e4}),o=async()=>{await a()};return{pastEvents:(t==null?void 0:t.pastEvents)||[],upcomingEvents:(t==null?void 0:t.upcomingEvents)||[],isLoading:r,error:n,refetch:o}},yj=({event:e})=>{var r,n;const t=()=>{const a=new CustomEvent("eventCardClicked",{detail:{eventId:e.id}});window.dispatchEvent(a)};return s.jsx(Be,{className:"p-4 hover:bg-gray-50 hover:shadow-lg transition-all cursor-pointer rounded-xl shadow-md",onClick:t,children:s.jsxs("div",{className:"flex items-start space-x-4",children:[e.image_urls&&e.image_urls.length>0&&s.jsx("img",{src:e.image_urls[0],alt:e.title,className:"w-16 h-16 object-cover rounded-lg flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:e.title}),s.jsxs("div",{className:"space-y-2 mt-2",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(bt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsx("span",{children:Ph(e.start_date,e.start_time,e.end_date)})]}),(((r=e.venues)==null?void 0:r.name)||e.location)&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:((n=e.venues)==null?void 0:n.name)||e.location})]}),e.attendees&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(xr,{className:"h-4 w-4 mr-2 flex-shrink-0"}),s.jsxs("span",{children:[e.attendees.going," attending"]})]})]})]}),e.rsvp_status&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${e.rsvp_status==="Going"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:e.rsvp_status})})]})})},kq=({canViewEvents:e,upcomingEvents:t,pastEvents:r,eventsLoading:n,isCurrentUser:a,username:o="",handleAddFriend:c,friendshipStatus:u})=>e?s.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-gray-200",children:s.jsx("h2",{className:"text-xl font-semibold",children:"My Events"})}),s.jsxs(ec,{defaultValue:"upcoming",className:"w-full",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs(uo,{className:"w-full rounded-none bg-transparent h-auto p-0 grid grid-cols-2",children:[s.jsxs(ur,{value:"upcoming",className:"flex-1 rounded-none border-b-2 border-transparent py-3 data-[state=active]:border-blue-500 data-[state=active]:bg-transparent data-[state=active]:shadow-none",children:[s.jsx(bt,{className:"h-4 w-4 mr-2"}),"Upcoming"]}),s.jsxs(ur,{value:"past",className:"flex-1 rounded-none border-b-2 border-transparent py-3 data-[state=active]:border-blue-500 data-[state=active]:bg-transparent data-[state=active]:shadow-none",children:[s.jsx(c1,{className:"h-4 w-4 mr-2"}),"Past"]})]})}),s.jsx(dr,{value:"upcoming",className:"p-0",children:s.jsx("div",{className:"p-6",children:n?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>s.jsx("div",{className:"h-20 bg-gray-100 rounded-lg animate-pulse"},d))}):t.length>0?s.jsx("div",{className:"space-y-4",children:t.map(d=>s.jsx(yj,{event:d},d.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(bt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No upcoming events"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a?"You haven't joined any upcoming events yet":`${o} hasn't joined any upcoming events yet`})]})})}),s.jsx(dr,{value:"past",className:"p-0",children:s.jsx("div",{className:"p-6",children:n?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>s.jsx("div",{className:"h-20 bg-gray-100 rounded-lg animate-pulse"},d))}):r.length>0?s.jsx("div",{className:"space-y-4",children:r.map(d=>s.jsx(yj,{event:d},d.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(c1,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600",children:"No past events"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a?"You haven't attended any events yet":`${o} hasn't attended any events yet`})]})})})]})]}):s.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg mt-6",children:[s.jsxs("p",{className:"text-gray-600 text-sm",children:["Connect with ",o||"this user"," to see their events"]}),u==="none"&&s.jsx(ee,{onClick:c,className:"mt-3",size:"sm",children:"Add Friend"})]}),wj=({profileId:e,profile:t,isLoading:r=!1,isOwnProfile:n=!1,isBlocked:a=!1})=>{const{user:o}=Xe(),c=e||(o==null?void 0:o.id),u=n?"accepted":"none",{pastEvents:d,upcomingEvents:h,isLoading:m}=Ry(c),p=()=>{console.log("Add friend clicked")},v=n||u==="accepted"||!a;return s.jsx(kq,{canViewEvents:v,upcomingEvents:h,pastEvents:d,eventsLoading:m||r,isCurrentUser:n,username:t==null?void 0:t.username,handleAddFriend:p,friendshipStatus:u})},Cq=({profile:e,isOwnProfile:t,showSettings:r=!1,onToggleSettings:n})=>{var m;const{user:a}=Xe(),o=ot(),c=Dt(),u=(e==null?void 0:e.username)||((m=a==null?void 0:a.email)==null?void 0:m.split("@")[0])||"User",{isLoading:d}=Ry(a==null?void 0:a.id),h=()=>{o("/profile/edit")};return s.jsx("div",{className:"min-h-screen bg-gray-50",children:s.jsxs("div",{className:re("mx-auto py-6",c?"px-4":"container px-4"),children:[c&&s.jsxs("div",{className:"max-w-2xl",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx(Pv,{profile:e,size:"lg",className:"w-20 h-20"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-xl font-semibold mb-1 truncate",children:u}),(e==null?void 0:e.location)&&s.jsxs("p",{className:"text-gray-600 flex items-center gap-1 mb-2",children:[s.jsx(Yt,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:e.location})]}),(e==null?void 0:e.tagline)&&s.jsxs("p",{className:"text-gray-600 italic text-sm line-clamp-2",children:['"',e.tagline,'"']})]})]})}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[t&&s.jsxs(ee,{variant:"outline",size:"sm",onClick:h,className:"flex items-center gap-2",children:[s.jsx(Df,{className:"h-4 w-4"}),"Edit"]}),s.jsxs(ee,{variant:"outline",className:"flex-1 flex items-center gap-2",onClick:()=>o("/events"),children:[s.jsx(bt,{className:"h-4 w-4"}),"Events"]}),t&&s.jsxs(ee,{variant:"outline",className:"flex-1 flex items-center gap-2",onClick:n,children:[s.jsx(ev,{className:"h-4 w-4"}),"Settings"]})]})]}),r&&t&&a&&s.jsx(xj,{userId:a.id}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 mb-6 shadow-sm text-left",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"About"}),s.jsx("p",{className:"text-gray-600 text-sm",children:(e==null?void 0:e.tagline)||"Explorer and local enthusiast. Love discovering new places and meeting new people."})]}),s.jsx(wj,{profileId:a==null?void 0:a.id,profile:e,isLoading:d,isOwnProfile:t})]})]}),!c&&s.jsx("div",{className:"max-w-6xl",children:s.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[s.jsx("div",{className:"col-span-1",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm sticky top-6 text-left",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(Pv,{profile:e,size:"xl",className:"w-32 h-32 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center",children:u}),(e==null?void 0:e.location)&&s.jsxs("p",{className:"text-gray-600 flex items-center justify-center gap-1 mb-2",children:[s.jsx(Yt,{className:"h-4 w-4"}),e.location]}),(e==null?void 0:e.tagline)&&s.jsxs("p",{className:"text-gray-600 italic mb-4 text-center",children:['"',e.tagline,'"']}),t&&s.jsx("div",{className:"text-center",children:s.jsxs(ee,{variant:"outline",size:"sm",onClick:h,className:"flex items-center gap-2",children:[s.jsx(Df,{className:"h-4 w-4"}),"Edit Profile"]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ee,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>o("/events"),children:[s.jsx(bt,{className:"h-4 w-4"}),"Browse Events"]}),t&&s.jsxs(ee,{variant:"outline",className:"w-full flex items-center gap-2",onClick:n,children:[s.jsx(ev,{className:"h-4 w-4"}),"Settings"]})]})]})}),s.jsxs("div",{className:"col-span-2 space-y-6 text-left",children:[r&&t&&a&&s.jsx(xj,{userId:a.id}),!r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"About"}),s.jsx("p",{className:"text-gray-600",children:(e==null?void 0:e.tagline)||"Explorer and local enthusiast. Love discovering new places and meeting new people."})]}),s.jsx(wj,{profileId:a==null?void 0:a.id,profile:e,isLoading:d,isOwnProfile:t})]})]})]})})]})})},NP=e=>{const[t,r]=x.useState(null),[n,a]=x.useState(!0),[o,c]=x.useState(""),[u,d]=x.useState(!1),h=async(v=!1)=>{if(!e){a(!1);return}a(!0),c(""),d(!1);try{let y=ae.from("profiles").select("*");const N=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e);N?y=y.eq("id",e):y=y.eq("username",e);const{data:_,error:b}=await y.single();b?(b.code==="PGRST116"?(d(!0),c(`Profile not found for ${N?"ID":"username"}: ${e}`)):c(`Error fetching profile: ${b.message}`),r(null)):_&&r(_)}catch(y){console.error("Error in useProfileData:",y),c(`Unexpected error: ${y.message||"Unknown error"}`)}finally{a(!1)}};return x.useEffect(()=>{h()},[e]),{profile:t,loading:n,error:o,isNotFound:u,fetchProfileData:h,refreshProfile:h,updateProfile:async v=>{try{if(!(t!=null&&t.id))throw new Error("No profile ID available for update");const{error:y}=await ae.from("profiles").update(v).eq("id",t.id);return y?{error:y}:(await h(!0),{error:null})}catch(y){return console.error("Error updating profile:",y),{error:y}}}}},bj=({event:e,compact:t=!1,showRsvpButtons:r=!1,showRsvpStatus:n=!1,onRsvp:a,className:o,onClick:c})=>{const{isAuthenticated:u}=Xe(),{navigateToEvent:d}=L2(),{getEventImageUrl:h}=Eh(),m=h(e),p=u&&r,v=_=>{const b=_.target;if(b.closest('[data-rsvp-container="true"]')||b.closest('[data-rsvp-button="true"]')||b.hasAttribute("data-rsvp-button")||b.closest("button[data-status]")){_.stopPropagation(),_.preventDefault();return}if(c){c(e);return}try{d(e)}catch(k){console.error("Error navigating to event:",k),st({title:"Navigation Error",description:"Could not navigate to event page",variant:"destructive"})}},y=async _=>{if(!a||!p)return!1;try{const b=await a(e.id,_);return b===void 0?!0:!!b}catch(b){return console.error("Error in EventCardList RSVP handler:",b),!1}},N=()=>{var _;return(_=e.venues)!=null&&_.name?e.venues.name:e.location?e.location:"Location TBD"};return s.jsx("div",{className:re("w-full px-4 sm:px-6 lg:px-8",o),children:s.jsxs(Be,{className:re("flex flex-col sm:flex-row gap-4 hover:shadow-xl transition-all duration-300 ease-in-out cursor-pointer overflow-hidden text-left rounded-xl shadow-md border-gray-200 bg-white","min-h-[120px] sm:h-28",o),onClick:v,"data-event-id":e.id,children:[s.jsxs("div",{className:"relative h-[100px] sm:h-auto sm:w-[120px] overflow-hidden bg-gray-100 flex-shrink-0",children:[s.jsx(Gx,{src:m,alt:e.title,aspectRatio:"square",overlayVariant:"ocean",className:"h-full w-full",onError:_=>{const b=_.target;b.src.includes("/img/default.jpg")||(console.log("Image failed to load, using default"),b.src="/img/default.jpg")}}),e.event_category&&s.jsx("div",{className:"absolute top-2 left-2 z-30",children:s.jsx(Dn,{category:e.event_category,size:"xs",showIcon:!1})})]}),s.jsxs("div",{className:"flex flex-col flex-1 p-4 sm:p-3 justify-center text-left gap-2",children:[s.jsx("h3",{className:"font-inter font-semibold text-black text-base sm:text-lg line-clamp-1 text-left leading-tight",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600",children:[s.jsx(bt,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"font-inter",children:Ph(e.start_date,e.start_time,e.end_date)})]}),s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-gray-600 text-left flex-1 min-w-0",children:[s.jsx(Yt,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),s.jsx("span",{className:"font-inter truncate",children:N()})]}),(p||n)&&a&&p&&s.jsx("div",{className:"flex-shrink-0","data-rsvp-container":"true",onClick:_=>_.stopPropagation(),children:s.jsx(Qx,{currentStatus:e.rsvp_status||null,onRsvp:y,size:"sm",showStatusOnly:!p&&n})})]})]})]})})},Eq=({events:e,isCurrentUser:t,username:r="User",showFriendRsvp:n=!1,friendUsername:a,isLoading:o=!1,userId:c,currentUserId:u,matchingRsvps:d=[],title:h,emptyMessage:m="No RSVPs yet"})=>{const p=ot(),{upcomingEvents:v,pastEvents:y,isLoading:N}=Ry(c),_=e!==void 0?e:[...v,...y],b=o||N,S=d.length>0?_.filter(k=>!d.some(C=>C.id===k.id)):_;return x.useCallback(k=>{tP(k,p)},[p]),b?s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-2 sm:mb-3 flex items-center",children:[s.jsx(bt,{className:"mr-2 h-4 w-4 text-purple"}),h||(t?"Your RSVPs":`${r}'s RSVPs`)]}),s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsx("div",{className:"h-16 sm:h-20 bg-gray-100 rounded-lg animate-pulse"}),s.jsx("div",{className:"h-16 sm:h-20 bg-gray-100 rounded-lg animate-pulse"})]})]}):s.jsxs("div",{className:"mt-4 sm:mt-6",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-2 sm:mb-3 flex items-center",children:[s.jsx(bt,{className:"mr-2 h-4 w-4 text-purple"}),h||(t?"Your RSVPs":`${r}'s RSVPs`)]}),d.length>0&&!t&&s.jsxs("div",{className:"mb-3 sm:mb-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-2 text-purple-600 px-1",children:"Events you're both attending:"}),s.jsx("div",{className:"space-y-2 sm:space-y-2.5",children:d.map(k=>{var C;return s.jsxs("div",{className:"relative",children:[s.jsx(bj,{event:k,showRsvpStatus:!0}),s.jsxs("div",{className:"mt-1 px-2 py-1 bg-purple-50 text-purple-700 rounded-md text-xs mx-1",children:["You and ",a," are both ",((C=k.rsvp_status)==null?void 0:C.toLowerCase())||"going"," to this event"]})]},k.id)})})]}),S.length>0?s.jsx("div",{className:"space-y-2 sm:space-y-2.5",children:S.map(k=>s.jsx(bj,{event:k,showRsvpStatus:!0},k.id))}):!d.length&&s.jsx(Be,{className:"border border-gray-100 shadow-sm",children:s.jsx(ut,{className:"p-3 sm:p-4 text-center text-gray-500",children:s.jsx("p",{className:"text-sm",children:m})})})]})};var SP="AlertDialog",[Pq,cH]=ln(SP,[dC]),da=dC(),kP=e=>{const{__scopeAlertDialog:t,...r}=e,n=da(t);return s.jsx(uy,{...n,...r,modal:!0})};kP.displayName=SP;var Tq="AlertDialogTrigger",Rq=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=da(r);return s.jsx(CC,{...a,...n,ref:t})});Rq.displayName=Tq;var Aq="AlertDialogPortal",CP=e=>{const{__scopeAlertDialog:t,...r}=e,n=da(t);return s.jsx(dy,{...n,...r})};CP.displayName=Aq;var Oq="AlertDialogOverlay",EP=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=da(r);return s.jsx(Oh,{...a,...n,ref:t})});EP.displayName=Oq;var dl="AlertDialogContent",[Mq,Dq]=Pq(dl),Iq=bM("AlertDialogContent"),PP=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=da(r),c=x.useRef(null),u=at(t,c),d=x.useRef(null);return s.jsx(d7,{contentName:dl,titleName:TP,docsSlug:"alert-dialog",children:s.jsx(Mq,{scope:r,cancelRef:d,children:s.jsxs(Mh,{role:"alertdialog",...o,...a,ref:u,onOpenAutoFocus:je(a.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=d.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(Iq,{children:n}),s.jsx(Fq,{contentRef:c})]})})})});PP.displayName=dl;var TP="AlertDialogTitle",RP=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=da(r);return s.jsx(fy,{...a,...n,ref:t})});RP.displayName=TP;var AP="AlertDialogDescription",OP=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=da(r);return s.jsx(hy,{...a,...n,ref:t})});OP.displayName=AP;var Lq="AlertDialogAction",MP=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=da(r);return s.jsx(my,{...a,...n,ref:t})});MP.displayName=Lq;var DP="AlertDialogCancel",IP=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Dq(DP,r),o=da(r),c=at(t,a);return s.jsx(my,{...o,...n,ref:c})});IP.displayName=DP;var Fq=({contentRef:e})=>{const t=`\`${dl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${dl}\` by passing a \`${AP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${dl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},$q=kP,Uq=CP,LP=EP,FP=PP,$P=MP,UP=IP,zP=RP,BP=OP;const zq=$q,Bq=Uq,VP=x.forwardRef(({className:e,...t},r)=>s.jsx(LP,{className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));VP.displayName=LP.displayName;const qP=x.forwardRef(({className:e,...t},r)=>s.jsxs(Bq,{children:[s.jsx(VP,{}),s.jsx(FP,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg text-black",e),...t})]}));qP.displayName=FP.displayName;const WP=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});WP.displayName="AlertDialogHeader";const HP=({className:e,...t})=>s.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});HP.displayName="AlertDialogFooter";const YP=x.forwardRef(({className:e,...t},r)=>s.jsx(zP,{ref:r,className:re("text-lg font-semibold",e),...t}));YP.displayName=zP.displayName;const GP=x.forwardRef(({className:e,...t},r)=>s.jsx(BP,{ref:r,className:re("text-sm text-muted-foreground",e),...t}));GP.displayName=BP.displayName;const KP=x.forwardRef(({className:e,...t},r)=>s.jsx($P,{ref:r,className:re(kl(),e),...t}));KP.displayName=$P.displayName;const QP=x.forwardRef(({className:e,...t},r)=>s.jsx(UP,{ref:r,className:re(kl({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));QP.displayName=UP.displayName;const Vq=()=>{const{user:e}=Xe(),{venues:t,isLoading:r}=Sy(),[n,a]=x.useState(!1),[o,c]=x.useState(null),[u,d]=x.useState(null),h=Ms(),m=t.filter(S=>S.creator_id===(e==null?void 0:e.id)),p=()=>{a(!1),c(null)},v=()=>{c(null),a(!0)},y=S=>{c(S),a(!0)},N=()=>{p()},_=S=>{d(S)},b=async()=>{if(!u)return;const{error:S}=await uB(u.id);S?(Ut.error(`Failed to delete venue: ${u.name}`),console.error("Error deleting venue:",S)):(Ut.success(`Venue "${u.name}" deleted successfully!`),h.invalidateQueries({queryKey:["venues"]})),d(null)};return r?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"My Venues"}),s.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(S=>s.jsx("div",{className:"h-48 bg-gray-200 rounded-lg animate-pulse"},S))})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-semibold",children:"My Venues"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage venues you've created for events"})]}),s.jsxs(ee,{onClick:v,className:"flex items-center gap-2",children:[s.jsx(aa,{className:"h-4 w-4"}),"Add Venue"]})]}),m.length===0?s.jsx(Be,{children:s.jsxs(ut,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Yt,{className:"h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No venues yet"}),s.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Create your first venue to make it available for events"}),s.jsxs(ee,{onClick:v,className:"flex items-center gap-2",children:[s.jsx(aa,{className:"h-4 w-4"}),"Create Your First Venue"]})]})}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:m.map(S=>s.jsxs(Be,{className:"hover:shadow-md transition-shadow flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-start justify-between",children:[s.jsx("span",{className:"line-clamp-2",children:S.name}),s.jsx($r,{variant:"secondary",className:"ml-2 shrink-0",children:"Venue"})]}),S.city&&s.jsxs(Mt,{className:"flex items-center gap-1",children:[s.jsx(Yt,{className:"h-4 w-4"}),S.street&&`${S.street}, `,S.city]})]}),s.jsxs(ut,{className:"space-y-3",children:[s.jsx("div",{className:"space-y-2",children:S.postal_code&&s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Postal Code:"})," ",S.postal_code]})}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[S.website&&s.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 text-xs",onClick:()=>window.open(S.website,"_blank"),children:[s.jsx(jD,{className:"h-3 w-3"}),"Website",s.jsx(l1,{className:"h-3 w-3"})]}),S.google_maps&&s.jsxs(ee,{variant:"outline",size:"sm",className:"flex items-center gap-1 text-xs",onClick:()=>window.open(S.google_maps,"_blank"),children:[s.jsx(Yt,{className:"h-3 w-3"}),"Maps",s.jsx(l1,{className:"h-3 w-3"})]})]})]})]}),s.jsxs(wx,{className:"p-4 pt-0 flex gap-2",children:[s.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",onClick:()=>y(S),children:[s.jsx(Df,{className:"h-3 w-3 mr-2"}),"Edit"]}),s.jsxs(ee,{variant:"destructive",size:"sm",className:"w-full",onClick:()=>_(S),children:[s.jsx(LD,{className:"h-3 w-3 mr-2"}),"Delete"]})]})]},S.id))}),s.jsx(uE,{open:n,onOpenChange:S=>{S?a(!0):p()},onComplete:N,venueToEdit:o}),s.jsx(zq,{open:!!u,onOpenChange:S=>!S&&d(null),children:s.jsxs(qP,{children:[s.jsxs(WP,{children:[s.jsx(YP,{children:"Are you sure you want to delete this venue?"}),s.jsxs(GP,{children:["This action cannot be undone. This will permanently delete the venue: ",s.jsx("strong",{children:u==null?void 0:u.name}),"."]})]}),s.jsxs(HP,{children:[s.jsx(QP,{onClick:()=>d(null),children:"Cancel"}),s.jsx(KP,{onClick:b,className:kl({variant:"destructive"}),children:"Delete"})]})]})})]})},ZP=({requests:e})=>{const t=Ms(),r={onSuccess:()=>{t.invalidateQueries({queryKey:["creator-requests"]})},onError:d=>{Ut.error(d.message||"An error occurred.")}},n=bv({mutationFn:({userId:d,notificationId:h})=>du.approveCreatorRequest(d,h),...r,onSuccess:()=>{Ut.success("Creator request approved! User has been granted event creator access."),r.onSuccess()}}),a=bv({mutationFn:({userId:d,notificationId:h})=>du.denyCreatorRequest(d,h),...r,onSuccess:()=>{Ut.info("Creator request denied."),r.onSuccess()}}),o=e.filter(d=>!d.is_read),c=e.filter(d=>d.is_read);if(console.log("Creator Requests Dashboard - Total requests:",e.length),console.log("Pending requests:",o.length),console.log("Handled requests:",c.length),e.length===0)return s.jsx(Be,{children:s.jsxs(ut,{className:"p-12 text-center text-muted-foreground",children:[s.jsx(Sl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Creator Requests"}),s.jsx("p",{children:"There are no creator requests to review at this time."})]})});const u=({request:d,isPending:h})=>s.jsxs(Be,{className:h?"border-orange-200 bg-orange-50/50":"",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-lg",children:d.data.username}),s.jsxs("p",{className:"text-sm text-muted-foreground font-normal flex items-center gap-1 mt-1",children:[s.jsx(u1,{className:"h-3 w-3"}),d.data.user_email]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx($r,{variant:h?"destructive":"secondary",children:h?"Pending":"Handled"})})]}),s.jsxs(Mt,{children:["Submitted ",U$(new Date(d.created_at),{addSuffix:!0})]})]}),s.jsxs(ut,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Reason for Request:"}),s.jsxs("blockquote",{className:"pl-4 border-l-2 border-muted italic text-muted-foreground",children:['"',d.data.reason,'"']})]}),(d.data.contact_email||d.data.contact_phone)&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Additional Contact Information:"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[d.data.contact_email&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(u1,{className:"h-3 w-3"}),d.data.contact_email]}),d.data.contact_phone&&s.jsxs("p",{className:"flex items-center gap-2",children:[s.jsx(TD,{className:"h-3 w-3"}),d.data.contact_phone]})]})]}),h&&s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsxs(ee,{size:"sm",onClick:()=>n.mutate({userId:d.data.user_id,notificationId:d.id}),disabled:n.isPending||a.isPending,className:"flex items-center gap-1",children:[s.jsx(BN,{className:"h-3 w-3"}),n.isPending?"Approving...":"Approve"]}),s.jsxs(ee,{size:"sm",variant:"destructive",onClick:()=>a.mutate({userId:d.data.user_id,notificationId:d.id}),disabled:n.isPending||a.isPending,className:"flex items-center gap-1",children:[s.jsx(mD,{className:"h-3 w-3"}),a.isPending?"Denying...":"Deny"]})]})]})]},d.id);return s.jsxs("div",{className:"space-y-8",children:[o.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Pending Requests"}),s.jsx($r,{variant:"destructive",children:o.length})]}),s.jsx("div",{className:"grid gap-4",children:o.map(d=>s.jsx(u,{request:d,isPending:!0},d.id))})]}),c.length>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recently Handled"}),s.jsx("div",{className:"grid gap-4",children:c.slice(0,5).map(d=>s.jsx(u,{request:d,isPending:!1},d.id))})]})]})},qq=()=>{const{user:e}=Xe(),t=ot(),r=on(),[n,a]=x.useState(!1),{profile:o,loading:c,error:u,isNotFound:d}=NP(e==null?void 0:e.id),{isAdmin:h,requests:m,isLoading:p}=bx(),{canCreateEvents:v,isLoading:y}=Ql();if(te.useEffect(()=>{e||t("/login")},[e,t]),!e)return null;if(c||y)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})});if(d||u)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Not Found"}),s.jsx("p",{className:"text-gray-600",children:"The profile you're looking for doesn't exist."})]})});let _;v?_=1+(h?1:0):_=1;const b=`grid-cols-${_}`,k=new URLSearchParams(r.search).get("tab"),C=[];let P;return v?(C.push("venues"),h&&C.push("admin"),P="venues"):(C.push("rsvps"),P="rsvps"),k&&C.includes(k)&&(P=k),s.jsxs(s.Fragment,{children:[s.jsx(Cq,{profile:o,isOwnProfile:!0,showSettings:n,onToggleSettings:()=>a(!n)}),s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-5xl",children:s.jsxs(ec,{defaultValue:P,className:"w-full",children:[s.jsxs(uo,{className:`grid w-full ${b}`,children:[!v&&s.jsx(ur,{value:"rsvps",children:"My RSVPs"}),v&&s.jsx(ur,{value:"venues",children:"My Venues"}),h&&s.jsx(ur,{value:"admin",children:"Creator Requests"})]}),!v&&s.jsx(dr,{value:"rsvps",className:"mt-8",children:s.jsx(Eq,{userId:e.id})}),v&&s.jsx(dr,{value:"venues",className:"mt-8",children:s.jsx(Vq,{})}),h&&s.jsx(dr,{value:"admin",className:"mt-8",children:p?s.jsxs("div",{className:"space-y-4",children:[s.jsx(nr,{className:"h-48 w-full rounded-lg"}),s.jsx(nr,{className:"h-48 w-full rounded-lg"})]}):s.jsx(ZP,{requests:m||[]})})]})})]})},Wq=Bh({username:$t().min(2,{message:"Username must be at least 2 characters."}).max(30,{message:"Username must not be longer than 30 characters."}),email:$t().email({message:"Please enter a valid email address."}).optional(),location:$t().optional(),tagline:$t().optional()}),Hq=({currentUsername:e,userId:t,onUsernameUpdate:r})=>{const[n,a]=x.useState(!1),[o,c]=x.useState(e),[u,d]=x.useState(!1),[h,m]=x.useState(""),{toast:p}=fh(),v=b=>b.trim()?b.length<2?"Username must be at least 2 characters":b.length>30?"Username must not exceed 30 characters":/^[a-zA-Z0-9_-]+$/.test(b)?null:"Username can only contain letters, numbers, underscores, and hyphens":"Username is required",y=async b=>{if(b===e)return!0;const{data:S,error:k}=await ae.from("profiles").select("id").eq("username",b).neq("id",t).single();return k&&k.code==="PGRST116"?!0:!S},N=async()=>{m(""),d(!0);try{const b=v(o);if(b){m(b),d(!1);return}if(!await y(o)){m("This username is already taken"),d(!1);return}const{error:k}=await ae.from("profiles").update({username:o}).eq("id",t);if(k)throw k;r(o),p({title:"Username updated",description:"Your username has been successfully updated."}),a(!1)}catch(b){console.error("Error updating username:",b),m(b.message||"Failed to update username")}finally{d(!1)}},_=()=>{c(e),m(""),a(!1)};return s.jsxs(gy,{open:n,onOpenChange:a,children:[s.jsx(T7,{asChild:!0,children:s.jsxs(ee,{type:"button",variant:"outline",size:"sm",className:"flex gap-1 items-center",children:[s.jsx(Df,{size:16})," Edit"]})}),s.jsxs(Ih,{className:"sm:max-w-md bg-white border border-gray-200 text-black shadow-xl",children:[s.jsx(Lh,{children:s.jsx(Fh,{className:"text-black",children:"Edit Username"})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(At,{htmlFor:"username",className:"text-black",children:"Username"}),s.jsx(gt,{id:"username",value:o,onChange:b=>c(b.target.value),placeholder:"Enter new username",disabled:u,className:"bg-white border-gray-300 text-black"}),h&&s.jsx("p",{className:"text-sm text-red-500",children:h})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(ee,{type:"button",variant:"outline",onClick:_,disabled:u,className:"bg-white border-gray-300 text-black hover:bg-gray-50",children:"Cancel"}),s.jsx(ee,{type:"button",onClick:N,disabled:u||o===e,className:"bg-blue-600 text-white hover:bg-blue-700",children:u?"Saving...":"Save"})]})]})]})]})};function Yq({form:e,showRequiredFields:t}){const{user:r,profile:n,refreshProfile:a}=Xe(),o=async c=>{e.setValue("username",c),a&&await a()};return!r||!n?null:s.jsx(_n,{control:e.control,name:"username",render:({field:c})=>s.jsxs(kr,{children:[s.jsxs(jn,{children:[t&&s.jsx("span",{className:"text-red-500 mr-1",children:"*"}),"Username"]}),s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx(en,{children:s.jsx(gt,{...c,disabled:!0,className:"bg-gray-50"})}),s.jsx(Hq,{currentUsername:n.username||"",userId:r.id,onUsernameUpdate:o})]}),s.jsxs(Wh,{children:["This is your public display name.",t&&" This field is required."]}),s.jsx(tn,{})]})})}function Gq({form:e}){return s.jsx(_n,{control:e.control,name:"location",render:({field:t})=>s.jsxs(kr,{className:"mb-6",children:[s.jsx(jn,{className:"text-base font-medium",children:"Current Location"}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:s.jsx(en,{children:s.jsx(gt,{placeholder:"Enter your location",...t,className:"flex-1 h-12 text-base"})})}),s.jsx(Wh,{className:"mt-2 text-sm",children:"Adding your location helps you discover nearby events and connect with local friends"}),s.jsx(tn,{})]})})}function Kq({form:e}){return s.jsx(_n,{control:e.control,name:"tagline",render:({field:t})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Tagline"}),s.jsx(en,{children:s.jsx(Jl,{placeholder:"A short description about yourself.",className:"resize-none",...t})}),s.jsx(Wh,{children:"Write a short tagline about yourself."}),s.jsx(tn,{})]})})}const Qq=({profile:e,onSubmit:t,onCancel:r,showRequiredFields:n=!1})=>{const a=Uh({resolver:zh(Wq),defaultValues:{username:(e==null?void 0:e.username)||"",location:(e==null?void 0:e.location)||"",tagline:(e==null?void 0:e.tagline)||""}}),o=async c=>{await t(c)};return s.jsx(Vh,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-6",children:[s.jsx(Yq,{form:a,showRequiredFields:n}),s.jsx(Gq,{form:a}),s.jsx(Kq,{form:a}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx(ee,{type:"submit",disabled:a.formState.isSubmitting,className:"flex-1 bg-black text-white hover:bg-gray-800",children:a.formState.isSubmitting?"Saving...":"Save Changes"}),s.jsx(ee,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Cancel"})]})]})})},Zq=()=>{const[e,t]=x.useState(!1),{user:r,profile:n,refreshProfile:a}=Xe(),{toast:o}=fh();return{uploadAvatar:async u=>{if(!r||!n){console.error("No user or profile found"),o({title:"Not authenticated",description:"You must be logged in to upload an avatar.",variant:"destructive"});return}t(!0),console.log("Starting avatar upload for user:",r.id),console.log("File details:",{name:u.name,size:u.size,type:u.type});try{const d=u.name.split(".").pop(),m=`${r.id}.${d}`;console.log("Uploading to path:",m);const{error:p,data:v}=await ae.storage.from("avatars").upload(m,u,{cacheControl:"3600",upsert:!0});if(p)throw console.error("Storage upload error:",p),p;console.log("Upload successful:",v);const{data:y}=ae.storage.from("avatars").getPublicUrl(m);if(!(y!=null&&y.publicUrl))throw console.error("Could not retrieve public URL"),new Error("Could not retrieve public URL");const N=y.publicUrl;console.log("Got public URL:",N);const _=`${N}?t=${new Date().getTime()}`;console.log("Cache-busted URL:",_);const b=[_];console.log("Updating profile with avatar URL array:",b);const{error:S}=await ae.from("profiles").update({avatar_url:b,updated_at:new Date().toISOString()}).eq("id",r.id);if(S)throw console.error("Database update error:",S),S;return console.log("Database updated successfully"),await a(),console.log("Profile refreshed"),o({title:"Avatar updated",description:"Your avatar has been updated successfully."}),_}catch(d){return console.error("Avatar upload error:",d),o({title:"Upload failed",description:d.message||"Failed to upload avatar. Please try again.",variant:"destructive"}),null}finally{t(!1),console.log("Upload process completed")}},uploading:e}},Jq=({avatarUrl:e,username:t,size:r,isLoading:n=!1})=>{const a={xs:"h-12 w-12",sm:"h-16 w-16",md:"h-24 w-24",lg:"h-32 w-32",xl:"h-40 w-40"};return console.log("AvatarDisplay - received avatarUrl:",e),console.log("AvatarDisplay - isLoading:",n),s.jsxs("div",{className:"relative group transform transition-all duration-300 hover:scale-105",children:[s.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-gray-300/20 to-gray-300/20 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity"}),s.jsxs(cs,{className:`border-4 border-white shadow-lg ${a[r]}`,children:[s.jsx(Is,{src:e||"",alt:t||"",className:"object-cover",onLoad:()=>console.log("AvatarDisplay - Image loaded:",e),onError:()=>console.log("AvatarDisplay - Image failed to load:",e)}),s.jsx(us,{className:"text-2xl bg-gradient-to-r from-gray-100 to-gray-200",children:p2(t||"")})]}),s.jsx("label",{htmlFor:"avatar-upload",className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:n?s.jsx(sa,{className:"h-6 w-6 animate-spin"}):s.jsx(dD,{className:"h-6 w-6"})})]})},Xq=({isUploading:e})=>e?s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(sa,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Uploading..."})]}):null,eW=()=>{const[e,t]=x.useState(null),{profile:r,refreshProfile:n}=Xe();return x.useEffect(()=>{if(e){const o=setTimeout(()=>{console.log("Clearing preview and refreshing profile"),t(null),r&&n()},2e3);return()=>clearTimeout(o)}},[e,r,n]),{preview:e,setPreview:t,getAvatarUrl:()=>{if(e)return console.log("Using preview URL:",e),e;if(!(r!=null&&r.avatar_url))return console.log("No avatar_url in profile"),null;const o=g2(r.avatar_url),c=o.length>0?o[0]:null;return console.log("Processed avatar URLs:",o,"Using:",c),c}}},tW=({size:e="md",className:t})=>{const{uploadAvatar:r,uploading:n}=Zq(),{profile:a}=Xe(),{setPreview:o,getAvatarUrl:c}=eW(),u=async h=>{var p;const m=(p=h.target.files)==null?void 0:p[0];if(!m){console.log("No file selected");return}console.log("File selected for upload:",m.name);try{const v=new FileReader;v.onload=N=>{var b;const _=(b=N.target)==null?void 0:b.result;console.log("Setting preview URL:",_),o(_)},v.readAsDataURL(m),console.log("Starting avatar upload...");const y=await r(m);y?console.log("Avatar upload successful:",y):(console.log("Avatar upload failed"),o(null))}catch(v){console.error("Error in handleFileChange:",v),o(null)}},d=c();return console.log("Current avatar URL in wrapper:",d),s.jsxs("div",{className:`flex flex-col items-center gap-4 ${t}`,children:[s.jsx(Jq,{avatarUrl:d,username:a==null?void 0:a.username,size:e,isLoading:n}),s.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",className:"sr-only",onChange:u,disabled:n}),s.jsx(Xq,{isUploading:n}),s.jsx(ee,{variant:"outline",size:"sm",asChild:!0,className:"mt-2 h-10 border-gray-300 text-gray-700 hover:bg-gray-100 hover:border-gray-400",disabled:n,children:s.jsx("label",{htmlFor:"avatar-upload",children:d?"Change Photo":"Upload Photo"})})]})},rW=()=>{const{user:e}=Xe(),t=ot(),{profile:r,loading:n,updateProfile:a}=NP(e==null?void 0:e.id),[o,c]=x.useState(!1);x.useEffect(()=>{r&&!r.location&&c(!0)},[r]);const u=async h=>{if(e)try{const{error:m}=await a(h);if(m)throw m;t("/profile",{replace:!0,state:{refreshNeeded:!0}})}catch(m){console.error("Error updating profile:",m)}},d=()=>{t("/profile")};return n?s.jsx("div",{className:"container py-10",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Edit Profile"}),s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-12 bg-gray-200 rounded"}),s.jsx("div",{className:"h-12 bg-gray-200 rounded"}),s.jsx("div",{className:"h-24 bg-gray-200 rounded"})]})]})})}):s.jsx("div",{className:"container py-10",children:s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"w-full max-w-2xl",children:[o&&s.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded-md shadow-sm",children:[s.jsx("h2",{className:"text-xl font-bold text-blue-700",children:"Complete your profile"}),s.jsx("p",{className:"mt-2 text-blue-600",children:"Please set your location to discover nearby events and connect with friends in your area."})]}),s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Edit Profile"}),s.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profile Picture"}),s.jsx(tW,{className:"w-32 h-32"})]}),s.jsx(Jx,{className:"my-6"}),s.jsx(Qq,{profile:r,onSubmit:u,onCancel:d,showRequiredFields:o})]})]})})})},nW=(e={})=>{const[t,r]=x.useState(""),[n,a]=x.useState(""),[o,c]=x.useState(!1),[u,d]=x.useState(null),[h,m]=x.useState(!1),[p,v]=x.useState(0),[y,N]=x.useState(null),[_,b]=x.useState(0),[S,k]=x.useState(!1),C=ot(),P=on(),T=async M=>{var D,W,B,Z;if(M.preventDefault(),!(!t||!n)){c(!0),d(null),N(null);try{const{error:V}=await ae.auth.signInWithPassword({email:t,password:n});if(V){console.error("Login error:",V),d(V.message||"Login failed"),b(H=>H+1),((D=V.message)!=null&&D.includes("rate limit")||(W=V.message)!=null&&W.includes("too many requests"))&&(m(!0),v(60)),N(`Error: ${V.message}
Code: ${V.status||"unknown"}`);return}e.suppressSuccessToast||Ut.success("Login successful!");const K=((Z=(B=P.state)==null?void 0:B.from)==null?void 0:Z.pathname)||"/";C(K,{replace:!0})}catch(V){console.error("Unexpected login error:",V),d("An unexpected error occurred"),N(`Unexpected error: ${V}`)}finally{c(!1)}}};return{email:t,setEmail:r,password:n,setPassword:a,loading:o,isLoading:o,error:u,rateLimited:h,waitTime:p,debugInfo:y,retryCount:_,showAdvancedError:S,setShowAdvancedError:k,handleSubmit:T,handleLogin:T}},sW=({error:e,showAdvancedError:t,setShowAdvancedError:r,retryCount:n,waitTime:a,rateLimited:o})=>e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start",children:[s.jsx(Hi,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{children:e}),(e.includes("rate limit")||e.includes("timed out")||e.includes("too many requests"))&&s.jsx("p",{className:"text-sm mt-1",children:"Supabase limits authentication attempts to prevent abuse. Please try again later."}),s.jsx("button",{className:"text-xs underline mt-1 text-red-600",onClick:()=>r(!t),children:t?"Hide technical details":"Show technical details"})]})]}),t&&s.jsxs("div",{className:"bg-gray-50 border border-gray-200 text-gray-700 px-4 py-3 rounded flex items-start mt-2 mb-4",children:[s.jsx(FD,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-semibold",children:"Technical information:"}),s.jsx("p",{children:"This issue may be related to Supabase's rate limiting. Your account may be temporarily restricted due to multiple login attempts."}),s.jsxs("p",{className:"mt-1",children:["Retry count: ",n]}),s.jsxs("p",{children:["Wait time: ",a," seconds"]}),s.jsxs("p",{children:["Rate limited: ",o?"Yes":"No"]})]})]})]}):null,aW=({rateLimited:e,waitTime:t})=>e?s.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded flex items-start",children:[s.jsx(Hi,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsxs("p",{children:["Please wait ",t," seconds before trying again."]}),s.jsx("p",{className:"text-xs mt-1",children:"Supabase limits how frequently you can attempt authentication to prevent abuse."})]})]}):null,iW=({debugInfo:e})=>e?s.jsx("div",{className:"bg-gray-50 border border-gray-200 text-gray-700 px-4 py-3 rounded flex items-start mb-4",children:s.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:e})}):null,oW=({email:e,setEmail:t,password:r,setPassword:n,loading:a,rateLimited:o,onSubmit:c})=>s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(At,{htmlFor:"login-email",children:"Email"}),s.jsx(gt,{id:"login-email",type:"email",value:e,onChange:u=>t(u.target.value),placeholder:"Enter your email",disabled:a||o,required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(At,{htmlFor:"login-password",children:"Password"}),s.jsx(gt,{id:"login-password",type:"password",value:r,onChange:u=>n(u.target.value),placeholder:"Enter your password",disabled:a||o,required:!0})]}),s.jsx(ee,{type:"submit",disabled:a||o,variant:"primary",className:"w-full",children:a?"Logging in...":"Login"})]}),JP=({onClick:e,loading:t=!1,disabled:r=!1,children:n="Continue with Google",className:a=""})=>s.jsxs(ee,{type:"button",variant:"outline",size:"lg",className:`
      w-full 
      bg-white 
      border border-gray-300 
      text-[#3c4043] 
      font-medium 
      flex items-center justify-center gap-2 
      shadow-sm
      hover:bg-gray-50 hover:border-gray-400
      transition-all
      ${a}
    `,style:{boxShadow:"0 1px 2px rgba(60,64,67,0.10)"},onClick:e,disabled:t||r,children:[s.jsx("svg",{width:"20",height:"20",viewBox:"0 0 48 48",className:"mr-2","aria-hidden":"true",children:s.jsxs("g",{children:[s.jsx("path",{d:"M44.5 20H24v8.5h11.7C34.6 33.1 29.8 36 24 36c-6.7 0-12.3-5.4-12.3-12S17.3 12 24 12c3.1 0 5.9 1.1 8 3l6-6C34.2 4.5 29.4 2.5 24 2.5 12.7 2.5 3.5 11.7 3.5 23S12.7 43.5 24 43.5c10.6 0 20-7.7 20-20 0-1.3-.1-2.2-.3-3.5z",fill:"#fbbc04"}),s.jsx("path",{d:"M6.3 14.7l7 5.1C15.2 16.3 19.3 12.5 24 12.5c3.1 0 5.8 1.1 8 3l6-6C34.2 4.5 29.4 2.5 24 2.5 16.3 2.5 9.5 7.5 6.3 14.7z",fill:"#ea4335"}),s.jsx("path",{d:"M24 43.5c5.7 0 10.6-1.8 14.7-5.1L32 32.1c-2.1 1.6-5.1 2.6-8 2.6-5.8 0-10.6-3.9-12.2-9.2l-7 5.4C9.5 38.7 16.3 43.5 24 43.5z",fill:"#34a853"}),s.jsx("path",{d:"M44.5 20H24v8.5h11.7c-1.1 3.3-3.8 5.6-7.7 5.6-2.3 0-4.4-.7-6-2l-7.1 5.5C18.2 41.4 21 43.5 24 43.5c5.6 0 10.5-1.8 14.6-5.2l-7-5.3c-2.2 1.5-4.7 2.5-7.6 2.5-6.1 0-11-5.1-11-11.4s4.9-11.4 11-11.4c2.5 0 5 .7 7.1 2L36 16l-7.1 5.5z",fill:"#4285f4"})]})}),t?"Loading...":n]}),lW=({onToggleMode:e,onForgotPassword:t,suppressSuccessToast:r=!1})=>{const{email:n,setEmail:a,password:o,setPassword:c,loading:u,error:d,rateLimited:h,waitTime:m,debugInfo:p,retryCount:v,showAdvancedError:y,setShowAdvancedError:N,handleSubmit:_}=nW({suppressSuccessToast:r}),{loginWithGoogle:b,loading:S}=Xe(),k=async()=>{u||S||await b()};return s.jsxs(s.Fragment,{children:[s.jsx(JP,{onClick:k,loading:u||S,children:"Sign in with Google"}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsx(sW,{error:d,showAdvancedError:y,setShowAdvancedError:N,retryCount:v,waitTime:m,rateLimited:h}),s.jsx(iW,{debugInfo:p}),s.jsx(aW,{rateLimited:h,waitTime:m}),s.jsx(oW,{email:n,setEmail:a,password:o,setPassword:c,loading:u,rateLimited:h,onSubmit:_}),s.jsxs("div",{className:"text-sm text-center text-gray-500 space-y-2 mt-4",children:[s.jsxs("p",{children:["Don't have an account?"," ",s.jsx("button",{onClick:e,className:"text-vibrant-seafoam hover:text-vibrant-seafoam/80 font-medium transition-colors",type:"button",children:"Sign up"})]}),t&&s.jsx("p",{children:s.jsx("button",{onClick:t,className:"text-vibrant-seafoam hover:text-vibrant-seafoam/80 transition-colors",type:"button",children:"Forgot password?"})})]})]})},cW=()=>{const{isAuthenticated:e}=Xe(),t=ot();x.useEffect(()=>{e&&t("/",{replace:!0})},[e,t]);const r=()=>{t("/signup")},n=()=>{t("/forgot-password")};return e?null:s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-secondary-25 to-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-4",children:"Sign in to your account"}),s.jsx("p",{className:"text-lg text-neutral",children:"Ready to find your next adventure?"}),s.jsxs("div",{className:"flex justify-center items-center gap-4 text-xl opacity-60 mt-4",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]})]}),s.jsxs(Be,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsxs(jt,{className:"space-y-1 text-center",children:[s.jsx(Nt,{className:"text-2xl font-semibold text-primary",children:"Sign In"}),s.jsx(Mt,{className:"text-neutral",children:"Sign in to your account to continue"})]}),s.jsx(ut,{className:"space-y-4",children:s.jsx(lW,{onToggleMode:r,onForgotPassword:n})})]})]})})},uW=Cu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 dark:border-green-500 [&>svg]:text-green-500"}},defaultVariants:{variant:"default"}}),Ll=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:re(uW({variant:t}),e),...r}));Ll.displayName="Alert";const XP=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));XP.displayName="AlertTitle";const Fl=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:re("text-sm [&_p]:leading-relaxed",e),...t}));Fl.displayName="AlertDescription";const dW=Bh({email:$t().email({message:"Invalid email address."}),password:$t().min(6,{message:"Password must be at least 6 characters."}),confirmPassword:$t().min(6,{message:"Password must be at least 6 characters."})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),fW=()=>{const[e,t]=x.useState(1),[r,n]=x.useState(!1),[a,o]=x.useState(!1),[c,u]=x.useState(""),[d,h]=x.useState(""),[m,p]=x.useState({password:!1,confirmPassword:!1}),{loginWithGoogle:v,loading:y}=Xe(),N=Uh({resolver:zh(dW),defaultValues:{email:"",password:"",confirmPassword:""},mode:"onBlur"});return{form:N,step:e,loading:r,authLoading:y,errorMessage:d,registrationComplete:a,registeredEmail:c,blurredFields:m,onSubmit:async P=>{n(!0),h("");try{await ae.auth.signOut({scope:"global"}).catch(()=>{});const T=window.location.origin,{data:R,error:M}=await ae.auth.signUp({email:P.email,password:P.password,options:{emailRedirectTo:`${T}/profile/edit?welcome=true`}});if(M){if(M.message.includes("User already registered")){h("This email is already registered. Please use a different email or try logging in."),st({title:"Account already exists",description:"This email address is already registered. Please try logging in instead.",variant:"destructive"});return}throw M}o(!0),u(P.email),st({title:"Sign up successful!",description:"We've sent you a confirmation email. Please check your inbox and verify your account.",variant:"success"})}catch(T){console.error("Signup failed:",T.message),h(T.message||"Something went wrong"),st({title:"Sign up failed",description:T.message||"Something went wrong with your registration. Please try again.",variant:"destructive"})}finally{n(!1)}},nextStep:async()=>{await N.trigger("email")&&t(2)},prevStep:()=>{t(1),h("")},handleGoogleLogin:async()=>{r||y||await v()},handleFieldBlur:P=>{p(T=>({...T,[P]:!0}))}}},hW=({registeredEmail:e,onToggleMode:t})=>s.jsxs("div",{className:"space-y-4 max-w-md w-full",children:[s.jsxs(Ll,{className:"bg-green-50 border-green-200",children:[s.jsx(BN,{className:"h-4 w-4 text-green-600"}),s.jsx(XP,{className:"text-green-800",children:"Registration successful!"}),s.jsxs(Fl,{className:"text-green-700",children:["We've sent a confirmation email to ",s.jsx("strong",{children:e}),". Please check your inbox and click the verification link to activate your account."]})]}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Don't see the email? Check your spam folder or try logging in anyway."}),s.jsx(ee,{variant:"outline",className:"w-full",onClick:t,children:"Go to Login"})]})]}),mW=({loading:e})=>{const t=Zl();return s.jsx(_n,{control:t.control,name:"email",render:({field:r})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Email"}),s.jsx(en,{children:s.jsx(gt,{placeholder:"name@example.com",type:"email",autoComplete:"email",disabled:e,...r})}),s.jsx(tn,{})]})})},pW=({loading:e,blurredFields:t,handleFieldBlur:r})=>{const n=Zl();return s.jsxs(s.Fragment,{children:[s.jsx(_n,{control:n.control,name:"password",render:({field:a})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Password"}),s.jsx(en,{children:s.jsx(gt,{placeholder:"",type:"password",autoComplete:"new-password",disabled:e,onBlur:()=>{a.onBlur(),r("password")},...a})}),t.password&&s.jsx(tn,{})]})}),s.jsx(_n,{control:n.control,name:"confirmPassword",render:({field:a})=>s.jsxs(kr,{children:[s.jsx(jn,{children:"Confirm Password"}),s.jsx(en,{children:s.jsx(gt,{placeholder:"",type:"password",autoComplete:"new-password",disabled:e,onBlur:()=>{a.onBlur(),r("confirmPassword")},...a})}),t.confirmPassword&&s.jsx(tn,{})]})})]})};function gW({onToggleMode:e}){const{form:t,step:r,loading:n,authLoading:a,errorMessage:o,registrationComplete:c,registeredEmail:u,blurredFields:d,onSubmit:h,nextStep:m,prevStep:p,handleGoogleLogin:v,handleFieldBlur:y}=fW();return c?s.jsx(hW,{registeredEmail:u,onToggleMode:e}):s.jsxs("div",{className:"space-y-4 max-w-md w-full",children:[o&&s.jsxs(Ll,{variant:"destructive",className:"bg-red-50 border-red-200",children:[s.jsx(Hi,{className:"h-4 w-4"}),s.jsx(Fl,{className:"font-normal text-red-800",children:o})]}),s.jsx(Vh,{...t,children:s.jsxs("form",{onSubmit:t.handleSubmit(h),className:"space-y-4",children:[r===1&&s.jsx(mW,{loading:n}),r===2&&s.jsx(pW,{loading:n,blurredFields:d,handleFieldBlur:y}),s.jsxs("div",{className:"flex justify-between mt-6",children:[r>1&&s.jsx(ee,{type:"button",variant:"outline",onClick:p,disabled:n,children:"Back"}),r<2?s.jsx(ee,{type:"button",variant:"primary",onClick:m,disabled:n,className:"ml-auto",children:"Next"}):s.jsx(ee,{type:"submit",variant:"primary",disabled:n||a,className:"ml-auto",children:n?"Creating account...":"Create account"})]})]})}),s.jsxs("div",{className:"relative my-4",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),s.jsx(JP,{onClick:v,loading:n||a,children:"Sign up with Google"}),s.jsxs("div",{className:"text-center text-sm",children:["Already have an account?"," ",s.jsx(ee,{variant:"link",className:"p-0",onClick:e,children:"Sign in"})]})]})}const vW=()=>{const e=ot();return s.jsx("div",{className:"min-h-screen bg-gradient-to-b from-secondary-25 to-white flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-primary mb-4",children:["Join the ",s.jsx("span",{className:"text-vibrant-seafoam",children:"community"})]}),s.jsx("p",{className:"text-lg text-neutral",children:"Discover events that match your vibe"}),s.jsxs("div",{className:"flex justify-center items-center gap-4 text-xl opacity-60 mt-4",children:[s.jsx("span",{children:""}),s.jsx("span",{children:""}),s.jsx("span",{children:""})]})]}),s.jsxs(Be,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsxs(jt,{className:"text-center",children:[s.jsx(Nt,{className:"text-2xl font-semibold text-primary",children:"Create an Account"}),s.jsx(Mt,{className:"text-neutral",children:"Join us to discover events and connect with your community"})]}),s.jsx(ut,{className:"space-y-4",children:s.jsx(gW,{onToggleMode:()=>e("/login")})})]})]})})},xW=({onBackToLogin:e})=>{const[t,r]=x.useState(""),[n,a]=x.useState(!1),[o,c]=x.useState(null),[u,d]=x.useState(null),[h,m]=x.useState(!1),[p,v]=x.useState(30);x.useEffect(()=>{(async()=>{try{console.log("Signing out any existing users on forgot password page"),await ae.auth.signOut({scope:"global"}),console.log("User signed out successfully")}catch(b){console.error("Error signing out:",b)}})()},[]),x.useEffect(()=>{let _;return h&&p>0?_=window.setTimeout(()=>{v(b=>b-1)},1e3):p===0&&(m(!1),c(null)),()=>{_&&clearTimeout(_)}},[h,p]);const y=()=>{m(!0),v(30),c("Too many password reset attempts. Please wait a moment before trying again."),st({title:"Too many attempts",description:"Please wait a moment before requesting another password reset.",variant:"destructive"})},N=async _=>{var b,S,k;if(_.preventDefault(),h){st({title:"Action limited",description:`Please wait ${p} seconds before trying again.`,variant:"destructive"});return}a(!0),c(null),d(null);try{console.log("Ensuring user is signed out before sending password reset email"),await ae.auth.signOut({scope:"global"}),console.log("Sending password reset email to:",t);const C=window.location.origin,P=new Date().getTime(),T=`${C}/reset-password?t=${P}`;console.log("Full redirect URL:",T);const{error:R}=await ae.auth.resetPasswordForEmail(t,{redirectTo:T});if(console.log("Password reset response:",{error:R}),R){console.error("Password reset error details:",R),(b=R.message)!=null&&b.toLowerCase().includes("rate limit")||(S=R.message)!=null&&S.toLowerCase().includes("too many requests")?y():(k=R.message)!=null&&k.toLowerCase().includes("email not found")?(c("We couldn't find an account with that email address."),st({title:"Email not found",description:"We couldn't find an account with that email address.",variant:"destructive"})):(c(R.message||"Failed to send password reset email. Please try again."),st({title:"Password reset failed",description:R.message||"Failed to send password reset email. Please try again.",variant:"destructive"}));return}d("Password reset instructions sent to your email."),st({title:"Password reset email sent",description:"Check your inbox for instructions to reset your password.",variant:"success"})}catch(C){console.error("Password reset failed:",C.message),c(C.message||"Failed to send password reset email. Please try again."),st({title:"Password reset failed",description:C.message||"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{a(!1)}};return s.jsxs(s.Fragment,{children:[o&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start",children:[s.jsx(Hi,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("p",{children:o})]}),u&&s.jsxs(Ll,{className:"bg-blue-50 border-blue-200",children:[s.jsx(ND,{className:"h-5 w-5 text-blue-600"}),s.jsx(Fl,{className:"text-blue-700",children:u})]}),h&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 text-amber-700 px-4 py-3 rounded flex items-start",children:[s.jsx(Hi,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsxs("p",{children:["Please wait ",p," seconds before trying again."]})]}),s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(At,{htmlFor:"reset-email",children:"Email"}),s.jsx(gt,{id:"reset-email",type:"email",value:t,onChange:_=>r(_.target.value),placeholder:"Enter your email",disabled:n||h||!!u,required:!0})]}),s.jsx(ee,{type:"submit",disabled:n||h||!!u,className:"w-full bg-purple hover:bg-purple/90 text-white",children:n?"Sending...":"Send Reset Link"})]}),s.jsx("div",{className:"text-sm text-center text-gray-500 mt-4",children:s.jsx("button",{onClick:e,className:"text-purple hover:underline",children:"Back to login"})})]})},yW=()=>{const e=ot(),t=()=>{e("/login")};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(mh,{})}),s.jsxs(Be,{children:[s.jsxs(jt,{className:"space-y-1",children:[s.jsx(Nt,{className:"text-2xl text-center",children:"Forgot Password"}),s.jsx(Mt,{className:"text-center",children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsx(ut,{children:s.jsx(xW,{onBackToLogin:t})})]})]})})},wW=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,o]=x.useState(!1),[c,u]=x.useState(""),[d,h]=x.useState(""),[m,p]=x.useState(!1),[v,y]=x.useState(30),[N,_]=x.useState(!1),[b,S]=x.useState(!1),{toast:k}=fh(),C=ot(),P=on();x.useEffect(()=>{(async()=>{try{if(console.log("Processing URL for password reset token"),console.log("URL hash:",P.hash),console.log("URL search params:",P.search),P.hash&&P.hash.length>1){console.log("Processing hash parameters");let K;try{if(P.hash.includes("type="))K=new URLSearchParams(P.hash.substring(1));else{const le=P.hash.substring(1),X={};le.split("&").forEach(U=>{const[q,se]=U.split("=");q&&se&&(X[q]=decodeURIComponent(se))}),K=new URLSearchParams,Object.entries(X).forEach(([U,q])=>{K.append(U,q)})}const H=K.get("type"),me=K.get("access_token");if(console.log("Hash params:",{type:H,accessToken:me}),(H==="recovery"||H==="signup")&&me){console.log("Valid recovery token found in hash");const{error:le}=await ae.auth.setSession({access_token:me,refresh_token:""});le?(console.error("Error setting session from hash token:",le),u(`Error processing reset token: ${le.message}`),S(!1)):(console.log("Session set successfully from hash token"),S(!0)),_(!0);return}else if(me){console.log("Found access token without type, assuming recovery");const{error:le}=await ae.auth.setSession({access_token:me,refresh_token:""});le?(console.error("Error setting session from access token:",le),u(`Error processing reset token: ${le.message}`),S(!1)):(console.log("Session set successfully from access token"),S(!0)),_(!0);return}}catch(H){console.error("Error parsing hash parameters:",H)}}const W=new URLSearchParams(P.search),B=W.get("type"),Z=W.get("token");if(console.log("URL params:",{type:B,token:Z}),Z){console.log("Found token in URL params");const{error:K}=await ae.auth.verifyOtp({token_hash:Z,type:B==="recovery"?"recovery":"signup"});K?(console.error("Error verifying OTP:",K),u("Invalid or expired password reset link. Please request a new one."),S(!1)):(console.log("OTP verified successfully"),S(!0)),_(!0);return}const{data:{session:V}}=await ae.auth.getSession();if(V){console.log("Found existing session, checking if it's valid"),S(!0),_(!0);return}console.log("No valid recovery token found"),u("Invalid or expired password reset link. Please request a new one."),S(!1),_(!0)}catch(W){console.error("Error parsing reset token:",W),u("Invalid or expired password reset link. Please request a new one."),S(!1),_(!0)}})()},[P]),x.useEffect(()=>{let D;return m&&v>0?D=window.setTimeout(()=>{y(W=>W-1)},1e3):v===0&&(p(!1),u("")),()=>{D&&window.clearTimeout(D)}},[m,v]);const T=D=>D.length<6?(u("Password should be at least 6 characters long"),!1):(u(""),!0),R=()=>{p(!0),y(30),u("You've reached the maximum allowed attempts. Please wait a moment before trying again.")},M=async D=>{var W,B,Z,V,K;if(D.preventDefault(),m){k({title:"Action limited",description:`Please wait ${v} seconds before trying again.`,variant:"destructive"});return}if(T(e)){if(e!==r){u("Passwords do not match");return}o(!0);try{console.log("Attempting to reset password");const{error:H}=await ae.auth.updateUser({password:e});if(H){if(console.error("Password reset error:",H),(W=H.message)!=null&&W.toLowerCase().includes("rate limit")){R();return}if((B=H.message)!=null&&B.toLowerCase().includes("session missing")){u("Your reset link has expired. Please request a new password reset link.");return}throw H}h("Password has been reset successfully!"),k({title:"Password reset successful",description:"Your password has been updated. You can now log in with your new password."}),await ae.auth.signOut(),setTimeout(()=>{C("/login")},2e3)}catch(H){console.error("Password reset error:",H),(Z=H.message)!=null&&Z.toLowerCase().includes("rate limit")||(V=H.message)!=null&&V.toLowerCase().includes("too many requests")?R():(u(H.message||"There was a problem resetting your password."),(K=H.message)!=null&&K.toLowerCase().includes("session missing")&&u("Your reset link has expired. Please request a new password reset link.")),k({title:"Password reset failed",description:H.message||"There was a problem resetting your password.",variant:"destructive"})}finally{o(!1)}}};return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx(mh,{})}),s.jsxs(Be,{children:[s.jsxs(jt,{className:"space-y-1",children:[s.jsx(Nt,{className:"text-2xl text-center",children:"Reset Password"}),s.jsx(Mt,{className:"text-center",children:"Create a new password for your account"})]}),s.jsxs("form",{onSubmit:M,children:[s.jsxs(ut,{className:"grid gap-4",children:[c&&s.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded flex items-start",children:[s.jsx(Hi,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5"}),s.jsx("p",{children:c})]}),d&&s.jsxs(Ll,{className:"bg-green-50 border-green-200",children:[s.jsx(io,{className:"h-5 w-5 text-green-600"}),s.jsx(Fl,{className:"text-green-700",children:d})]}),m&&s.jsxs(Ll,{className:"bg-amber-50 border-amber-200",children:[s.jsx(Hi,{className:"h-5 w-5 text-amber-600"}),s.jsxs(Fl,{className:"text-amber-700",children:["Please wait ",v," seconds before trying again."]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"New Password"}),s.jsx(gt,{id:"password",type:"password",value:e,onChange:D=>t(D.target.value),disabled:a||!!d||m||!b||!N,required:!0,placeholder:""})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password"}),s.jsx(gt,{id:"confirmPassword",type:"password",value:r,onChange:D=>n(D.target.value),disabled:a||!!d||m||!b||!N,required:!0,placeholder:""})]})]}),s.jsxs(wx,{className:"flex flex-col space-y-3",children:[s.jsx(ee,{type:"submit",className:"w-full bg-purple hover:bg-purple/90",disabled:a||!!d||m||!b||!N,children:a?"Updating...":"Reset Password"}),!b&&N&&s.jsx(pt,{to:"/forgot-password",className:"text-sm text-purple hover:underline self-center",children:"Request new reset link"}),s.jsx(pt,{to:"/login",className:"text-sm text-purple hover:underline self-center",children:"Back to login"})]})]})]})]})})},bW=()=>{const e=ot(),{signOut:t}=Xe();return x.useEffect(()=>{(async()=>{try{console.log("Starting logout process"),await t(),console.log("Logout successful, redirecting to login"),setTimeout(()=>e("/login"),1500)}catch(n){console.error("Logout error:",n),setTimeout(()=>e("/login"),1500)}})()},[t,e]),s.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:[s.jsx("h1",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Goodbye!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You are now being logged out..."}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx(sa,{className:"h-8 w-8 animate-spin text-purple"})})]})},_W=()=>s.jsxs("div",{className:"w-full bg-gray-50",children:[s.jsxs(hh,{children:[s.jsx("title",{children:"Privacy Policy | the lineup"}),s.jsx("meta",{name:"description",content:"Privacy Policy for the lineup"})]}),s.jsx("div",{className:"w-full bg-white border-b border-gray-200",children:s.jsx("div",{className:"w-full py-16",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6",children:s.jsx("h1",{className:"text-4xl font-bold tracking-tight text-center",children:"Privacy Policy"})})})}),s.jsx("div",{className:"w-full py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6",children:s.jsxs("div",{className:"prose prose-lg max-w-none bg-white rounded-lg p-8 shadow-sm",children:[s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed mb-6",children:"Your privacy is important to us. This Privacy Policy explains how we collect, use, and protect your information when you use the lineup platform."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Information We Collect"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"We collect information you provide directly to us, such as when you create an account, update your profile, RSVP to events, or contact us. This may include your name, email address, location, and profile information."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"How We Use Your Information"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"We use the information we collect to provide, maintain, and improve our services, including to show you relevant events, connect you with friends, and communicate with you about our services."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Your Rights (GDPR Compliance)"}),s.jsx("p",{className:"text-base leading-7 mb-4",children:"Under the General Data Protection Regulation (GDPR), you have the following rights regarding your personal data:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[s.jsx("li",{children:"Right to access your personal data"}),s.jsx("li",{children:"Right to rectification (correction) of your data"}),s.jsx("li",{children:"Right to erasure (deletion) of your data"}),s.jsx("li",{children:"Right to restrict processing of your data"}),s.jsx("li",{children:"Right to data portability"}),s.jsx("li",{children:"Right to object to processing"}),s.jsx("li",{children:"Right to withdraw consent at any time"})]}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Data Sharing"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"We do not sell your personal information. We may share your information only in specific circumstances, such as with your explicit consent or as required by law."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Data Security"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"We implement appropriate technical and organizational measures to protect your personal data against unauthorized access, alteration, disclosure, or destruction."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-base leading-7",children:"If you have any questions about this Privacy Policy or wish to exercise your rights, please contact us at privacy@the-lineup.com."})]})})})]}),jW=()=>s.jsxs("div",{className:"w-full bg-gray-50",children:[s.jsxs(hh,{children:[s.jsx("title",{children:"Terms of Service | the lineup"}),s.jsx("meta",{name:"description",content:"Terms of Service for the lineup"})]}),s.jsx("div",{className:"w-full bg-white border-b border-gray-200",children:s.jsx("div",{className:"w-full py-16",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6",children:s.jsx("h1",{className:"text-4xl font-bold tracking-tight text-center",children:"Terms of Service"})})})}),s.jsx("div",{className:"w-full py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6",children:s.jsxs("div",{className:"prose prose-lg max-w-none bg-white rounded-lg p-8 shadow-sm",children:[s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed mb-6",children:"These Terms of Service govern your use of our platform and services."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Acceptance of Terms"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"By accessing and using this service, you accept and agree to be bound by the terms and provision of this agreement."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"User Responsibilities"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"You are responsible for maintaining the confidentiality of your account and password and for restricting access to your account. You agree to accept responsibility for all activities that occur under your account."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Prohibited Uses"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"You may not use our service for any illegal or unauthorized purpose. You must not violate any laws in your jurisdiction when using our service."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Service Availability"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"We reserve the right to modify or discontinue the service at any time without notice. We shall not be liable to you or any third party for any modification, suspension, or discontinuance of the service."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-base leading-7",children:"If you have any questions about these Terms of Service, please contact us at legal@the-lineup.com."})]})})})]}),NW=()=>s.jsxs("div",{className:"w-full bg-gray-50",children:[s.jsxs(hh,{children:[s.jsx("title",{children:"Cookie Policy | the lineup"}),s.jsx("meta",{name:"description",content:"Cookie Policy for the lineup"})]}),s.jsx("div",{className:"w-full bg-white border-b border-gray-200",children:s.jsx("div",{className:"w-full py-16",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6",children:s.jsx("h1",{className:"text-4xl font-bold tracking-tight text-center",children:"Cookie Policy"})})})}),s.jsx("div",{className:"w-full py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-6",children:s.jsxs("div",{className:"prose prose-lg max-w-none bg-white rounded-lg p-8 shadow-sm",children:[s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed mb-6",children:"This Cookie Policy explains how we use cookies and similar technologies to recognize you when you visit our platform."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"What Are Cookies"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"Cookies are small data files that are placed on your computer or mobile device when you visit a website. They are widely used to make websites work more efficiently and to provide information to website owners."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"How We Use Cookies"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"We use cookies to improve your experience, analyze our traffic, provide social media features, and remember your preferences. The cookies we use fall into the following categories:"}),s.jsxs("ul",{className:"list-disc pl-6 mb-6 space-y-2",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Essential Cookies:"})," Required for the website to function properly"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Analytics Cookies:"})," Help us understand how visitors interact with our website"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Preference Cookies:"})," Remember your settings and preferences"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Social Media Cookies:"})," Enable social media features and functionality"]})]}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Google Tag Manager"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"We use Google Tag Manager to manage tracking scripts and analytics. This helps us understand how users interact with our site while respecting your privacy preferences."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Your Cookie Choices"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"You can control and manage cookies in various ways. Please note that removing or blocking cookies can impact your user experience and some features of our website may not function properly."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Third-Party Cookies"}),s.jsx("p",{className:"text-base leading-7 mb-6",children:"Some cookies on our site are set by third-party services. We have no control over these cookies and you should check the relevant third party's website for more information."}),s.jsx("h2",{className:"text-3xl font-semibold tracking-tight mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-base leading-7",children:"If you have any questions about our use of cookies, please contact us at privacy@the-lineup.com."})]})})})]}),SW=()=>{const e=on();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center space-y-6 max-w-md p-8",children:[s.jsx("h1",{className:"text-6xl font-bold text-brand-main",children:"404"}),s.jsx("h2",{className:"text-2xl font-medium",children:"Page not found"}),s.jsx("p",{className:"text-muted-foreground",children:"Sorry, we couldn't find the page you're looking for. It might have been moved or doesn't exist."}),s.jsx(ee,{asChild:!0,children:s.jsxs(pt,{to:"/",className:"inline-flex items-center",children:[s.jsx(VN,{className:"mr-2 h-4 w-4"})," Return to Home"]})})]})})},kW=({children:e,subtitle:t,className:r=""})=>{const n=Dt();return s.jsx("div",{className:"relative w-full bg-white border-b border-gray-200",children:s.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center text-center px-4 sm:px-6 lg:px-8 py-12 md:py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h1",{className:`${n?"text-3xl":"text-4xl md:text-5xl"} font-bold tracking-tight text-gray-900 mb-4 leading-tight ${r}`,children:e}),t&&s.jsx("p",{className:`${n?"text-base":"text-lg md:text-xl"} text-gray-600 max-w-2xl mx-auto leading-relaxed font-medium`,children:t})]})})})},CW=()=>{const e=["none","xs","sm","md","lg","xl","full"];return s.jsxs("div",{className:"space-y-8 p-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Border Radius Options"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Demonstrates all available border radius variants for buttons"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.map(t=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(ee,{radius:t,className:"w-full",children:t}),s.jsxs("code",{className:"text-xs text-gray-500 block text-center",children:['radius="',t,'"']})]},t))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Button Variants with Default Radius"}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx(ee,{variant:"default",children:"Default"}),s.jsx(ee,{variant:"outline",children:"Outline"}),s.jsx(ee,{variant:"secondary",children:"Secondary"}),s.jsx(ee,{variant:"ghost",children:"Ghost"}),s.jsx(ee,{variant:"destructive",children:"Destructive"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Button Sizes with Custom Radius"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx(ee,{size:"sm",radius:"md",children:"Small"}),s.jsx(ee,{size:"default",radius:"md",children:"Medium"}),s.jsx(ee,{size:"lg",radius:"md",children:"Large"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Buttons with Icons"}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs(ee,{radius:"sm",children:[s.jsx(aa,{}),"Create Event"]}),s.jsxs(ee,{variant:"outline",radius:"sm",children:[s.jsx(ri,{}),"Search Events"]}),s.jsxs(ee,{variant:"secondary",radius:"sm",children:["Explore Events",s.jsx(uD,{})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Usage Guidelines"}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg space-y-3",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-green-700 mb-2",children:" Do"}),s.jsxs("ul",{className:"space-y-1 text-gray-700",children:[s.jsx("li",{children:" Use default radius for most buttons"}),s.jsx("li",{children:' Use "none" for completely square buttons'}),s.jsx("li",{children:' Use "full" sparingly for special CTAs'}),s.jsx("li",{children:" Keep radius consistent within a component"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-700 mb-2",children:" Don't"}),s.jsxs("ul",{className:"space-y-1 text-gray-700",children:[s.jsx("li",{children:" Mix different radius values randomly"}),s.jsx("li",{children:" Override with className rounded-*"}),s.jsx("li",{children:" Use full radius for large buttons"}),s.jsx("li",{children:" Forget to specify radius for consistency"})]})]})]})})]})]})},EW=()=>{const e=["Festival","Wellness","Kite","Beach","Game","Other","Sports","Surf","Party","Yoga","Community","Water","Music","Food","Market","Art & Culture"];return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-yellow-50 border-l-4 border-primary p-5 rounded-lg shadow flex flex-col gap-2",children:[s.jsx("h2",{className:"text-xl font-bold tracking-tight text-primary mb-1",children:"Design System: Single Source of Truth"}),s.jsxs("p",{className:"text-base leading-7 text-gray-700",children:["This page documents all design tokens, components, and usage guidelines for this app.",s.jsx("br",{}),s.jsx("strong",{children:"To change the design system:"})," Edit design tokens in ",s.jsx("code",{children:"src/constants/design-tokens.ts"})," or individual UI components in ",s.jsx("code",{children:"src/components/ui/"}),".",s.jsx("br",{}),"All designers and developers should reference this page to ensure consistencythis is the ",s.jsx("span",{className:"font-semibold text-primary",children:"single source of truth"})," for visual design."]}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mt-2",children:[s.jsxs("li",{children:["Preview changes by visiting ",s.jsx("code",{children:"/design-system"})," in the app."]}),s.jsx("li",{children:"Document all new or updated components here for clarity and review before wider adoption."}),s.jsx("li",{children:"Consult this page before starting new UI work."})]})]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx(kW,{children:"Design System"}),s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"The lineup's comprehensive design guidelines and components"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsxs(Be,{className:"sticky top-8",children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-lg",children:"Components"})}),s.jsxs(ut,{className:"space-y-2",children:[s.jsx("a",{href:"#design-tokens",className:"block text-sm hover:text-blue-600",children:"Design Tokens"}),s.jsx("a",{href:"#typography",className:"block text-sm hover:text-blue-600",children:"Typography"}),s.jsx("a",{href:"#colors",className:"block text-sm hover:text-blue-600",children:"Colors"}),s.jsx("a",{href:"#buttons",className:"block text-sm hover:text-blue-600",children:"Buttons"}),s.jsx("a",{href:"#category-pills",className:"block text-sm hover:text-blue-600",children:"Category Pills"}),s.jsx("a",{href:"#forms",className:"block text-sm hover:text-blue-600",children:"Forms"}),s.jsx("a",{href:"#cards",className:"block text-sm hover:text-blue-600",children:"Cards"}),s.jsx("a",{href:"#icons",className:"block text-sm hover:text-blue-600",children:"Icons"}),s.jsx("a",{href:"#spacing",className:"block text-sm hover:text-blue-600",children:"Spacing"})]})]})}),s.jsxs("div",{className:"lg:col-span-9 space-y-12",children:[s.jsx("section",{id:"design-tokens",className:"scroll-mt-24",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Design Tokens"}),s.jsx(Mt,{children:"Centralized design values that ensure consistency across the platform"})]}),s.jsxs(ut,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Border Radius Tokens"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries(SS.borderRadius).map(([t,r])=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:`h-12 w-full bg-gray-200 border-2 border-gray-400 ${r}`}),s.jsxs("div",{className:"text-xs",children:[s.jsx("div",{className:"font-medium",children:t}),s.jsx("code",{className:"text-gray-500",children:r})]})]},t))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Usage in Code"}),s.jsx("div",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm",children:s.jsx("pre",{children:`import { getBorderRadiusClass } from '@/constants/design-tokens';

// Use in components
<Button radius="sm">My Button</Button>

// Or get the class directly
const radiusClass = getBorderRadiusClass('md');`})})]})]})]})}),s.jsx("section",{id:"buttons",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Button System"}),s.jsx(Mt,{children:"Comprehensive button variants, sizes, and radius options with usage guidelines"})]}),s.jsx(ut,{children:s.jsx(CW,{})})]})}),s.jsx("section",{id:"typography",className:"scroll-mt-24",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Typography"}),s.jsx(Mt,{children:"Consistent text styles across the platform"})]}),s.jsxs(ut,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Headings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold tracking-tight",children:"Display Heading"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-5xl md:text-6xl font-bold tracking-tight"})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-4xl font-bold tracking-tight",children:"H1 Heading"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-4xl font-bold tracking-tight"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-semibold tracking-tight",children:"H2 Heading"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-3xl font-semibold tracking-tight"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-2xl font-semibold",children:"H3 Heading"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-2xl font-semibold"})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"text-xl font-medium",children:"H4 Heading"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-xl font-medium"})]}),s.jsxs("div",{children:[s.jsx("h6",{className:"text-lg font-medium",children:"H5 Heading"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-lg font-medium"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Body Text"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:"Lead paragraph text for subtitles and descriptions"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-xl text-muted-foreground leading-relaxed"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-base leading-7",children:"Regular body text for main content and descriptions"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-base leading-7"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Small text for metadata and secondary information"}),s.jsx("code",{className:"text-xs text-gray-500",children:"text-sm text-muted-foreground"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Mobile Scaling"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Page Headers:"})," text-2xl on mobile, text-4xl on desktop"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Page Subtitles:"})," text-base on mobile, text-xl on desktop"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Card Titles:"})," text-base on mobile, text-lg on desktop"]})]})]})]})]})}),s.jsx("section",{id:"colors",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Colors"}),s.jsx(Mt,{children:"Primary color palette and usage guidelines"})]}),s.jsx(ut,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 bg-black rounded"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Primary"}),s.jsx("div",{className:"text-gray-500",children:"#121212"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 bg-gray-100 rounded border"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Secondary"}),s.jsx("div",{className:"text-gray-500",children:"#F5F5F5"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 bg-blue-500 rounded"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Blue"}),s.jsx("div",{className:"text-gray-500",children:"#3B82F6"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-12 bg-green-600 rounded"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{className:"font-medium",children:"Success"}),s.jsx("div",{className:"text-gray-500",children:"#16A34A"})]})]})]})})]})}),s.jsx("section",{id:"buttons",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Buttons"}),s.jsx(Mt,{children:"Button variants and states"})]}),s.jsxs(ut,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Primary Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(ee,{children:"Default"}),s.jsx(ee,{size:"sm",children:"Small"}),s.jsx(ee,{size:"lg",children:"Large"}),s.jsx(ee,{disabled:!0,children:"Disabled"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Secondary Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(ee,{variant:"outline",children:"Outline"}),s.jsx(ee,{variant:"ghost",children:"Ghost"}),s.jsx(ee,{variant:"secondary",children:"Secondary"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Special States"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(ee,{className:"bg-green-600 hover:bg-green-700",children:"Going"}),s.jsx(ee,{variant:"outline",className:"text-blue-600 border-blue-200 hover:bg-blue-50 bg-blue-50",children:"Interested"}),s.jsx(ee,{variant:"destructive",children:"Remove"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Icon Buttons"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs(ee,{children:[s.jsx(aa,{className:"h-4 w-4 mr-2"}),"Create"]}),s.jsxs(ee,{variant:"outline",children:[s.jsx(ri,{className:"h-4 w-4 mr-2"}),"Search"]}),s.jsx(ee,{size:"icon",children:s.jsx(ta,{className:"h-4 w-4"})})]})]})]})]})}),s.jsx("section",{id:"category-pills",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Category Pills"}),s.jsx(Mt,{children:"Event type and filter indicators - complete set as used across the platform"})]}),s.jsxs(ut,{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"All Event Categories (Active State)"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"These colors are used on event cards to label the event type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(t=>s.jsx(Dn,{category:t,active:!0,showIcon:!0,size:"default"},t))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filter Pills (Inactive State)"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Lighter colors used for unselected filter options"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.slice(0,8).map(t=>s.jsx(Dn,{category:t,active:!1,showIcon:!0,size:"default"},t))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Sizes"}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsx(Dn,{category:"Music",size:"xs",active:!0}),s.jsx(Dn,{category:"Music",size:"sm",active:!0}),s.jsx(Dn,{category:"Music",size:"default",active:!0}),s.jsx(Dn,{category:"Music",size:"lg",active:!0})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Usage Guidelines"}),s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Event Cards:"})," Always use active state (vibrant colors) to clearly identify event type"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Filter Systems:"})," Use inactive state for unselected options, active for selected"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Icons:"})," Include icons for better visual recognition and accessibility"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Consistency:"})," Same colors and styling across all platforms and contexts"]})]})]})]})]})}),s.jsx("section",{id:"forms",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Form Elements"}),s.jsx(Mt,{children:"Input fields and form components"})]}),s.jsxs(ut,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Text Input"}),s.jsx(gt,{placeholder:"Enter text..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Input"}),s.jsxs("div",{className:"relative",children:[s.jsx(ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(gt,{placeholder:"Search...",className:"pl-10"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Textarea"}),s.jsx(Jl,{placeholder:"Enter description...",rows:3})]})]})]})}),s.jsx("section",{id:"cards",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Card Components"}),s.jsx(Mt,{children:"Different card layouts and styles"})]}),s.jsx(ut,{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Event Card (Mobile Optimized)"}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 max-w-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx(Dn,{category:"music",size:"sm",active:!0}),s.jsx($r,{variant:"secondary",children:"15 going"})]}),s.jsx("h3",{className:"font-semibold text-base mb-2",children:"Sample Event Title"}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(bt,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsx("span",{children:"Sat, May 25"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx(Sl,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsx("span",{children:"20:00"})]}),s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[s.jsx(Yt,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsx("span",{children:"Sample Location"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(cs,{className:"h-6 w-6 mr-2",children:s.jsx(us,{className:"bg-gray-100",children:"U"})}),s.jsx("span",{className:"text-sm text-gray-600",children:"Username"})]}),s.jsx(ee,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Going"})]})]})]})})]})}),s.jsx("section",{id:"icons",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Icons"}),s.jsx(Mt,{children:"Common icons and usage patterns"})]}),s.jsx(ut,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(bt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Calendar"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sl,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Clock"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Yt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Location"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Users"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ri,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Search"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aa,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Add"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ta,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Favorite"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(dh,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Star"})]})]})})]})}),s.jsx("section",{id:"spacing",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"Spacing & Layout"}),s.jsx(Mt,{children:"Consistent spacing patterns"})]}),s.jsxs(ut,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Container Padding"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Mobile:"})," px-4 (16px)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Desktop:"})," px-6 (24px)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Page sections:"})," py-8 md:py-12"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Card Spacing"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Card padding:"})," p-4 (16px)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Card gap (mobile):"})," space-y-3 (12px)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Card gap (desktop):"})," gap-6 (24px)"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Element Spacing"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Title to subtitle:"})," mb-2 (8px)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Between sections:"})," space-y-4 (16px)"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Icon to text:"})," mr-1.5 (6px)"]})]})]})]})]})})]})]})]})})};function _j(e,t,r){return!e||typeof e!="object"?r:e[t]!==void 0?e[t]:r}function bf(e,t){return e&&typeof e=="object"&&t in e}const eT=x.createContext(void 0),PW=({children:e})=>{const[t,r]=x.useState(""),[n,a]=x.useState([]),[o,c]=x.useState([]),[u,d]=x.useState(!1),h=x.useCallback(async b=>{try{console.log("Tracking search:",b);const{data:S}=await ae.auth.getSession();await fetch("/api/track-search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:S.session?`Bearer ${S.session.access_token}`:""},body:JSON.stringify({query:b})})}catch(S){console.error("Failed to track search:",S)}},[]),m=x.useCallback(async(b,S,k)=>{try{const{data:C}=await ae.auth.getSession();await fetch("/api/track-search",{method:"POST",headers:{"Content-Type":"application/json",Authorization:C.session?`Bearer ${C.session.access_token}`:""},body:JSON.stringify({query:b,resultId:S,resultType:k,clicked:!0})})}catch(C){console.error("Failed to track click:",C)}},[]),p=x.useCallback(async b=>{if(!b.trim())return[];d(!0);try{console.log("Performing search with term:",b),await h(b);const S=`%${b.toLowerCase()}%`,{data:k,error:C}=await ae.from("events").select(`
          *,
          venues!events_venue_id_fkey(*),
          creator:profiles!events_creator_fkey(id, username, avatar_url, email, location, status, tagline),
          event_rsvps(id, user_id, status)
        `).eq("status","published").or(`title.ilike.${S},description.ilike.${S},destination.ilike.${S},vibe.ilike.${S},event_category.ilike.${S},tags.cs.{${b}},specific_venue.ilike.${S}`).order("start_date",{ascending:!0});console.log("Event search query result:",(k==null?void 0:k.length)||0,"events found"),C&&console.error("Event search error:",C);const{data:P,error:T}=await ae.from("venues").select("*").or(`name.ilike.${S},city.ilike.${S}`);console.log("Venue search result:",(P==null?void 0:P.length)||0,"venues found"),T&&console.error("Venue search error:",T);const{data:R,error:M}=await ae.from("casual_plans").select("*, creator_profile:profiles!casual_plans_creator_id_fkey(id, username, avatar_url)").or(`title.ilike.${S},description.ilike.${S},vibe.ilike.${S},location.ilike.${S}`);console.log("Casual plan search result:",(R==null?void 0:R.length)||0,"plans found"),M&&console.error("Casual plan search error:",M);const D=(k||[]).map(V=>({...V,type:"event"})),W=(P||[]).map(V=>({...V,type:"venue",title:V.name,location:V.city})),B=(R||[]).map(V=>({...V,type:"casual_plan"})),Z=[...D,...W,...B];return console.log("Total search results found:",Z.length),a(Z),Z}catch(S){return console.error("Error in performSearch:",S),Ut.error("Search failed",{description:"Unable to process your search query."}),[]}finally{d(!1)}},[h]),v=x.useCallback(async b=>{d(!0),r(b);try{const S=await p(b);a(S)}finally{d(!1)}},[p]),y=x.useCallback(async b=>{d(!0),r(b);try{const{data:S,error:k}=await ae.from("events").select(`
          *,
          creator:profiles!events_creator_fkey(id, username, avatar_url, email, location, location_category, status, tagline),
          venues!events_venue_id_fkey(*),
          event_rsvps(id, user_id, status)
        `).eq("status","published").eq("event_category",b).order("start_date",{ascending:!0});if(k)throw k;const C=(S||[]).map(P=>{const T=P&&bf(P,"venues")?P.venues:null,R=T&&bf(T,"city")?_j(T,"city","Location not specified"):"Location not specified";return{...P,type:"event",location:R}});a(C)}catch(S){console.error("Error in searchByCategory:",S)}finally{d(!1)}},[]),N=x.useCallback(async b=>{d(!0),r(b);try{const S=await p(b);a(S)}finally{d(!1)}},[p]),_=x.useCallback(async b=>{d(!0),b.term&&r(b.term);try{let S=ae.from("events").select(`
        *,
        creator:profiles!events_creator_fkey(id, username, avatar_url, email, location, location_category, status, tagline),
        venues!events_venue_id_fkey(*),
        event_rsvps(id, user_id, status)
      `).eq("status","published");if(b.term){const T=`%${b.term.toLowerCase()}%`;S=S.or(`title.ilike.${T},description.ilike.${T},destination.ilike.${T},vibe.ilike.${T},event_category.ilike.${T}`)}b.location&&(S=S.ilike("venues.city",`%${b.location}%`)),b.category&&(S=S.eq("event_category",b.category)),b.startDate&&(S=S.gte("start_date",b.startDate)),b.endDate&&(S=S.lte("end_date",b.endDate)),S=S.order("start_date",{ascending:!0});const{data:k,error:C}=await S;if(C)throw C;const P=(k||[]).map(T=>{const R=T&&bf(T,"venues")?T.venues:null,M=R&&bf(R,"city")?_j(R,"city","Location not specified"):"Location not specified";return{...T,type:"event",location:M}});a(P)}catch(S){console.error("Error in advancedSearch:",S)}finally{d(!1)}},[]);return s.jsx(eT.Provider,{value:{searchTerm:t,setSearchTerm:r,searchResults:n,setSearchResults:a,isSearching:u,setIsSearching:d,similarResults:o,setSimilarResults:c,searchByLocation:v,searchByCategory:y,searchByKeyword:N,advancedSearch:_,performSearch:p,trackSearch:h,trackClick:m},children:e})},TW=()=>{const e=x.useContext(eT);if(!e)throw new Error("useSearch must be used within a SearchProvider");return e},RW=({result:e,navigate:t})=>s.jsxs(Be,{className:"cursor-pointer hover:shadow-lg transition-shadow h-full",onClick:()=>t(`/venues/${e.slug||e.id}`),children:[s.jsxs(jt,{children:[s.jsx(Nt,{className:"line-clamp-2",children:e.title}),e.location&&s.jsx(Mt,{children:e.location})]}),s.jsx(ut,{children:s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center",children:[s.jsx(Yt,{className:"h-4 w-4 mr-2"}),"Venue"]})})]}),AW=()=>{const[e]=hA(),t=ot(),{searchResults:r,isSearching:n,performSearch:a,setSearchResults:o}=TW(),{isAuthenticated:c}=Xe(),u=Dt(),{joinPlan:d,leavePlan:h,rsvpToPlan:m,loadingPlanId:p}=rP(),v=e.get("q")||"";v2(),x.useEffect(()=>{v?a(v):o([])},[v,a,o]),x.useEffect(()=>()=>{o([])},[o]);const y=()=>{t("/login")},N=r.map(_=>_.type==="event"?Yx([_]).length>0?_:null:_).filter(Boolean);return s.jsxs("div",{className:`${u?"px-3 py-4":"container mx-auto px-4 py-8"} min-h-screen`,children:[s.jsxs("div",{className:"flex items-center mb-6",children:[s.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"mr-2",children:s.jsx(uh,{className:"h-5 w-5"})}),s.jsxs("h1",{className:`${u?"text-xl":"text-3xl"} font-bold tracking-tight text-gray-900`,children:["Search results for: ",s.jsx("span",{className:"text-gray-700",children:v})]})]}),n?s.jsx("div",{className:`grid gap-4 ${u?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:[...Array(8)].map((_,b)=>s.jsx(nr,{className:"h-48 w-full"},b))}):N.length>0?s.jsx("div",{className:`grid gap-4 ${u?"grid-cols-1":"md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"}`,children:N.map(_=>{if(_.type==="event")return s.jsx(Zx,{event:_,onClick:b=>tP(b.id,t)},_.id);if(_.type==="casual_plan"){const b=_;return s.jsx(nP,{plan:b,onJoin:d,onLeave:h,onRsvp:m,isJoining:p===b.id,isLeaving:p===b.id,isAuthenticated:c,onLoginPrompt:y,loadingPlanId:p},b.id)}return _.type==="venue"?s.jsx(RW,{result:_,navigate:t},_.id):null})}):!n&&v&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"No results found"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Try a different search term."})]})]})},OW=()=>{const[e,t]=x.useState({reason:"",contactEmail:"",contactPhone:""}),[r,n]=x.useState(!1),{toast:a}=fh(),{user:o}=Xe(),{creatorRequestStatus:c}=Ql(),u=async h=>{if(h.preventDefault(),!!o){n(!0);try{const{error:m}=await du.requestCreatorAccess(o.id,{reason:e.reason,contact_email:e.contactEmail||void 0,contact_phone:e.contactPhone||void 0});if(m)throw m;a({title:"Request Submitted Successfully! ",description:"Your dashboard access request has been submitted and our admin team has been notified. You'll receive an email once it's been reviewed."}),t({reason:"",contactEmail:"",contactPhone:""})}catch(m){console.error("Error submitting creator request:",m),a({title:"Submission Failed",description:m.message||"Failed to submit request. Please try again.",variant:"destructive"})}finally{n(!1)}}},d=(h,m)=>{t(p=>({...p,[h]:m}))};return c==="pending"?s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:s.jsxs(Be,{children:[s.jsx(jt,{children:s.jsx(Nt,{className:"text-2xl font-semibold",children:"Request Under Review"})}),s.jsx(ut,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full animate-pulse"})}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Your Request is Being Reviewed"}),s.jsx("p",{className:"text-gray-600",children:"We're reviewing your dashboard access request. Our admin team has been notified and you'll receive an email once it's been processed."})]})})]})}):s.jsx("div",{className:"container mx-auto px-4 py-8 max-w-2xl",children:s.jsxs(Be,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{className:"text-2xl font-semibold",children:"Request Dashboard Access"}),s.jsx("p",{className:"text-gray-600",children:"Apply to become an event organizer and access your management dashboard."})]}),s.jsx(ut,{children:s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(At,{htmlFor:"reason",children:"Why do you want to organize events? *"}),s.jsx(Jl,{id:"reason",value:e.reason,onChange:h=>d("reason",h.target.value),placeholder:"Tell us about your goals and what types of events you'd like to create",rows:4,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(At,{htmlFor:"contactEmail",children:"Contact Email (Optional)"}),s.jsx(gt,{id:"contactEmail",type:"email",value:e.contactEmail,onChange:h=>d("contactEmail",h.target.value),placeholder:"Alternative contact email"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(At,{htmlFor:"contactPhone",children:"Contact Phone (Optional)"}),s.jsx(gt,{id:"contactPhone",type:"tel",value:e.contactPhone,onChange:h=>d("contactPhone",h.target.value),placeholder:"Your phone number"})]}),s.jsx(ee,{type:"submit",disabled:r||!e.reason.trim(),className:"w-full",children:r?"Submitting Request...":"Submit Request"})]})})]})})},MW=()=>{const e=ot(),{user:t,isAuthenticated:r}=Xe(),{canCreateEvents:n,creatorRequestStatus:a,isLoading:o}=Ql();if(!r)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Please Sign In"}),s.jsx("p",{className:"text-gray-600",children:"You need to be signed in to organize events."})]})});if(o)return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),s.jsx("span",{className:"ml-2",children:"Loading..."})]})});const c=a==="pending";return s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Organize Events"}),n?s.jsxs("div",{className:"space-y-6",children:[s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Ready to create your next event? Start organizing and bring people together."}),s.jsxs(ee,{onClick:()=>e("/events/create"),size:"lg",className:"flex items-center gap-2",children:[s.jsx(aa,{className:"h-5 w-5"}),"Create New Event"]})]}):c?s.jsxs("div",{className:"py-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Request Pending"}),s.jsx("p",{className:"text-gray-600",children:"Your request for creator access is being reviewed. We'll notify you once it's approved."})]}):s.jsx(OW,{})]})})},DW=()=>s.jsx(MW,{}),Ay=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:re("w-full caption-bottom text-sm",e),...t})}));Ay.displayName="Table";const Oy=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:re("[&_tr]:border-b",e),...t}));Oy.displayName="TableHeader";const My=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:re("[&_tr:last-child]:border-0",e),...t}));My.displayName="TableBody";const IW=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));IW.displayName="TableFooter";const yu=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:re("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));yu.displayName="TableRow";const Xn=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Xn.displayName="TableHead";const es=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));es.displayName="TableCell";const LW=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:re("mt-4 text-sm text-muted-foreground",e),...t}));LW.displayName="TableCaption";const FW=({event:e})=>{const t=Ms(),{mutate:r,isPending:n}=bv({mutationFn:async({eventId:a,status:o})=>{const{data:c,error:u}=await ae.from("events").update({status:o}).eq("id",a).select().single();if(u)throw console.error("Error updating event status:",u),new Error(u.message);return c},onSuccess:()=>{Ut.success("Event status updated."),t.invalidateQueries({queryKey:["events"]})},onError:a=>{Ut.error(`Failed to update status: ${a.message}`)}});return e.id?s.jsxs(Kh,{defaultValue:e.status||"draft",onValueChange:a=>{e.id&&r({eventId:e.id,status:a})},disabled:n,children:[s.jsx(Bu,{className:"w-40 capitalize",children:s.jsx(Qh,{placeholder:"Set status"})}),s.jsxs(Vu,{children:[s.jsx(ea,{value:"draft",children:"Draft"}),s.jsx(ea,{value:"pending_approval",children:"Pending Approval"}),s.jsx(ea,{value:"published",children:"Published"}),s.jsx(ea,{value:"rejected",children:"Rejected"})]})]}):null},$W=e=>{switch(e){case"published":return"bg-green-100 text-green-800";case"pending_approval":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},UW=()=>{const{data:e,isLoading:t}=E2(void 0,{includePastEvents:!0,includeAllStatuses:!0});return console.log("Admin EventsTable - Events loaded:",(e==null?void 0:e.length)||0),t?s.jsx(nr,{className:"h-96 w-full"}):!e||e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-500 mb-4",children:"No events found."}),s.jsx("p",{className:"text-sm text-gray-400",children:"Events will appear here once they are created."})]}):s.jsx("div",{className:"border rounded-md",children:s.jsxs(Ay,{children:[s.jsx(Oy,{children:s.jsxs(yu,{children:[s.jsx(Xn,{children:"Title"}),s.jsx(Xn,{children:"Creator"}),s.jsx(Xn,{children:"Venue"}),s.jsx(Xn,{children:"Start Date"}),s.jsx(Xn,{children:"Current Status"}),s.jsx(Xn,{children:"Update Status"}),s.jsx(Xn,{className:"text-right",children:"Actions"})]})}),s.jsx(My,{children:e.map(r=>{var n,a;return s.jsxs(yu,{children:[s.jsx(es,{className:"font-medium",children:r.title||"Untitled Event"}),s.jsx(es,{children:((n=r.creator)==null?void 0:n.username)||"Unknown Creator"}),s.jsx(es,{children:((a=r.venues)==null?void 0:a.name)||"No Venue"}),s.jsx(es,{children:r.start_date?sn(new Date(r.start_date),"PPP"):"No Date"}),s.jsx(es,{children:s.jsx($r,{className:$W(r.status||"draft"),children:r.status||"draft"})}),s.jsx(es,{children:s.jsx(FW,{event:r})}),s.jsx(es,{className:"text-right",children:s.jsx(ee,{asChild:!0,variant:"outline",size:"sm",children:s.jsx(pt,{to:`/events/${r.id}`,children:"View"})})})]},r.id)})})]})})},zW=e=>{const t=te.useMemo(()=>[...new Set(e.map(r=>r.creator_id).filter(Boolean))],[e]);return sr({queryKey:["profiles","creators",t],queryFn:async()=>{if(t.length===0)return[];const{data:r,error:n}=await ae.from("profiles").select("id, username").in("id",t);if(n)throw n;return r},enabled:t.length>0})},BW=()=>{const{venues:e,isLoading:t}=Sy(),{data:r,isLoading:n}=zW(e),a=te.useMemo(()=>{const o=new Map;return r&&r.forEach(c=>c.id&&c.username&&o.set(c.id,c.username)),o},[r]);return t||e.length>0&&n?s.jsx(nr,{className:"h-96 w-full"}):!e||e.length===0?s.jsx("p",{children:"No venues found."}):s.jsx("div",{className:"border rounded-md",children:s.jsxs(Ay,{children:[s.jsx(Oy,{children:s.jsxs(yu,{children:[s.jsx(Xn,{children:"Name"}),s.jsx(Xn,{children:"City"}),s.jsx(Xn,{children:"Creator"})]})}),s.jsx(My,{children:e.map(o=>s.jsxs(yu,{children:[s.jsx(es,{className:"font-medium",children:o.name}),s.jsx(es,{children:o.city}),s.jsx(es,{children:o.creator_id&&a.get(o.creator_id)||"N/A"})]},o.id))})]})})},jj=({title:e,description:t,backButtonHref:r,className:n})=>{const a=Dt();return s.jsxs("div",{className:"relative w-full min-h-[200px] md:min-h-[250px] overflow-hidden bg-gradient-to-br from-[#005F73] via-[#2A9D8F] to-[#00B4DB] m-0 p-0",children:[s.jsx("div",{className:"absolute inset-0 opacity-10",children:s.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.4'%3E%3Cpath d='M30 30c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20zm10 0c0-11.046-8.954-20-20-20s-20 8.954-20 20 8.954 20 20 20 20-8.954 20-20z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundSize:"60px 60px"}})}),s.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center h-full min-h-[200px] md:min-h-[250px] text-center px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[r&&s.jsx("div",{className:"mb-4",children:s.jsx(ee,{variant:"ghost",size:"sm",asChild:!0,children:s.jsxs("a",{href:r,className:"gap-2 text-white hover:bg-white/10",children:[s.jsx(uh,{className:"h-4 w-4"}),"Back"]})})}),s.jsx("h1",{className:re(`${a?"text-3xl":"text-4xl md:text-5xl"} font-bold tracking-tight text-white mb-4 leading-tight`,n),children:e}),t&&s.jsx("p",{className:`${a?"text-base":"text-lg md:text-xl"} text-white/90 max-w-2xl mx-auto leading-relaxed font-medium`,children:t})]})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 md:h-16",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full h-full",preserveAspectRatio:"none",children:s.jsx("path",{fill:"#ffffff",fillOpacity:"1",d:"M0,224L48,213.3C96,203,192,181,288,181.3C384,181,480,203,576,202.7C672,203,768,181,864,181.3C960,181,1056,203,1152,202.7C1248,203,1344,181,1392,170.7L1440,160L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]})},VW=()=>{const{isAdmin:e,requests:t,isLoading:r}=bx();if(r)return s.jsx("div",{className:"container mx-auto py-10",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(nr,{className:"h-10 w-1/4"}),s.jsx(nr,{className:"h-96 w-full"})]})});if(!e)return s.jsx("div",{className:"container mx-auto py-10 text-center",children:s.jsx(jj,{title:"Access Denied",description:"You do not have permission to view this page."})});const n=(t==null?void 0:t.filter(a=>!a.is_read).length)||0;return s.jsxs("div",{className:"container mx-auto py-10",children:[s.jsx(jj,{title:"Admin Dashboard",description:"Review and manage events, venues, and creator requests."}),s.jsxs(ec,{defaultValue:"creator-requests",className:"mt-6",children:[s.jsxs(uo,{children:[s.jsxs(ur,{value:"creator-requests",className:"flex items-center gap-2",children:["Creator Requests",n>0&&s.jsx($r,{variant:"destructive",className:"h-5 min-w-5 text-xs",children:n})]}),s.jsx(ur,{value:"events",children:"Events"}),s.jsx(ur,{value:"venues",children:"Venues"})]}),s.jsx(dr,{value:"creator-requests",className:"mt-4",children:s.jsx(ZP,{requests:t||[]})}),s.jsx(dr,{value:"events",className:"mt-4",children:s.jsx(UW,{})}),s.jsx(dr,{value:"venues",className:"mt-4",children:s.jsx(BW,{})})]})]})};function qW(){return s.jsx(uS,{children:s.jsx(M5,{children:s.jsxs(EI,{children:[s.jsx(PW,{children:s.jsx(cA,{children:s.jsx(tA,{children:s.jsxs(Rt,{path:"/",element:s.jsx(PF,{}),children:[s.jsx(Rt,{index:!0,element:s.jsx(M8,{})}),s.jsx(Rt,{path:"events",element:s.jsx(U7,{})}),s.jsx(Rt,{path:"events/create",element:s.jsx(AV,{})}),s.jsx(Rt,{path:"events/:id",element:s.jsx(rz,{})}),s.jsx(Rt,{path:"events/:eventId/edit",element:s.jsx(IV,{})}),s.jsx(Rt,{path:"event",element:s.jsx(J4,{to:"/events",replace:!0})}),s.jsx(Rt,{path:"casual-plans",element:s.jsx(HV,{})}),s.jsx(Rt,{path:"friends",element:s.jsx(vq,{})}),s.jsx(Rt,{path:"profile",element:s.jsx(qq,{})}),s.jsx(Rt,{path:"profile/edit",element:s.jsx(rW,{})}),s.jsx(Rt,{path:"organise",element:s.jsx(DW,{})}),s.jsx(Rt,{path:"search",element:s.jsx(AW,{})}),s.jsx(Rt,{path:"admin",element:s.jsx(VW,{})}),s.jsx(Rt,{path:"login",element:s.jsx(cW,{})}),s.jsx(Rt,{path:"signup",element:s.jsx(vW,{})}),s.jsx(Rt,{path:"forgot-password",element:s.jsx(yW,{})}),s.jsx(Rt,{path:"reset-password",element:s.jsx(wW,{})}),s.jsx(Rt,{path:"goodbye",element:s.jsx(bW,{})}),s.jsx(Rt,{path:"privacy",element:s.jsx(_W,{})}),s.jsx(Rt,{path:"terms",element:s.jsx(jW,{})}),s.jsx(Rt,{path:"cookies",element:s.jsx(NW,{})}),s.jsx(Rt,{path:"design-system",element:s.jsx(EW,{})}),s.jsx(Rt,{path:"*",element:s.jsx(SW,{})})]})})})}),s.jsx(dS,{})]})})})}class WW extends x.Component{constructor(){super(...arguments);ws(this,"state",{hasError:!1})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n),this.setState({errorInfo:n})}render(){return this.state.hasError?s.jsxs("div",{style:{padding:"2rem",margin:"2rem",backgroundColor:"#fff0f0",border:"2px solid red",borderRadius:"8px",color:"black"},children:[s.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold"},children:"Something went wrong."}),s.jsx("p",{children:"We've encountered an unexpected error. Please try refreshing the page."}),s.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"0.5rem 1rem",marginTop:"1rem",border:"1px solid black",borderRadius:"4px",cursor:"pointer"},children:"Refresh Page"}),this.state.error&&s.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"1rem",backgroundColor:"#f0f0f0",padding:"1rem",borderRadius:"4px"},children:[s.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold"},children:"Error Details"}),s.jsxs("p",{children:[s.jsx("strong",{children:"Error:"})," ",this.state.error.toString()]}),this.state.errorInfo&&s.jsxs("p",{children:[s.jsx("strong",{children:"Stack Trace:"}),this.state.errorInfo.componentStack]})]})]}):this.props.children}}i4.createRoot(document.getElementById("root")).render(s.jsx(te.StrictMode,{children:s.jsx(WW,{children:s.jsx(qW,{})})}));
